var WD=Object.defineProperty,JD=Object.defineProperties;var YD=Object.getOwnPropertyDescriptors;var xg=Object.getOwnPropertySymbols;var KD=Object.prototype.hasOwnProperty,ZD=Object.prototype.propertyIsEnumerable;var Pg=(e,t,n)=>t in e?WD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||={})KD.call(t,n)&&Pg(e,n,t[n]);if(xg)for(var n of xg(t))ZD.call(t,n)&&Pg(e,n,t[n]);return e},B=(e,t)=>JD(e,YD(t));var Le=null,ws=!1,Dc=1,QD=null,Ge=Symbol("SIGNAL");function P(e){let t=Le;return Le=e,t}function Ms(){return Le}var $r={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yo(e){if(ws)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(e);let t=Le.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Le.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Le.producers,n!==void 0&&n.producer===e)){Le.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Le&&(!r||eI(o,Le)))return;let i=qr(Le),s={producer:e,consumer:Le,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Le.producersTail=s,t!==void 0?t.nextProducer=s:Le.producers=s,i&&Lg(e,s)}function kg(){Dc++}function Ic(e){if(!(qr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Dc)){if(!e.producerMustRecompute(e)&&!Zo(e)){_c(e);return}e.producerRecomputeValue(e),_c(e)}}function Tc(e){if(e.consumers===void 0)return;let t=ws;ws=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||XD(r)}}finally{ws=t}}function Sc(){return Le?.consumerAllowSignalWrites!==!1}function XD(e){e.dirty=!0,Tc(e),e.consumerMarkedDirty?.(e)}function _c(e){e.dirty=!1,e.lastCleanEpoch=Dc}function Gr(e){return e&&Fg(e),P(e)}function Fg(e){e.producersTail=void 0,e.recomputing=!0}function Ko(e,t){P(t),e&&Og(e)}function Og(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(qr(e))do n=wc(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function Zo(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Ic(n),r!==n.version))return!0}return!1}function tr(e){if(qr(e)){let t=e.producers;for(;t!==void 0;)t=wc(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Lg(e,t){let n=e.consumersTail,r=qr(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)Lg(o.producer,o)}function wc(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!qr(t)){let i=t.producers;for(;i!==void 0;)i=wc(i)}return n}function qr(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Ac(e){QD?.(e)}function eI(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Mc(e,t){return Object.is(e,t)}function bs(e,t){let n=Object.create(tI);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ic(n),Yo(n),n.value===As)throw n.error;return n.value};return r[Ge]=n,Ac(n),r}var Ec=Symbol("UNSET"),Cc=Symbol("COMPUTING"),As=Symbol("ERRORED"),tI=B(S({},$r),{value:Ec,dirty:!0,error:null,equal:Mc,kind:"computed",producerMustRecompute(e){return e.value===Ec||e.value===Cc},producerRecomputeValue(e){if(e.value===Cc)throw new Error("");let t=e.value;e.value=Cc;let n=Gr(e),r,o=!1;try{r=e.computation(),P(null),o=t!==Ec&&t!==As&&r!==As&&e.equal(t,r)}catch(i){r=As,e.error=i}finally{Ko(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function nI(){throw new Error}var Vg=nI;function Ug(e){Vg(e)}function bc(e){Vg=e}var rI=null;function Nc(e,t){let n=Object.create(Ns);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Bg(n);return r[Ge]=n,Ac(n),[r,s=>Qo(n,s),s=>Hg(n,s)]}function Bg(e){return Yo(e),e.value}function Qo(e,t){Sc()||Ug(e),e.equal(e.value,t)||(e.value=t,oI(e))}function Hg(e,t){Sc()||Ug(e),Qo(e,t(e.value))}var Ns=B(S({},$r),{equal:Mc,value:void 0,kind:"signal"});function oI(e){e.version++,kg(),Tc(e),rI?.(e)}function Rc(e){let t=P(null);try{return e()}finally{P(t)}}var xc=B(S({},$r),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Pc(e){if(e.dirty=!1,e.version>0&&!Zo(e))return;e.version++;let t=Gr(e);try{e.cleanup(),e.fn()}finally{Ko(e,t)}}function H(e){return typeof e=="function"}function zr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Rs=zr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ne=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(i){t=i instanceof Rs?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{$g(i)}catch(s){t=t??[],s instanceof Rs?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Rs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)$g(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Xo(n,t)}remove(t){let{_finalizers:n}=this;n&&Xo(n,t),t instanceof e&&t._removeParent(this)}};Ne.EMPTY=(()=>{let e=new Ne;return e.closed=!0,e})();var kc=Ne.EMPTY;function xs(e){return e instanceof Ne||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function $g(e){H(e)?e():e.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jr={setTimeout(e,t,...n){let{delegate:r}=jr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=jr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ps(e){jr.setTimeout(()=>{let{onUnhandledError:t}=_t;if(t)t(e);else throw e})}function ei(){}var Gg=Fc("C",void 0,void 0);function qg(e){return Fc("E",void 0,e)}function zg(e){return Fc("N",e,void 0)}function Fc(e,t,n){return{kind:e,value:t,error:n}}var nr=null;function Wr(e){if(_t.useDeprecatedSynchronousErrorHandling){let t=!nr;if(t&&(nr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=nr;if(nr=null,n)throw r}}else e()}function jg(e){_t.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=e)}var rr=class extends Ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,xs(t)&&t.add(this)):this.destination=aI}static create(t,n,r){return new Jr(t,n,r)}next(t){this.isStopped?Lc(zg(t),this):this._next(t)}error(t){this.isStopped?Lc(qg(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Lc(Gg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iI=Function.prototype.bind;function Oc(e,t){return iI.call(e,t)}var Vc=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ks(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ks(r)}else ks(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ks(n)}}},Jr=class extends rr{constructor(t,n,r){super();let o;if(H(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&_t.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Oc(t.next,i),error:t.error&&Oc(t.error,i),complete:t.complete&&Oc(t.complete,i)}):o=t}this.destination=new Vc(o)}};function ks(e){_t.useDeprecatedSynchronousErrorHandling?jg(e):Ps(e)}function sI(e){throw e}function Lc(e,t){let{onStoppedNotification:n}=_t;n&&jr.setTimeout(()=>n(e,t))}var aI={closed:!0,next:ei,error:sI,complete:ei};var Yr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(e){return e}function Uc(...e){return Bc(e)}function Bc(e){return e.length===0?Dt:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var Z=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=uI(n)?n:new Jr(n,r,o);return Wr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Wg(r),new r((o,i)=>{let s=new Jr({next:a=>{try{n(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Yr](){return this}pipe(...n){return Bc(n)(this)}toPromise(n){return n=Wg(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Wg(e){var t;return(t=e??_t.Promise)!==null&&t!==void 0?t:Promise}function lI(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}function uI(e){return e&&e instanceof rr||lI(e)&&xs(e)}function cI(e){return H(e?.lift)}function te(e){return t=>{if(cI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(e,t,n,r,o){return new Hc(e,t,n,r,o)}var Hc=class extends rr{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var Jg=zr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class e extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Jg}next(n){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?kc:(this.currentObservers=null,i.push(n),new Ne(()=>{this.currentObservers=null,Xo(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return e.create=(t,n)=>new Fs(t,n),e})(),Fs=class extends Ce{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:kc}};var Re=class extends Ce{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var xe=new Z(e=>e.complete());function Yg(e){return e&&H(e.schedule)}function Kg(e){return e[e.length-1]}function Os(e){return H(Kg(e))?e.pop():void 0}function bn(e){return Yg(Kg(e))?e.pop():void 0}function Qg(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(f){try{d(r.next(f))}catch(p){s(p)}}function u(f){try{d(r.throw(f))}catch(p){s(p)}}function d(f){f.done?i(f.value):o(f.value).then(a,u)}d((r=r.apply(e,t||[])).next())})}function Zg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function or(e){return this instanceof or?(this.v=e,this):new or(e)}function Xg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function a(g,m){r[g]&&(o[g]=function(y){return new Promise(function(E,v){i.push([g,y,E,v])>1||u(g,y)})},m&&(o[g]=m(o[g])))}function u(g,m){try{d(r[g](m))}catch(y){h(i[0][3],y)}}function d(g){g.value instanceof or?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function h(g,m){g(m),i.shift(),i.length&&u(i[0][0],i[0][1])}}function em(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Zg=="function"?Zg(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,u){s=e[i](s),o(a,u,s.done,s.value)})}}function o(i,s,a,u){Promise.resolve(u).then(function(d){i({value:d,done:a})},s)}}var Ls=e=>e&&typeof e.length=="number"&&typeof e!="function";function Vs(e){return H(e?.then)}function Us(e){return H(e[Yr])}function Bs(e){return Symbol.asyncIterator&&H(e?.[Symbol.asyncIterator])}function Hs(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $s=dI();function Gs(e){return H(e?.[$s])}function qs(e){return Xg(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield or(n.read());if(o)return yield or(void 0);yield yield or(r)}}finally{n.releaseLock()}})}function zs(e){return H(e?.getReader)}function _e(e){if(e instanceof Z)return e;if(e!=null){if(Us(e))return fI(e);if(Ls(e))return pI(e);if(Vs(e))return hI(e);if(Bs(e))return tm(e);if(Gs(e))return gI(e);if(zs(e))return mI(e)}throw Hs(e)}function fI(e){return new Z(t=>{let n=e[Yr]();if(H(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pI(e){return new Z(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function hI(e){return new Z(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ps)})}function gI(e){return new Z(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function tm(e){return new Z(t=>{yI(e,t).catch(n=>t.error(n))})}function mI(e){return tm(qs(e))}function yI(e,t){var n,r,o,i;return Qg(this,void 0,void 0,function*(){try{for(n=em(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Ze(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function js(e,t=0){return te((n,r)=>{n.subscribe(ne(r,o=>Ze(r,e,()=>r.next(o),t),()=>Ze(r,e,()=>r.complete(),t),o=>Ze(r,e,()=>r.error(o),t)))})}function Ws(e,t=0){return te((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function nm(e,t){return _e(e).pipe(Ws(t),js(t))}function rm(e,t){return _e(e).pipe(Ws(t),js(t))}function om(e,t){return new Z(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function im(e,t){return new Z(n=>{let r;return Ze(n,t,()=>{r=e[$s](),Ze(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>H(r?.return)&&r.return()})}function Js(e,t){if(!e)throw new Error("Iterable cannot be null");return new Z(n=>{Ze(n,t,()=>{let r=e[Symbol.asyncIterator]();Ze(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function sm(e,t){return Js(qs(e),t)}function am(e,t){if(e!=null){if(Us(e))return nm(e,t);if(Ls(e))return om(e,t);if(Vs(e))return rm(e,t);if(Bs(e))return Js(e,t);if(Gs(e))return im(e,t);if(zs(e))return sm(e,t)}throw Hs(e)}function De(e,t){return t?am(e,t):_e(e)}function K(...e){let t=bn(e);return De(e,t)}function $c(e,t){let n=H(e)?e:()=>e,r=o=>o.error(n());return new Z(t?o=>t.schedule(r,0,o):r)}function Ys(e){return!!e&&(e instanceof Z||H(e.lift)&&H(e.subscribe))}var ir=zr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(e,t){return te((n,r)=>{let o=0;n.subscribe(ne(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:vI}=Array;function EI(e,t){return vI(t)?e(...t):e(t)}function Ks(e){return pe(t=>EI(e,t))}var{isArray:CI}=Array,{getPrototypeOf:_I,prototype:DI,keys:II}=Object;function Zs(e){if(e.length===1){let t=e[0];if(CI(t))return{args:t,keys:null};if(TI(t)){let n=II(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function TI(e){return e&&typeof e=="object"&&_I(e)===DI}function Qs(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Gc(...e){let t=bn(e),n=Os(e),{args:r,keys:o}=Zs(e);if(r.length===0)return De([],t);let i=new Z(SI(r,t,o?s=>Qs(o,s):Dt));return n?i.pipe(Ks(n)):i}function SI(e,t,n=Dt){return r=>{lm(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let u=0;u<o;u++)lm(t,()=>{let d=De(e[u],t),f=!1;d.subscribe(ne(r,p=>{i[u]=p,f||(f=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lm(e,t,n){e?Ze(n,e,t):t()}function um(e,t,n,r,o,i,s,a){let u=[],d=0,f=0,p=!1,h=()=>{p&&!u.length&&!d&&t.complete()},g=y=>d<r?m(y):u.push(y),m=y=>{i&&t.next(y),d++;let E=!1;_e(n(y,f++)).subscribe(ne(t,v=>{o?.(v),i?g(v):t.next(v)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;u.length&&d<r;){let v=u.shift();s?Ze(t,s,()=>m(v)):m(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(ne(t,g,()=>{p=!0,h()})),()=>{a?.()}}function qe(e,t,n=1/0){return H(t)?qe((r,o)=>pe((i,s)=>t(r,i,o,s))(_e(e(r,o))),n):(typeof t=="number"&&(n=t),te((r,o)=>um(r,o,e,n)))}function cm(e=1/0){return qe(Dt,e)}function dm(){return cm(1)}function Kr(...e){return dm()(De(e,bn(e)))}function ti(e){return new Z(t=>{_e(e()).subscribe(t)})}function qc(...e){let t=Os(e),{args:n,keys:r}=Zs(e),o=new Z(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),u=s,d=s;for(let f=0;f<s;f++){let p=!1;_e(n[f]).subscribe(ne(i,h=>{p||(p=!0,d--),a[f]=h},()=>u--,void 0,()=>{(!u||!p)&&(d||i.next(r?Qs(r,a):a),i.complete())}))}});return t?o.pipe(Ks(t)):o}function an(e,t){return te((n,r)=>{let o=0;n.subscribe(ne(r,i=>e.call(t,i,o++)&&r.next(i)))})}function ni(e){return te((t,n)=>{let r=null,o=!1,i;r=t.subscribe(ne(n,void 0,void 0,s=>{i=_e(e(s,ni(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Xs(e,t){return H(t)?qe(e,t,1):qe(e,1)}function fm(e){return te((t,n)=>{let r=!1;t.subscribe(ne(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function ln(e){return e<=0?()=>xe:te((t,n)=>{let r=0;t.subscribe(ne(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function pm(e=wI){return te((t,n)=>{let r=!1;t.subscribe(ne(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function wI(){return new ir}function zc(e){return te((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function un(e,t){let n=arguments.length>=2;return r=>r.pipe(e?an((o,i)=>e(o,i,r)):Dt,ln(1),n?fm(t):pm(()=>new ir))}function ea(e){return e<=0?()=>xe:te((t,n)=>{let r=[];t.subscribe(ne(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function jc(...e){let t=bn(e);return te((n,r)=>{(t?Kr(e,n,t):Kr(e,n)).subscribe(r)})}function cn(e,t){return te((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(ne(r,u=>{o?.unsubscribe();let d=0,f=i++;_e(e(u,f)).subscribe(o=ne(r,p=>r.next(t?t(u,p,f,d++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ri(e){return te((t,n)=>{_e(e).subscribe(ne(n,()=>n.complete(),ei)),!n.closed&&t.subscribe(n)})}function qt(e,t,n){let r=H(e)||t||n?{next:e,error:t,complete:n}:e;return r?te((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(ne(i,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),i.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),i.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),i.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Dt}var Wc;function ta(){return Wc}function zt(e){let t=Wc;return Wc=e,t}var hm=Symbol("NotFound");function Zr(e){return e===hm||e?.name==="\u0275NotFound"}var la="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(t,n){super(jt(t,n)),this.code=t}};function AI(e){return`NG0${Math.abs(e)}`}function jt(e,t){return`${AI(e)}${t?": "+t:""}`}var ci=globalThis;function re(e){for(let t in e)if(e[t]===re)return t;throw Error("")}function Em(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function fn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(fn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ua(e,t){return e?t?`${e} ${t}`:e:t||""}var MI=re({__forward_ref__:re});function dt(e){return e.__forward_ref__=dt,e.toString=function(){return fn(this())},e}function Pe(e){return sd(e)?e():e}function sd(e){return typeof e=="function"&&e.hasOwnProperty(MI)&&e.__forward_ref__===dt}function x(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function It(e){return{providers:e.providers||[],imports:e.imports||[]}}function di(e){return bI(e,ca)}function ad(e){return di(e)!==null}function bI(e,t){return e.hasOwnProperty(t)&&e[t]||null}function NI(e){let t=e?.[ca]??null;return t||null}function Yc(e){return e&&e.hasOwnProperty(ra)?e[ra]:null}var ca=re({\u0275prov:re}),ra=re({\u0275inj:re}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ld(e){return e&&!!e.\u0275providers}var ud=re({\u0275cmp:re}),cd=re({\u0275dir:re}),dd=re({\u0275pipe:re}),fd=re({\u0275mod:re}),ii=re({\u0275fac:re}),dr=re({__NG_ELEMENT_ID__:re}),gm=re({__NG_ENV_ID__:re});function pd(e){return da(e,"@NgModule"),e[fd]||null}function Pn(e){return da(e,"@Component"),e[ud]||null}function hd(e){return da(e,"@Directive"),e[cd]||null}function Cm(e){return da(e,"@Pipe"),e[dd]||null}function da(e,t){if(e==null)throw new b(-919,!1)}function fa(e){return typeof e=="string"?e:e==null?"":String(e)}var _m=re({ngErrorCode:re}),RI=re({ngErrorMessage:re}),xI=re({ngTokenPath:re});function gd(e,t){return Dm("",-200,t)}function pa(e,t){throw new b(-201,!1)}function Dm(e,t,n){let r=new b(t,e);return r[_m]=t,r[RI]=e,n&&(r[xI]=n),r}function PI(e){return e[_m]}var Kc;function Im(){return Kc}function ot(e){let t=Kc;return Kc=e,t}function md(e,t,n){let r=di(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;pa(e,"")}var kI={},sr=kI,FI="__NG_DI_FLAG__",Zc=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ar(n)||0;try{return this.injector.get(t,r&8?null:sr,r)}catch(o){if(Zr(o))return o;throw o}}};function OI(e,t=0){let n=ta();if(n===void 0)throw new b(-203,!1);if(n===null)return md(e,void 0,t);{let r=LI(t),o=n.retrieve(e,r);if(Zr(o)){if(r.optional)return null;throw o}return o}}function $(e,t=0){return(Im()||OI)(Pe(e),t)}function D(e,t){return $(e,ar(t))}function ar(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function LI(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Qc(e){let t=[];for(let n=0;n<e.length;n++){let r=Pe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],u=VI(a);typeof u=="number"?u===-1?o=a.token:i|=u:o=a}t.push($(o,i))}else t.push($(r))}return t}function VI(e){return e[FI]}function lr(e,t){let n=e.hasOwnProperty(ii);return n?e[ii]:null}function Tm(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Sm(e){return e.flat(Number.POSITIVE_INFINITY)}function ha(e,t){e.forEach(n=>Array.isArray(n)?ha(n,t):t(n))}function yd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function fi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wm(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Am(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function ga(e,t,n){let r=Xr(e,t);return r>=0?e[r|1]=n:(r=~r,Am(e,r,t,n)),r}function ma(e,t){let n=Xr(e,t);if(n>=0)return e[n|1]}function Xr(e,t){return UI(e,t,1)}function UI(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var kn={},ze=[],eo=new R(""),vd=new R("",-1),Ed=new R(""),si=class{get(t,n=sr){if(n===sr){let o=Dm("",-201);throw o.name="\u0275NotFound",o}return n}};function pi(e){return{\u0275providers:e}}function Mm(...e){return{\u0275providers:Cd(!0,e),\u0275fromNgModule:!0}}function Cd(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return ha(t,s=>{let a=s;oa(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&bm(o,i),n}function bm(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];_d(o,i=>{t(i,r)})}}function oa(e,t,n,r){if(e=Pe(e),!e)return!1;let o=null,i=Yc(e),s=!i&&Pn(e);if(!i&&!s){let u=e.ngModule;if(i=Yc(u),i)o=u;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)oa(d,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let d;ha(i.imports,f=>{oa(f,t,n,r)&&(d||=[],d.push(f))}),d!==void 0&&bm(d,t)}if(!a){let d=lr(o)||(()=>new o);t({provide:o,useFactory:d,deps:ze},o),t({provide:Ed,useValue:o,multi:!0},o),t({provide:eo,useValue:()=>$(o),multi:!0},o)}let u=i.providers;if(u!=null&&!a){let d=e;_d(u,f=>{t(f,d)})}}else return!1;return o!==e&&e.providers!==void 0}function _d(e,t){for(let n of e)ld(n)&&(n=n.\u0275providers),Array.isArray(n)?_d(n,t):t(n)}var BI=re({provide:String,useValue:re});function Nm(e){return e!==null&&typeof e=="object"&&BI in e}function HI(e){return!!(e&&e.useExisting)}function $I(e){return!!(e&&e.useFactory)}function ur(e){return typeof e=="function"}function Rm(e){return!!e.useClass}var hi=new R(""),na={},mm={},Jc;function gi(){return Jc===void 0&&(Jc=new si),Jc}var Ie=class{},cr=class extends Ie{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,ed(t,s=>this.processProvider(s)),this.records.set(vd,Qr(void 0,this)),o.has("environment")&&this.records.set(Ie,Qr(void 0,this));let i=this.records.get(hi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ed,ze,{self:!0}))}retrieve(t,n){let r=ar(n)||0;try{return this.get(t,sr,r)}catch(o){if(Zr(o))return o;throw o}}destroy(){oi(this),this._destroyed=!0;let t=P(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(t)}}onDestroy(t){return oi(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){oi(this);let n=zt(this),r=ot(void 0),o;try{return t()}finally{zt(n),ot(r)}}get(t,n=sr,r){if(oi(this),t.hasOwnProperty(gm))return t[gm](this);let o=ar(r),i,s=zt(this),a=ot(void 0);try{if(!(o&4)){let d=this.records.get(t);if(d===void 0){let f=WI(t)&&di(t);f&&this.injectableDefInScope(f)?d=Qr(Xc(t),na):d=null,this.records.set(t,d)}if(d!=null)return this.hydrate(t,d,o)}let u=o&2?gi():this.parent;return n=o&8&&n===sr?null:n,u.get(t,n)}catch(u){let d=PI(u);throw d===-200||d===-201?new b(d,null):u}finally{ot(a),zt(s)}}resolveInjectorInitializers(){let t=P(null),n=zt(this),r=ot(void 0),o;try{let i=this.get(eo,ze,{self:!0});for(let s of i)s()}finally{zt(n),ot(r),P(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(fn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Pe(t);let n=ur(t)?t:Pe(t&&t.provide),r=qI(t);if(!ur(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Qr(void 0,na,!0),o.factory=()=>Qc(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=P(null);try{if(n.value===mm)throw gd(fn(t));return n.value===na&&(n.value=mm,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&jI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Pe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xc(e){let t=di(e),n=t!==null?t.factory:lr(e);if(n!==null)return n;if(e instanceof R)throw new b(204,!1);if(e instanceof Function)return GI(e);throw new b(204,!1)}function GI(e){if(e.length>0)throw new b(204,!1);let n=NI(e);return n!==null?()=>n.factory(e):()=>new e}function qI(e){if(Nm(e))return Qr(void 0,e.useValue);{let t=Dd(e);return Qr(t,na)}}function Dd(e,t,n){let r;if(ur(e)){let o=Pe(e);return lr(o)||Xc(o)}else if(Nm(e))r=()=>Pe(e.useValue);else if($I(e))r=()=>e.useFactory(...Qc(e.deps||[]));else if(HI(e))r=(o,i)=>$(Pe(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Pe(e&&(e.useClass||e.provide));if(zI(e))r=()=>new o(...Qc(e.deps));else return lr(o)||Xc(o)}return r}function oi(e){if(e.destroyed)throw new b(205,!1)}function Qr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function zI(e){return!!e.deps}function jI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function WI(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function ed(e,t){for(let n of e)Array.isArray(n)?ed(n,t):n&&ld(n)?ed(n.\u0275providers,t):t(n)}function Ue(e,t){let n;e instanceof cr?(oi(e),n=e):n=new Zc(e);let r,o=zt(n),i=ot(void 0);try{return t()}finally{zt(o),ot(i)}}function xm(){return Im()!==void 0||ta()!=null}var Tt=0,k=1,O=2,Ae=3,ft=4,We=5,fr=6,to=7,ve=8,pn=9,Wt=10,ue=11,no=12,Id=13,pr=14,Je=15,Fn=16,hr=17,Jt=18,hn=19,Td=20,dn=21,ya=22,Nn=23,it=24,gr=25,mr=26,Te=27,Pm=1,Sd=6,On=7,mi=8,yr=9,ge=10;function Yt(e){return Array.isArray(e)&&typeof e[Pm]=="object"}function St(e){return Array.isArray(e)&&e[Pm]===!0}function wd(e){return(e.flags&4)!==0}function Ln(e){return e.componentOffset>-1}function yi(e){return(e.flags&1)===1}function Kt(e){return!!e.template}function ro(e){return(e[O]&512)!==0}function vr(e){return(e[O]&256)===256}var km="svg",Fm="math";function pt(e){for(;Array.isArray(e);)e=e[Tt];return e}function Ad(e,t){return pt(t[e])}function wt(e,t){return pt(t[e.index])}function vi(e,t){return e.data[t]}function ht(e,t){let n=t[e];return Yt(n)?n:n[Tt]}function Om(e){return(e[O]&4)===4}function va(e){return(e[O]&128)===128}function Lm(e){return St(e[Ae])}function gt(e,t){return t==null?null:e[t]}function Md(e){e[hr]=0}function bd(e){e[O]&1024||(e[O]|=1024,va(e)&&Er(e))}function Vm(e,t){for(;e>0;)t=t[pr],e--;return t}function Ei(e){return!!(e[O]&9216||e[it]?.dirty)}function Ea(e){e[Wt].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),Ei(e)&&Er(e)}function Er(e){e[Wt].changeDetectionScheduler?.notify(0);let t=Rn(e);for(;t!==null&&!(t[O]&8192||(t[O]|=8192,!va(t)));)t=Rn(t)}function Nd(e,t){if(vr(e))throw new b(911,!1);e[dn]===null&&(e[dn]=[]),e[dn].push(t)}function Um(e,t){if(e[dn]===null)return;let n=e[dn].indexOf(t);n!==-1&&e[dn].splice(n,1)}function Rn(e){let t=e[Ae];return St(t)?t[Ae]:t}function Rd(e){return e[to]??=[]}function xd(e){return e.cleanup??=[]}function Bm(e,t,n,r){let o=Rd(t);o.push(n),e.firstCreatePass&&xd(e).push(r,o.length-1)}var Y={lFrame:Km(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var td=!1;function Hm(){return Y.lFrame.elementDepthCount}function $m(){Y.lFrame.elementDepthCount++}function Pd(){Y.lFrame.elementDepthCount--}function kd(){return Y.bindingsEnabled}function Fd(){return Y.skipHydrationRootTNode!==null}function Od(e){return Y.skipHydrationRootTNode===e}function Ld(){Y.skipHydrationRootTNode=null}function G(){return Y.lFrame.lView}function me(){return Y.lFrame.tView}function Zt(e){return Y.lFrame.contextLView=e,e[ve]}function Qt(e){return Y.lFrame.contextLView=null,e}function ke(){let e=Vd();for(;e!==null&&e.type===64;)e=e.parent;return e}function Vd(){return Y.lFrame.currentTNode}function Gm(){let e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function oo(e,t){let n=Y.lFrame;n.currentTNode=e,n.isParent=t}function Ud(){return Y.lFrame.isParent}function Bd(){Y.lFrame.isParent=!1}function Hd(){return td}function ai(e){let t=td;return td=e,t}function qm(e){return Y.lFrame.bindingIndex=e}function Vn(){return Y.lFrame.bindingIndex++}function $d(e){let t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function zm(){return Y.lFrame.inI18n}function jm(e,t){let n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ca(t)}function Wm(){return Y.lFrame.currentDirectiveIndex}function Ca(e){Y.lFrame.currentDirectiveIndex=e}function Jm(e){let t=Y.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Gd(){return Y.lFrame.currentQueryIndex}function _a(e){Y.lFrame.currentQueryIndex=e}function JI(e){let t=e[k];return t.type===2?t.declTNode:t.type===1?e[We]:null}function qd(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=JI(i),o===null||(i=i[pr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=Y.lFrame=Ym();return r.currentTNode=t,r.lView=e,!0}function Da(e){let t=Ym(),n=e[k];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ym(){let e=Y.lFrame,t=e===null?null:e.child;return t===null?Km(e):t}function Km(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Zm(){let e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var zd=Zm;function Ia(){let e=Zm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qm(e){return(Y.lFrame.contextLView=Vm(e,Y.lFrame.contextLView))[ve]}function gn(){return Y.lFrame.selectedIndex}function Un(e){Y.lFrame.selectedIndex=e}function Ci(){let e=Y.lFrame;return vi(e.tView,e.selectedIndex)}function Xm(){return Y.lFrame.currentNamespace}var ey=!0;function Ta(){return ey}function Sa(e){ey=e}function nd(e,t=null,n=null,r){let o=jd(e,t,n,r);return o.resolveInjectorInitializers(),o}function jd(e,t=null,n=null,r,o=new Set){let i=[n||ze,Mm(e)];return r=r||(typeof e=="object"?void 0:fn(e)),new cr(i,t||gi(),r||null,o)}var Ve=class e{static THROW_IF_NOT_FOUND=sr;static NULL=new si;static create(t,n){if(Array.isArray(t))return nd({name:""},n,t,"");{let r=t.name??"";return nd({name:r},t.parent,t.providers,r)}}static \u0275prov=x({token:e,providedIn:"any",factory:()=>$(vd)});static __NG_ELEMENT_ID__=-1},Se=new R(""),Ye=(()=>{class e{static __NG_ELEMENT_ID__=YI;static __NG_ENV_ID__=n=>n}return e})(),ia=class extends Ye{_lView;constructor(t){super(),this._lView=t}get destroyed(){return vr(this._lView)}onDestroy(t){let n=this._lView;return Nd(n,t),()=>Um(n,t)}};function YI(){return new ia(G())}var ty=!1,ny=new R(""),Bn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Re(!1);debugTaskTracker=D(ny,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Z(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),rd=class extends Ce{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,xm()&&(this.destroyRef=D(Ye,{optional:!0})??void 0,this.pendingTasks=D(Bn,{optional:!0})??void 0)}emit(t){let n=P(null);try{super.next(t)}finally{P(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let u=t;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof Ne&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},he=rd;function sa(...e){}function Wd(e){let t,n;function r(){e=sa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function ry(e){return queueMicrotask(()=>e()),()=>{e=sa}}var Jd="isAngularZone",li=Jd+"_ID",KI=0,je=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new he(!1);onMicrotaskEmpty=new he(!1);onStable=new he(!1);onError=new he(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ty}=t;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,XI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Jd)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,ZI,sa,sa);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},ZI={};function Yd(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function QI(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Wd(()=>{e.callbackScheduled=!1,od(e),e.isCheckStableRunning=!0,Yd(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),od(e)}function XI(e){let t=()=>{QI(e)},n=KI++;e._inner=e._inner.fork({name:"angular",properties:{[Jd]:!0,[li]:n,[li+n]:!0},onInvokeTask:(r,o,i,s,a,u)=>{if(eT(u))return r.invokeTask(i,s,a,u);try{return ym(e),r.invokeTask(i,s,a,u)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),vm(e)}},onInvoke:(r,o,i,s,a,u,d)=>{try{return ym(e),r.invoke(i,s,a,u,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!tT(u)&&t(),vm(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,od(e),Yd(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function od(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function ym(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vm(e){e._nesting--,Yd(e)}var ui=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new he;onMicrotaskEmpty=new he;onStable=new he;onError=new he;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function eT(e){return oy(e,"__ignore_ng_zone__")}function tT(e){return oy(e,"__scheduler_tick__")}function oy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var ct=class{_console=console;handleError(t){this._console.error("ERROR",t)}},At=new R("",{factory:()=>{let e=D(je),t=D(Ie),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(ct),n.handleError(r))})}}}),iy={provide:eo,useValue:()=>{let e=D(ct,{optional:!0})},multi:!0};function oe(e,t){let[n,r,o]=Nc(e,t?.equal),i=n,s=i[Ge];return i.set=r,i.update=o,i.asReadonly=Kd.bind(i),i}function Kd(){let e=this[Ge];if(e.readonlyFn===void 0){let t=()=>this();t[Ge]=e,e.readonlyFn=t}return e.readonlyFn}var _i=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=nT}return e})();function nT(){return new _i(G(),ke())}var xn=class{},Di=new R("",{factory:()=>!0});var Zd=new R("");var wa=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new id})}return e})(),id=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},aa=class{[Ge];constructor(t){this[Ge]=t}destroy(){this[Ge].destroy()}};function Aa(e,t){let n=t?.injector??D(Ve),r=t?.manualCleanup!==!0?n.get(Ye):null,o,i=n.get(_i,null,{optional:!0}),s=n.get(xn);return i!==null?(o=iT(i.view,s,e),r instanceof ia&&r._lView===i.view&&(r=null)):o=sT(e,n.get(wa),s),o.injector=n,r!==null&&(o.onDestroyFns=[r.onDestroy(()=>o.destroy())]),new aa(o)}var sy=B(S({},xc),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let e=ai(!1);try{Pc(this)}finally{ai(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=P(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],P(e)}}}),rT=B(S({},sy),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(tr(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.scheduler.remove(this)}}),oT=B(S({},sy),{consumerMarkedDirty(){this.view[O]|=8192,Er(this.view),this.notifier.notify(13)},destroy(){if(tr(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.view[Nn]?.delete(this)}});function iT(e,t,n){let r=Object.create(oT);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=ay(r,n),e[Nn]??=new Set,e[Nn].add(r),r.consumerMarkedDirty(r),r}function sT(e,t,n){let r=Object.create(rT);return r.fn=ay(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function ay(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}function ye(e){return Rc(e)}function Ri(e){return{toString:e}.toString()}function gT(e){return typeof e=="function"}function Ly(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Fa=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},mt=(()=>{let e=()=>Vy;return e.ngInherit=!0,e})();function Vy(e){return e.type.prototype.ngOnChanges&&(e.setInput=yT),mT}function mT(){let e=By(this),t=e?.current;if(t){let n=e.previous;if(n===kn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function yT(e,t,n,r,o){let i=this.declaredInputs[r],s=By(e)||vT(e,{previous:kn,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[i];a[i]=new Fa(d&&d.currentValue,n,u===kn),Ly(e,t,o,n)}var Uy="__ngSimpleChanges__";function By(e){return e[Uy]||null}function vT(e,t){return e[Uy]=t}var ly=[];var ie=function(e,t=null,n){for(let r=0;r<ly.length;r++){let o=ly[r];o(e,t,n)}},Q=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(Q||{});function ET(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Vy(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Hy(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),u&&(e.viewHooks??=[]).push(-n,u),d&&((e.viewHooks??=[]).push(n,d),(e.viewCheckHooks??=[]).push(n,d)),f!=null&&(e.destroyHooks??=[]).push(n,f)}}function Na(e,t,n){$y(e,t,3,n)}function Ra(e,t,n,r){(e[O]&3)===n&&$y(e,t,n,r)}function Qd(e,t){let n=e[O];(n&3)===t&&(n&=16383,n+=1,e[O]=n)}function $y(e,t,n,r){let o=r!==void 0?e[hr]&65535:0,i=r??-1,s=t.length-1,a=0;for(let u=o;u<s;u++)if(typeof t[u+1]=="number"){if(a=t[u],r!=null&&a>=r)break}else t[u]<0&&(e[hr]+=65536),(a<i||i==-1)&&(CT(e,n,t,u),e[hr]=(e[hr]&4294901760)+u+2),u++}function uy(e,t){ie(Q.LifecycleHookStart,e,t);let n=P(null);try{t.call(e)}finally{P(n),ie(Q.LifecycleHookEnd,e,t)}}function CT(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[O]>>14<e[hr]>>16&&(e[O]&3)===t&&(e[O]+=16384,uy(a,i)):uy(a,i)}var so=-1,_r=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function _T(e){return(e.flags&8)!==0}function DT(e){return(e.flags&16)!==0}function IT(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];TT(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Gy(e){return e===3||e===4||e===6}function TT(e){return e.charCodeAt(0)===64}function ao(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?cy(e,n,o,null,t[++r]):cy(e,n,o,null,null))}}return e}function cy(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function qy(e){return e!==so}function Oa(e){return e&32767}function ST(e){return e>>16}function La(e,t){let n=ST(e),r=t;for(;n>0;)r=r[pr],n--;return r}var uf=!0;function dy(e){let t=uf;return uf=e,t}var wT=256,zy=wT-1,jy=5,AT=0,Xt={};function MT(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(dr)&&(r=n[dr]),r==null&&(r=n[dr]=AT++);let o=r&zy,i=1<<o;t.data[e+(o>>jy)]|=i}function Va(e,t){let n=Wy(e,t);if(n!==-1)return n;let r=t[k];r.firstCreatePass&&(e.injectorIndex=t.length,Xd(r.data,e),Xd(t,null),Xd(r.blueprint,null));let o=Of(e,t),i=e.injectorIndex;if(qy(o)){let s=Oa(o),a=La(o,t),u=a[k].data;for(let d=0;d<8;d++)t[i+d]=a[s+d]|u[s+d]}return t[i+8]=o,i}function Xd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Of(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=Qy(o),r===null)return so;if(n++,o=o[pr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return so}function cf(e,t,n){MT(e,t,n)}function bT(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(Gy(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function Jy(e,t,n){if(n&8||e!==void 0)return e;pa(t,"NodeInjector")}function Yy(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[pn],i=ot(void 0);try{return o?o.get(t,r,n&8):md(t,r,n&8)}finally{ot(i)}}return Jy(r,t,n)}function Ky(e,t,n,r=0,o){if(e!==null){if(t[O]&2048&&!(r&2)){let s=PT(e,t,n,r,Xt);if(s!==Xt)return s}let i=Zy(e,t,n,r,Xt);if(i!==Xt)return i}return Yy(t,n,r,o)}function Zy(e,t,n,r,o){let i=RT(n);if(typeof i=="function"){if(!qd(t,e,r))return r&1?Jy(o,n,r):Yy(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))pa(n);else return s}finally{zd()}}else if(typeof i=="number"){let s=null,a=Wy(e,t),u=so,d=r&1?t[Je][We]:null;for((a===-1||r&4)&&(u=a===-1?Of(e,t):t[a+8],u===so||!py(r,!1)?a=-1:(s=t[k],a=Oa(u),t=La(u,t)));a!==-1;){let f=t[k];if(fy(i,a,f.data)){let p=NT(a,t,n,s,r,d);if(p!==Xt)return p}u=t[a+8],u!==so&&py(r,t[k].data[a+8]===d)&&fy(i,a,t)?(s=f,a=Oa(u),t=La(u,t)):a=-1}}return o}function NT(e,t,n,r,o,i){let s=t[k],a=s.data[e+8],u=r==null?Ln(a)&&uf:r!=s&&(a.type&3)!==0,d=o&1&&i===a,f=xa(a,s,n,u,d);return f!==null?Si(t,s,f,a,o):Xt}function xa(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,u=e.directiveStart,d=e.directiveEnd,f=i>>20,p=r?a:a+f,h=o?a+f:d;for(let g=p;g<h;g++){let m=s[g];if(g<u&&n===m||g>=u&&m.type===n)return g}if(o){let g=s[u];if(g&&Kt(g)&&g.type===n)return u}return null}function Si(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof _r){let a=i;if(a.resolving)throw gd("");let u=dy(a.canSeeViewProviders);a.resolving=!0;let d=s[n].type||s[n],f,p=a.injectImpl?ot(a.injectImpl):null,h=qd(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&ET(n,s[n],t)}finally{p!==null&&ot(p),dy(u),a.resolving=!1,zd()}}return i}function RT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(dr)?e[dr]:void 0;return typeof t=="number"?t>=0?t&zy:xT:t}function fy(e,t,n){let r=1<<e;return!!(n[t+(e>>jy)]&r)}function py(e,t){return!(e&2)&&!(e&1&&t)}var Cr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ky(this._tNode,this._lView,t,ar(r),n)}};function xT(){return new Cr(ke(),G())}function mn(e){return Ri(()=>{let t=e.prototype.constructor,n=t[ii]||df(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[ii]||df(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function df(e){return sd(e)?()=>{let t=df(Pe(e));return t&&t()}:lr(e)}function PT(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[O]&2048&&!ro(s);){let a=Zy(i,s,n,r|2,Xt);if(a!==Xt)return a;let u=i.parent;if(!u){let d=s[Td];if(d){let f=d.get(n,Xt,r);if(f!==Xt)return f}u=Qy(s),s=s[pr]}i=u}return o}function Qy(e){let t=e[k],n=t.type;return n===2?t.declTNode:n===1?e[We]:null}function xi(e){return bT(ke(),e)}function kT(){return po(ke(),G())}function po(e,t){return new Fe(wt(e,t))}var Fe=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=kT}return e})();function FT(e){return e instanceof Fe?e.nativeElement:e}function OT(){return this._results[Symbol.iterator]()}var Ua=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ce}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Sm(t);(this._changesDetected=!Tm(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=OT};function Xy(e){return(e.flags&128)===128}var Lf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Lf||{}),ev=new Map,LT=0;function VT(){return LT++}function UT(e){ev.set(e[hn],e)}function ff(e){ev.delete(e[hn])}var hy="__ngContext__";function lo(e,t){Yt(t)?(e[hy]=t[hn],UT(t)):e[hy]=t}function tv(e){return rv(e[no])}function nv(e){return rv(e[ft])}function rv(e){for(;e!==null&&!St(e);)e=e[ft];return e}var BT;function Vf(e){BT=e}var Xa=new R("",{factory:()=>HT}),HT="ng";var el=new R(""),Pi=new R("",{providedIn:"platform",factory:()=>"unknown"});var tl=new R("",{factory:()=>D(Se).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),nl={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},rl=new R("",{factory:()=>nl});var ov="r";var iv="di";var sv=!1,av=new R("",{factory:()=>sv});var $T=(e,t,n,r)=>{};function GT(e,t,n,r){$T(e,t,n,r)}function ol(e){return(e.flags&32)===32}var qT=()=>null;function lv(e,t,n=!1){return qT(e,t,n)}function uv(e,t){let n=e.contentQueries;if(n!==null){let r=P(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];_a(i),a.contentQueries(2,t[s],s)}}}finally{P(r)}}}function pf(e,t,n){_a(0);let r=P(null);try{t(e,n)}finally{P(r)}}function cv(e,t,n){if(wd(t)){let r=P(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{P(r)}}}var Nt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Nt||{});var Ma;function zT(){if(Ma===void 0&&(Ma=null,ci.trustedTypes))try{Ma=ci.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ma}function gy(e){return zT()?.createScriptURL(e)||e}var Ba=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${la})`}};function Ar(e){return e instanceof Ba?e.changingThisBreaksApplicationSecurity:e}function Uf(e,t){let n=dv(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${la})`)}return n===t}function dv(e){return e instanceof Ba&&e.getTypeName()||null}var jT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fv(e){return e=String(e),e.match(jT)?e:"unsafe:"+e}function WT(e,t){return e.createText(t)}function JT(e,t,n){e.setValue(t,n)}function pv(e,t,n){return e.createElement(t,n)}function Ha(e,t,n,r,o){e.insertBefore(t,n,r,o)}function hv(e,t,n){e.appendChild(t,n)}function my(e,t,n,r,o){r!==null?Ha(e,t,n,r,o):hv(e,t,n)}function gv(e,t,n,r){e.removeChild(null,t,n,r)}function YT(e,t,n){e.setAttribute(t,"style",n)}function KT(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function mv(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&IT(e,t,r),o!==null&&KT(e,t,o),i!==null&&YT(e,t,i)}var il=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(il||{});function yv(e){let t=Ev();return t?t.sanitize(il.URL,e)||"":Uf(e,"URL")?Ar(e):fv(fa(e))}function vv(e){let t=Ev();if(t)return gy(t.sanitize(il.RESOURCE_URL,e)||"");if(Uf(e,"ResourceURL"))return gy(Ar(e));throw new b(904,!1)}var ZT=new Set(["embed","frame","iframe","media","script"]),QT=new Set(["base","link","script"]);function XT(e,t){return t==="src"&&ZT.has(e)||t==="href"&&QT.has(e)||t==="xlink:href"&&e==="script"?vv:yv}function Bf(e,t,n){return XT(t,n)(e)}function Ev(){let e=G();return e&&e[Wt].sanitizer}function Hf(e){return e.ownerDocument.defaultView}function Cv(e){return e instanceof Function?e():e}function eS(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var _v="ng-template";function tS(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&eS(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if($f(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function $f(e){return e.type===4&&e.value!==_v}function nS(e,t,n){let r=e.type===4&&!n?_v:e.value;return t===r}function rS(e,t,n){let r=4,o=e.attrs,i=o!==null?sS(o):0,s=!1;for(let a=0;a<t.length;a++){let u=t[a];if(typeof u=="number"){if(!s&&!Mt(r)&&!Mt(u))return!1;if(s&&Mt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!nS(e,u,n)||u===""&&t.length===1){if(Mt(r))return!1;s=!0}}else if(r&8){if(o===null||!tS(e,o,u,n)){if(Mt(r))return!1;s=!0}}else{let d=t[++a],f=oS(u,o,$f(e),n);if(f===-1){if(Mt(r))return!1;s=!0;continue}if(d!==""){let p;if(f>i?p="":p=o[f+1].toLowerCase(),r&2&&d!==p){if(Mt(r))return!1;s=!0}}}}return Mt(r)||s}function Mt(e){return(e&1)===0}function oS(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return aS(t,e)}function Dv(e,t,n=!1){for(let r=0;r<t.length;r++)if(rS(e,t[r],n))return!0;return!1}function iS(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function sS(e){for(let t=0;t<e.length;t++){let n=e[t];if(Gy(n))return t}return e.length}function aS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function lS(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function yy(e,t){return e?":not("+t.trim()+")":t}function uS(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Mt(s)&&(t+=yy(i,o),o=""),r=s,i=i||!Mt(r);n++}return o!==""&&(t+=yy(i,o)),t}function cS(e){return e.map(uS).join(",")}function dS(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!Mt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Rt={};function Gf(e,t,n,r,o,i,s,a,u,d,f){let p=Te+r,h=p+o,g=fS(p,h),m=typeof d=="function"?d():d;return g[k]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:f}}function fS(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Rt);return n}function pS(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Gf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function qf(e,t,n,r,o,i,s,a,u,d,f){let p=t.blueprint.slice();return p[Tt]=o,p[O]=r|4|128|8|64|1024,(d!==null||e&&e[O]&2048)&&(p[O]|=2048),Md(p),p[Ae]=p[pr]=e,p[ve]=n,p[Wt]=s||e&&e[Wt],p[ue]=a||e&&e[ue],p[pn]=u||e&&e[pn]||null,p[We]=i,p[hn]=VT(),p[fr]=f,p[Td]=d,p[Je]=t.type==2?e[Je]:p,p}function hS(e,t,n){let r=wt(t,e),o=pS(n),i=e[Wt].rendererFactory,s=zf(e,qf(e,o,null,Iv(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Iv(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Tv(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function zf(e,t){return e[no]?e[Id][ft]=t:e[no]=t,e[Id]=t,t}function q(e=1){Sv(me(),G(),gn()+e,!1)}function Sv(e,t,n,r){if(!r)if((t[O]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Na(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Ra(t,i,0,n)}Un(n)}var sl=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(sl||{});function hf(e,t,n,r){let o=P(null);try{let[i,s,a]=e.inputs[n],u=null;(s&sl.SignalBased)!==0&&(u=t[i][Ge]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,u,r,n,i):Ly(t,u,i,r)}finally{P(o)}}var en=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(en||{}),gS;function jf(e,t){return gS(e,t)}var Dr=new Set,al=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(al||{}),Mr=new R(""),vy=new Set;function xt(e){vy.has(e)||(vy.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Wf=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),wv=[0,1,2,3],Av=(()=>{class e{ngZone=D(je);scheduler=D(xn);errorHandler=D(ct,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(Mr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ie(Q.AfterRenderHooksStart),this.executing=!0;for(let r of wv)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ie(Q.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[gr]??=[]).push(n),Er(r),r[O]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(al.AFTER_NEXT_RENDER,n):n()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),$a=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[gr];t&&(this.view[gr]=t.filter(n=>n!==this))}};function ki(e,t){let n=t?.injector??D(Ve);return xt("NgAfterNextRender"),yS(e,n,t,!0)}function mS(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function yS(e,t,n,r){let o=t.get(Wf);o.impl??=t.get(Av);let i=t.get(Mr,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Ye):null,a=t.get(_i,null,{optional:!0}),u=new $a(o.impl,mS(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(u),u}var Jf=new R("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:D(Ie)})});function Mv(e,t,n){let r=e.get(Jf);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function vS(e,t){let n=e.get(Jf);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function ES(e,t){for(let[n,r]of t)Mv(e,r.animateFns)}function CS(e,t){let n=e.get(Jf);if(Array.isArray(t))for(let r of t)n.queue.delete(r);else n.queue.delete(t)}function Ey(e,t,n,r){let o=e?.[mr]?.enter;t!==null&&o&&o.has(n.index)&&ES(r,o)}function io(e,t,n,r,o,i,s,a){if(o!=null){let u,d=!1;St(o)?u=o:Yt(o)&&(d=!0,o=o[Tt]);let f=pt(o);e===0&&r!==null?(Ey(a,r,i,n),s==null?hv(t,r,f):Ha(t,r,f,s||null,!0)):e===1&&r!==null?(Ey(a,r,i,n),Ha(t,r,f,s||null,!0)):e===2?Cy(a,i,n,p=>{gv(t,f,d,p)}):e===3&&Cy(a,i,n,()=>{t.destroyNode(f)}),u!=null&&RS(t,e,n,u,i,r,s)}}function _S(e,t){bv(e,t),t[Tt]=null,t[We]=null}function DS(e,t,n,r,o,i){r[Tt]=o,r[We]=t,ul(e,r,n,1,o,i)}function bv(e,t){t[Wt].changeDetectionScheduler?.notify(9),ul(e,t,t[ue],2,null,null)}function IS(e){let t=e[no];if(!t)return ef(e[k],e);for(;t;){let n=null;if(Yt(t))n=t[no];else{let r=t[ge];r&&(n=r)}if(!n){for(;t&&!t[ft]&&t!==e;)Yt(t)&&ef(t[k],t),t=t[Ae];t===null&&(t=e),Yt(t)&&ef(t[k],t),n=t&&t[ft]}t=n}}function Yf(e,t){let n=e[yr],r=n.indexOf(t);n.splice(r,1)}function ll(e,t){if(vr(t))return;let n=t[ue];n.destroyNode&&ul(e,t,n,3,null,null),IS(t)}function ef(e,t){if(vr(t))return;let n=P(null);try{t[O]&=-129,t[O]|=256,t[it]&&tr(t[it]),wS(e,t),SS(e,t),t[k].type===1&&t[ue].destroy();let r=t[Fn];if(r!==null&&St(t[Ae])){r!==t[Ae]&&Yf(r,t);let o=t[Jt];o!==null&&o.detachView(e)}ff(t)}finally{P(n)}}function Cy(e,t,n,r){let o=e?.[mr];if(o?.enter?.has(t.index)&&CS(n,o.enter.get(t.index).animateFns),o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&Dr.add(e[hn]),Mv(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let d=s.animateFns[u],{promise:f}=d();a.push(f)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),TS(e,r)}else e&&Dr.delete(e[hn]),r(!1)},o)}function TS(e,t){let n=e[mr]?.running;if(n){n.then(()=>{e[mr].running=void 0,Dr.delete(e[hn]),t(!0)});return}t(!1)}function SS(e,t){let n=e.cleanup,r=t[to];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[to]=null);let o=t[dn];if(o!==null){t[dn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Nn];if(i!==null){t[Nn]=null;for(let s of i)s.destroy()}}function wS(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof _r)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],u=i[s+1];ie(Q.LifecycleHookStart,a,u);try{u.call(a)}finally{ie(Q.LifecycleHookEnd,a,u)}}else{ie(Q.LifecycleHookStart,o,i);try{i.call(o)}finally{ie(Q.LifecycleHookEnd,o,i)}}}}}function Nv(e,t,n){return AS(e,t.parent,n)}function AS(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Tt];if(Ln(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Nt.None||o===Nt.Emulated)return null}return wt(r,n)}function Rv(e,t,n){return bS(e,t,n)}function MS(e,t,n){return e.type&40?wt(e,n):null}var bS=MS,_y;function Kf(e,t,n,r){let o=Nv(e,r,t),i=t[ue],s=r.parent||t[We],a=Rv(s,r,t);if(o!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)my(i,o,n[u],a,!1);else my(i,o,n,a,!1);_y!==void 0&&_y(i,r,t,n,o)}function Ii(e,t){if(t!==null){let n=t.type;if(n&3)return wt(t,e);if(n&4)return gf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ii(e,r);{let o=e[t.index];return St(o)?gf(-1,o):pt(o)}}else{if(n&128)return Ii(e,t.next);if(n&32)return jf(t,e)()||pt(e[t.index]);{let r=xv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Rn(e[Je]);return Ii(o,r)}else return Ii(e,t.next)}}}return null}function xv(e,t){if(t!==null){let r=e[Je][We],o=t.projection;return r.projection[o]}return null}function gf(e,t){let n=ge+e+1;if(n<t.length){let r=t[n],o=r[k].firstChild;if(o!==null)return Ii(r,o)}return t[On]}function Zf(e,t,n,r,o,i,s){for(;n!=null;){let a=r[pn];if(n.type===128){n=n.next;continue}let u=r[n.index],d=n.type;if(s&&t===0&&(u&&lo(pt(u),r),n.flags|=2),!ol(n))if(d&8)Zf(e,t,n.child,r,o,i,!1),io(t,e,a,o,u,n,i,r);else if(d&32){let f=jf(n,r),p;for(;p=f();)io(t,e,a,o,p,n,i,r);io(t,e,a,o,u,n,i,r)}else d&16?Pv(e,t,r,n,o,i):io(t,e,a,o,u,n,i,r);n=s?n.projectionNext:n.next}}function ul(e,t,n,r,o,i){Zf(n,r,e.firstChild,t,o,i,!1)}function NS(e,t,n){let r=t[ue],o=Nv(e,n,t),i=n.parent||t[We],s=Rv(i,n,t);Pv(r,0,t,n,o,s)}function Pv(e,t,n,r,o,i){let s=n[Je],u=s[We].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];io(t,e,n[pn],o,f,r,i,n)}else{let d=u,f=s[Ae];Xy(r)&&(d.flags|=128),Zf(e,t,d,f,o,i,!0)}}function RS(e,t,n,r,o,i,s){let a=r[On],u=pt(r);a!==u&&io(t,e,n,i,a,o,s);for(let d=ge;d<r.length;d++){let f=r[d];ul(f[k],f,e,t,i,a)}}function xS(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:en.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=en.Important),e.setStyle(n,r,o,i))}}function kv(e,t,n,r,o){let i=gn(),s=r&2;try{Un(-1),s&&t.length>Te&&Sv(e,t,Te,!1);let a=s?Q.TemplateUpdateStart:Q.TemplateCreateStart;ie(a,o,n),n(r,o)}finally{Un(i);let a=s?Q.TemplateUpdateEnd:Q.TemplateCreateEnd;ie(a,o,n)}}function Qf(e,t,n){VS(e,t,n),(n.flags&64)===64&&US(e,t,n)}function cl(e,t,n=wt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function PS(e,t,n,r){let i=r.get(av,sv)||n===Nt.ShadowDom||n===Nt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,i);return kS(s),s}function kS(e){FS(e)}var FS=()=>null;function OS(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Fv(e,t,n,r,o,i){let s=t[k];if(Xf(e,s,t,n,r)){Ln(e)&&LS(t,e.index);return}e.type&3&&(n=OS(n)),Ov(e,t,n,r,o,i)}function Ov(e,t,n,r,o,i){if(e.type&3){let s=wt(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function LS(e,t){let n=ht(t,e);n[O]&16||(n[O]|=64)}function VS(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Ln(n)&&hS(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Va(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],u=Si(t,e,s,n);if(lo(u,t),i!==null&&GS(t,s-r,u,a,n,i),Kt(a)){let d=ht(n.index,t);d[ve]=Si(t,e,s,n)}}}function US(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Wm();try{Un(i);for(let a=r;a<o;a++){let u=e.data[a],d=t[a];Ca(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&BS(u,d)}}finally{Un(-1),Ca(s)}}function BS(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Lv(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];Dv(t,i.selectors,!1)&&(r??=[],Kt(i)?r.unshift(i):r.push(i))}return r}function HS(e,t,n,r,o,i){let s=wt(e,t);$S(t[ue],s,i,e.value,n,r,o)}function $S(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?fa(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function GS(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],d=s[a+1];hf(r,n,u,d)}}function Vv(e,t,n,r,o){let i=Te+n,s=t[k],a=o(s,t,e,r,n);t[i]=a,oo(e,!0);let u=e.type===2;return u?(mv(t[ue],a,e),(Hm()===0||yi(e))&&lo(a,t),$m()):lo(a,t),Ta()&&(!u||!ol(e))&&Kf(s,t,a,e),e}function Uv(e){let t=e;return Ud()?Bd():(t=t.parent,oo(t,!1)),t}function qS(e,t){let n=e[pn];if(!n)return;let r;try{r=n.get(At,null)}catch{r=null}r?.(t)}function Xf(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],f=s[u+1],p=t.data[d];hf(p,n[d],f,o),a=!0}if(i)for(let u of i){let d=n[u],f=t.data[u];hf(f,d,r,o),a=!0}return a}function zS(e,t){let n=ht(t,e),r=n[k];jS(r,n);let o=n[Tt];o!==null&&n[fr]===null&&(n[fr]=lv(o,n[pn])),ie(Q.ComponentStart);try{ep(r,n,n[ve])}finally{ie(Q.ComponentEnd,n[ve])}}function jS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ep(e,t,n){Da(t);try{let r=e.viewQuery;r!==null&&pf(1,r,n);let o=e.template;o!==null&&kv(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Jt]?.finishViewCreation(e),e.staticContentQueries&&uv(e,t),e.staticViewQueries&&pf(2,e.viewQuery,n);let i=e.components;i!==null&&WS(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[O]&=-5,Ia()}}function WS(e,t){for(let n=0;n<t.length;n++)zS(e,t[n])}function Fi(e,t,n,r){let o=P(null);try{let i=t.tView,a=e[O]&4096?4096:16,u=qf(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=e[t.index];u[Fn]=d;let f=e[Jt];return f!==null&&(u[Jt]=f.createEmbeddedView(i)),ep(i,u,n),u}finally{P(o)}}function uo(e,t){return!t||t.firstChild===null||Xy(e)}function wi(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(pt(i)),St(i)&&Bv(i,r);let s=n.type;if(s&8)wi(e,t,n.child,r);else if(s&32){let a=jf(n,t),u;for(;u=a();)r.push(u)}else if(s&16){let a=xv(t,n);if(Array.isArray(a))r.push(...a);else{let u=Rn(t[Je]);wi(u[k],u,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Bv(e,t){for(let n=ge;n<e.length;n++){let r=e[n],o=r[k].firstChild;o!==null&&wi(r[k],r,o,t)}e[On]!==e[Tt]&&t.push(e[On])}function Hv(e){if(e[gr]!==null){for(let t of e[gr])t.impl.addSequence(t);e[gr].length=0}}var $v=[];function JS(e){return e[it]??YS(e)}function YS(e){let t=$v.pop()??Object.create(ZS);return t.lView=e,t}function KS(e){e.lView[it]!==e&&(e.lView=null,$v.push(e))}var ZS=B(S({},$r),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Er(e.lView)},consumerOnSignalRead(){this.lView[it]=this}});function QS(e){let t=e[it]??Object.create(XS);return t.lView=e,t}var XS=B(S({},$r),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Rn(e.lView);for(;t&&!Gv(t[k]);)t=Rn(t);t&&bd(t)},consumerOnSignalRead(){this.lView[it]=this}});function Gv(e){return e.type!==2}function qv(e){if(e[Nn]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Nn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[O]&8192)}}var ew=100;function zv(e,t=0){let r=e[Wt].rendererFactory,o=!1;o||r.begin?.();try{tw(e,t)}finally{o||r.end?.()}}function tw(e,t){let n=Hd();try{ai(!0),mf(e,t);let r=0;for(;Ei(e);){if(r===ew)throw new b(103,!1);r++,mf(e,1)}}finally{ai(n)}}function nw(e,t,n,r){if(vr(t))return;let o=t[O],i=!1,s=!1;Da(t);let a=!0,u=null,d=null;i||(Gv(e)?(d=JS(t),u=Gr(d)):Ms()===null?(a=!1,d=QS(t),u=Gr(d)):t[it]&&(tr(t[it]),t[it]=null));try{Md(t),qm(e.bindingStartIndex),n!==null&&kv(e,t,n,2,r);let f=(o&3)===3;if(!i)if(f){let g=e.preOrderCheckHooks;g!==null&&Na(t,g,null)}else{let g=e.preOrderHooks;g!==null&&Ra(t,g,0,null),Qd(t,0)}if(s||rw(t),qv(t),jv(t,0),e.contentQueries!==null&&uv(e,t),!i)if(f){let g=e.contentCheckHooks;g!==null&&Na(t,g)}else{let g=e.contentHooks;g!==null&&Ra(t,g,1),Qd(t,1)}iw(e,t);let p=e.components;p!==null&&Jv(t,p,0);let h=e.viewQuery;if(h!==null&&pf(2,h,r),!i)if(f){let g=e.viewCheckHooks;g!==null&&Na(t,g)}else{let g=e.viewHooks;g!==null&&Ra(t,g,2),Qd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ya]){for(let g of t[ya])g();t[ya]=null}i||(Hv(t),t[O]&=-73)}catch(f){throw i||Er(t),f}finally{d!==null&&(Ko(d,u),a&&KS(d)),Ia()}}function jv(e,t){for(let n=tv(e);n!==null;n=nv(n))for(let r=ge;r<n.length;r++){let o=n[r];Wv(o,t)}}function rw(e){for(let t=tv(e);t!==null;t=nv(t)){if(!(t[O]&2))continue;let n=t[yr];for(let r=0;r<n.length;r++){let o=n[r];bd(o)}}}function ow(e,t,n){ie(Q.ComponentStart);let r=ht(t,e);try{Wv(r,n)}finally{ie(Q.ComponentEnd,r[ve])}}function Wv(e,t){va(e)&&mf(e,t)}function mf(e,t){let r=e[k],o=e[O],i=e[it],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Zo(i)),s||=!1,i&&(i.dirty=!1),e[O]&=-9217,s)nw(r,e,r.template,e[ve]);else if(o&8192){let a=P(null);try{qv(e),jv(e,1);let u=r.components;u!==null&&Jv(e,u,1),Hv(e)}finally{P(a)}}}function Jv(e,t,n){for(let r=0;r<t.length;r++)ow(e,t[r],n)}function iw(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Un(~o);else{let i=o,s=n[++r],a=n[++r];jm(s,i);let u=t[i];ie(Q.HostBindingsUpdateStart,u);try{a(2,u)}finally{ie(Q.HostBindingsUpdateEnd,u)}}}}finally{Un(-1)}}function tp(e,t){let n=Hd()?64:1088;for(e[Wt].changeDetectionScheduler?.notify(t);e;){e[O]|=n;let r=Rn(e);if(ro(e)&&!r)return e;e=r}return null}function Yv(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Kv(e,t){let n=ge+t;if(n<e.length)return e[n]}function Oi(e,t,n,r=!0){let o=t[k];if(sw(o,t,e,n),r){let s=gf(n,e),a=t[ue],u=a.parentNode(e[On]);u!==null&&DS(o,e[We],a,t,u,s)}let i=t[fr];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Zv(e,t){let n=Ai(e,t);return n!==void 0&&ll(n[k],n),n}function Ai(e,t){if(e.length<=ge)return;let n=ge+t,r=e[n];if(r){let o=r[Fn];o!==null&&o!==e&&Yf(o,r),t>0&&(e[n-1][ft]=r[ft]);let i=fi(e,ge+t);_S(r[k],r);let s=i[Jt];s!==null&&s.detachView(i[k]),r[Ae]=null,r[ft]=null,r[O]&=-129}return r}function sw(e,t,n,r){let o=ge+r,i=n.length;r>0&&(n[o-1][ft]=t),r<i-ge?(t[ft]=n[o],yd(n,ge+r,t)):(n.push(t),t[ft]=null),t[Ae]=n;let s=t[Fn];s!==null&&n!==s&&Qv(s,t);let a=t[Jt];a!==null&&a.insertView(e),Ea(t),t[O]|=128}function Qv(e,t){let n=e[yr],r=t[Ae];if(Yt(r))e[O]|=2;else{let o=r[Ae][Je];t[Je]!==o&&(e[O]|=2)}n===null?e[yr]=[t]:n.push(t)}var Hn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[k];return wi(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ve]}set context(t){this._lView[ve]=t}get destroyed(){return vr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ae];if(St(t)){let n=t[mi],r=n?n.indexOf(this):-1;r>-1&&(Ai(t,r),fi(n,r))}this._attachedToViewContainer=!1}ll(this._lView[k],this._lView)}onDestroy(t){Nd(this._lView,t)}markForCheck(){tp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){Ea(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,zv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ro(this._lView),n=this._lView[Fn];n!==null&&!t&&Yf(n,this._lView),bv(this._lView[k],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=t;let n=ro(this._lView),r=this._lView[Fn];r!==null&&!n&&Qv(r,this._lView),Ea(this._lView)}};var Ir=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=aw;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Fi(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Hn(i)}}return e})();function aw(){return np(ke(),G())}function np(e,t){return e.type&4?new Ir(t,e,po(e,t)):null}function ho(e,t,n,r,o){let i=e.data[t];if(i===null)i=lw(e,t,n,r,o),zm()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Gm();i.injectorIndex=s===null?-1:s.injectorIndex}return oo(i,!0),i}function lw(e,t,n,r,o){let i=Vd(),s=Ud(),a=s?i:i&&i.parent,u=e.data[t]=cw(e,a,n,t,r,o);return uw(e,u,i,s),u}function uw(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function cw(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Fd()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dw(e){let t=e[Sd]??[],r=e[Ae][ue],o=[];for(let i of t)i.data[iv]!==void 0?o.push(i):fw(i,r);e[Sd]=o}function fw(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[ov];for(;n<o;){let i=r.nextSibling;gv(t,r,!1),r=i,n++}}}var pw=()=>null,hw=()=>null;function Ga(e,t){return pw(e,t)}function Xv(e,t,n){return hw(e,t,n)}var eE=class{},dl=class{},yf=class{resolveComponentFactory(t){throw new b(917,!1)}},Li=class{static NULL=new yf},Tr=class{},Pt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>gw()}return e})();function gw(){let e=G(),t=ke(),n=ht(t.index,e);return(Yt(n)?n:e)[ue]}var tE=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>null})}return e})();var Pa={},vf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,Pa,r);return o!==Pa||n===Pa?o:this.parentInjector.get(t,n,r)}};function qa(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=ua(o,a);else if(i==2){let u=a,d=t[++s];r=ua(r,u+": "+d+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function L(e,t=0){let n=G();if(n===null)return $(e,t);let r=ke();return Ky(r,n,Pe(e),t)}function rp(){let e="invalid";throw new Error(e)}function nE(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,u=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,d]=f.resolveHostDirectives(s);break}vw(e,t,n,a,i,u,d)}i!==null&&r!==null&&mw(n,r,i)}function mw(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new b(-301,!1);r.push(t[o],i)}}function yw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function vw(e,t,n,r,o,i,s){let a=r.length,u=null;for(let h=0;h<a;h++){let g=r[h];u===null&&Kt(g)&&(u=g,yw(e,n,h)),cf(Va(n,t),e,g.type)}Tw(n,e.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let h=0;h<a;h++){let g=r[h];g.providersResolver&&g.providersResolver(g)}let d=!1,f=!1,p=Tv(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let g=r[h];if(n.mergedAttrs=ao(n.mergedAttrs,g.hostAttrs),Cw(e,n,t,p,g),Iw(p,g,o),s!==null&&s.has(g)){let[y,E]=s.get(g);n.directiveToIndex.set(g.type,[p,y+n.directiveStart,E+n.directiveStart])}else(i===null||!i.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let m=g.type.prototype;!d&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),d=!0),!f&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}Ew(e,n,i)}function Ew(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Dy(0,t,o,r),Dy(1,t,o,r),Ty(t,r,!1);else{let i=n.get(o);Iy(0,t,i,r),Iy(1,t,i,r),Ty(t,r,!0)}}}function Dy(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),rE(t,i)}}function Iy(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),rE(t,s)}}function rE(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Ty(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||$f(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&o.hasOwnProperty(u)){let d=o[u];for(let f of d)if(f===t){s??=[],s.push(u,r[a+1]);break}}else if(n&&i.hasOwnProperty(u)){let d=i[u];for(let f=0;f<d.length;f+=2)if(d[f]===t){s??=[],s.push(d[f+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Cw(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=lr(o.type,!0)),s=new _r(i,Kt(o),L,null);e.blueprint[r]=s,n[r]=s,_w(e,t,r,Tv(e,n,o.hostVars,Rt),o)}function _w(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Dw(s)!=a&&s.push(a),s.push(n,r,i)}}function Dw(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function Iw(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Kt(t)&&(n[""]=e)}}function Tw(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function oE(e,t,n,r,o,i,s,a){let u=t[k],d=u.consts,f=gt(d,s),p=ho(u,e,n,r,f);return i&&nE(u,t,p,gt(d,a),o),p.mergedAttrs=ao(p.mergedAttrs,p.attrs),p.attrs!==null&&qa(p,p.attrs,!1),p.mergedAttrs!==null&&qa(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function iE(e,t){Hy(e,t),wd(t)&&e.queries.elementEnd(t)}function Sw(e,t,n,r,o,i){let s=t.consts,a=gt(s,o),u=ho(t,e,n,r,a);if(u.mergedAttrs=ao(u.mergedAttrs,u.attrs),i!=null){let d=gt(s,i);u.localNames=[];for(let f=0;f<d.length;f+=2)u.localNames.push(d[f],-1)}return u.attrs!==null&&qa(u,u.attrs,!1),u.mergedAttrs!==null&&qa(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function yn(e,t,n){if(n===Rt)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function ka(e,t,n){return function r(o){let i=Ln(e)?ht(e.index,t):t;tp(i,5);let s=t[ve],a=Sy(t,s,n,o),u=r.__ngNextListenerFn__;for(;u;)a=Sy(t,s,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Sy(e,t,n,r){let o=P(null);try{return ie(Q.OutputStart,t,n),n(r)!==!1}catch(i){return qS(e,i),!1}finally{ie(Q.OutputEnd,t,n),P(o)}}function sE(e,t,n,r,o,i,s,a){let u=yi(e),d=!1,f=null;if(!r&&u&&(f=Aw(t,n,i,e.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=wt(e,n),h=r?r(p):p;GT(n,h,i,a);let g=o.listen(h,i,a);if(!ww(i)){let m=r?y=>r(pt(y[e.index])):e.index;aE(m,t,n,i,a,g,!1)}}return d}function ww(e){return e.startsWith("animation")||e.startsWith("transition")}function Aw(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[to],u=o[i+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(i+=2)}return null}function aE(e,t,n,r,o,i,s){let a=t.firstCreatePass?xd(t):null,u=Rd(n),d=u.length;u.push(o,i),a&&a.push(r,e,d,(d+1)*(s?-1:1))}function wy(e,t,n,r,o,i){let s=t[n],a=t[k],d=a.data[n].outputs[r],p=s[d].subscribe(i);aE(e.index,a,t,o,i,p,!0)}var Ef=Symbol("BINDING");var za=class extends Li{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Pn(t);return new co(n,this.ngModule)}};function Mw(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&sl.SignalBased)!==0};return o&&(i.transform=o),i})}function bw(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Nw(e,t,n){let r=t instanceof Ie?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new vf(n,r):n}function Rw(e){let t=e.get(Tr,null);if(t===null)throw new b(407,!1);let n=e.get(tE,null),r=e.get(xn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function xw(e,t){let n=lE(e);return pv(t,n,n==="svg"?km:n==="math"?Fm:null)}function lE(e){return(e.selectors[0][0]||"div").toLowerCase()}var co=class extends dl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Mw(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bw(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=cS(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){ie(Q.DynamicComponentStart);let a=P(null);try{let u=this.componentDef,d=Pw(r,u,s,i),f=Nw(u,o||this.ngModule,t),p=Rw(f),h=p.rendererFactory.createRenderer(null,u),g=r?PS(h,r,u.encapsulation,f):xw(u,h),m=s?.some(Ay)||i?.some(v=>typeof v!="function"&&v.bindings.some(Ay)),y=qf(null,d,null,512|Iv(u),null,null,p,h,f,null,lv(g,f,!0));y[Te]=g,Da(y);let E=null;try{let v=oE(Te,y,2,"#host",()=>d.directiveRegistry,!0,0);mv(h,g,v),lo(g,y),Qf(d,y,v),cv(d,v,y),iE(d,v),n!==void 0&&Fw(v,this.ngContentSelectors,n),E=ht(v.index,y),y[ve]=E[ve],ep(d,y,null)}catch(v){throw E!==null&&ff(E),ff(y),v}finally{ie(Q.DynamicComponentEnd),Ia()}return new ja(this.componentType,y,!!m)}finally{P(a)}}};function Pw(e,t,n,r){let o=e?["ng-version","21.1.3"]:dS(t.selectors[0]),i=null,s=null,a=0;if(n)for(let f of n)a+=f[Ef].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let h of p.bindings){a+=h[Ef].requiredVars;let g=f+1;h.create&&(h.targetIdx=g,(i??=[]).push(h)),h.update&&(h.targetIdx=g,(s??=[]).push(h))}}let u=[t];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,h=hd(p);u.push(h)}return Gf(0,null,kw(i,s),1,a,u,null,null,null,[o],null)}function kw(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Ay(e){let t=e[Ef].kind;return t==="input"||t==="twoWay"}var ja=class extends eE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=vi(n[k],Te),this.location=po(this._tNode,n),this.instance=ht(this._tNode.index,n)[ve],this.hostView=this.changeDetectorRef=new Hn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Xf(r,o[k],o,t,n);this.previousInputValues.set(t,n);let s=ht(r.index,o);tp(s,1)}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Fw(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var $n=(()=>{class e{static __NG_ELEMENT_ID__=Ow}return e})();function Ow(){let e=ke();return cE(e,G())}var Lw=$n,uE=class extends Lw{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return po(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Of(this._hostTNode,this._hostLView);if(qy(t)){let n=La(t,this._hostLView),r=Oa(t),o=n[k].data[r+8];return new Cr(o,n)}else return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=My(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ge}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Ga(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,uo(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let u=t&&!gT(t),d;if(u)d=n;else{let E=n||{};d=E.index,r=E.injector,o=E.projectableNodes,i=E.environmentInjector||E.ngModuleRef,s=E.directives,a=E.bindings}let f=u?t:new co(Pn(t)),p=r||this.parentInjector;if(!i&&f.ngModule==null){let v=(u?p:this.parentInjector).get(Ie,null);v&&(i=v)}let h=Pn(f.componentType??{}),g=Ga(this._lContainer,h?.id??null),m=g?.firstChild??null,y=f.create(p,o,m,i,s,a);return this.insertImpl(y.hostView,d,uo(this._hostTNode,g)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Lm(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let u=o[Ae],d=new uE(u,u[We],u[Ae]);d.detach(d.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Oi(s,o,i,r),t.attachToViewContainerRef(),yd(tf(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=My(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ai(this._lContainer,n);r&&(fi(tf(this._lContainer),n),ll(r[k],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ai(this._lContainer,n);return r&&fi(tf(this._lContainer),n)!=null?new Hn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function My(e){return e[mi]}function tf(e){return e[mi]||(e[mi]=[])}function cE(e,t){let n,r=t[e.index];return St(r)?n=r:(n=Yv(r,t,null,e),t[e.index]=n,zf(t,n)),Uw(n,t,e,r),new uE(n,e,t)}function Vw(e,t){let n=e[ue],r=n.createComment(""),o=wt(t,e),i=n.parentNode(o);return Ha(n,i,r,n.nextSibling(o),!1),r}var Uw=$w,Bw=()=>!1;function Hw(e,t,n){return Bw(e,t,n)}function $w(e,t,n,r){if(e[On])return;let o;n.type&8?o=pt(r):o=Vw(t,n),e[On]=o}var Cf=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},_f=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)op(t,n).matches!==null&&this.queries[n].setDirty()}},Df=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=Kw(t):this.predicate=t}},If=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Tf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,Gw(n,i)),this.matchTNodeWithReadOption(t,n,xa(n,t,i,!1,!1))}else r===Ir?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,xa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Fe||o===$n||o===Ir&&n.type&4)this.addMatch(n.index,-2);else{let i=xa(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Gw(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function qw(e,t){return e.type&11?po(e,t):e.type&4?np(e,t):null}function zw(e,t,n,r){return n===-1?qw(t,e):n===-2?jw(e,t,r):Si(e,e[k],n,t)}function jw(e,t,n){if(n===Fe)return po(t,e);if(n===Ir)return np(t,e);if(n===$n)return cE(t,e)}function dE(e,t,n,r){let o=t[Jt].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let d=s[u];if(d<0)a.push(null);else{let f=i[d];a.push(zw(t,f,s[u+1],n.metadata.read))}}o.matches=a}return o.matches}function Sf(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=dE(e,t,o,n);for(let a=0;a<i.length;a+=2){let u=i[a];if(u>0)r.push(s[a/2]);else{let d=i[a+1],f=t[-u];for(let p=ge;p<f.length;p++){let h=f[p];h[Fn]===h[Ae]&&Sf(h[k],h,d,r)}if(f[yr]!==null){let p=f[yr];for(let h=0;h<p.length;h++){let g=p[h];Sf(g[k],g,d,r)}}}}}return r}function Ww(e,t){return e[Jt].queries[t].queryList}function Jw(e,t,n){let r=new Ua((n&4)===4);return Bm(e,t,r,r.destroy),(t[Jt]??=new _f).queries.push(new Cf(r))-1}function Yw(e,t,n){let r=me();return r.firstCreatePass&&(Zw(r,new Df(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Jw(r,G(),t)}function Kw(e){return e.split(",").map(t=>t.trim())}function Zw(e,t,n){e.queries===null&&(e.queries=new If),e.queries.track(new Tf(t,n))}function op(e,t){return e.queries.getByIndex(t)}function Qw(e,t){let n=e[k],r=op(n,t);return r.crossesNgTemplate?Sf(n,e,t,[]):dE(n,e,r,t)}var Sr=class{},fl=class{};var Wa=class extends Sr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new za(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=pd(t);this._bootstrapComponents=Cv(i.bootstrap),this._r3Injector=jd(t,n,[{provide:Sr,useValue:this},{provide:Li,useValue:this.componentFactoryResolver},...r],fn(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Ja=class extends fl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Wa(this.moduleType,t,[])}};var Mi=class extends Sr{injector;componentFactoryResolver=new za(this);instance=null;constructor(t){super();let n=new cr([...t.providers,{provide:Sr,useValue:this},{provide:Li,useValue:this.componentFactoryResolver}],t.parent||gi(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Vi(e,t,n=null){return new Mi({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Xw=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Cd(!1,n.type),o=r.length>0?Vi([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=x({token:e,providedIn:"environment",factory:()=>new e($(Ie))})}return e})();function se(e){return Ri(()=>{let t=fE(e),n=B(S({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Lf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(Xw).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Nt.Emulated,styles:e.styles||ze,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&xt("NgStandalone"),pE(n);let r=e.dependencies;return n.directiveDefs=by(r,e0),n.pipeDefs=by(r,Cm),n.id=r0(n),n})}function e0(e){return Pn(e)||hd(e)}function tn(e){return Ri(()=>({type:e.type,bootstrap:e.bootstrap||ze,declarations:e.declarations||ze,imports:e.imports||ze,exports:e.exports||ze,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function t0(e,t){if(e==null)return kn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,u;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,u=o[3]||null):(i=o,s=o,a=sl.None,u=null),n[i]=[r,a,u],t[i]=s}return n}function n0(e){if(e==null)return kn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ce(e){return Ri(()=>{let t=fE(e);return pE(t),t})}function fE(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||kn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ze,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:t0(e.inputs,t),outputs:n0(e.outputs),debugInfo:null}}function pE(e){e.features?.forEach(t=>t(e))}function by(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function r0(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function o0(e){return Object.getPrototypeOf(e.prototype).constructor}function Qe(e){let t=o0(e.type),n=!0,r=[e];for(;t;){let o;if(Kt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new b(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=nf(e.inputs),s.declaredInputs=nf(e.declaredInputs),s.outputs=nf(e.outputs);let a=o.hostBindings;a&&u0(e,a);let u=o.viewQuery,d=o.contentQueries;if(u&&a0(e,u),d&&l0(e,d),i0(e,o),Em(e.outputs,o.outputs),Kt(o)&&o.data.animation){let f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Qe&&(n=!1)}}t=Object.getPrototypeOf(t)}s0(r)}function i0(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function s0(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=ao(o.hostAttrs,n=ao(n,o.hostAttrs))}}function nf(e){return e===kn?{}:e===ze?[]:e}function a0(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function l0(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function u0(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function hE(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=ao(e.mergedAttrs,e.attrs);let f=e.tView=Gf(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),f.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),oo(e,!1);let u=d0(n,t,e,r);Ta()&&Kf(n,t,u,e),lo(u,t);let d=Yv(u,t,u,e);t[r+Te]=d,zf(t,d),Hw(d,e,t)}function c0(e,t,n,r,o,i,s,a,u,d,f){let p=n+Te,h;return t.firstCreatePass?(h=ho(t,p,4,s||null,a||null),kd()&&nE(t,e,h,gt(t.consts,d),Lv),Hy(t,h)):h=t.data[p],hE(h,e,t,n,r,o,i,u),yi(h)&&Qf(t,e,h),d!=null&&cl(e,h,f),h}function bi(e,t,n,r,o,i,s,a,u,d,f){let p=n+Te,h;if(t.firstCreatePass){if(h=ho(t,p,4,s||null,a||null),d!=null){let g=gt(t.consts,d);h.localNames=[];for(let m=0;m<g.length;m+=2)h.localNames.push(g[m],-1)}}else h=t.data[p];return hE(h,e,t,n,r,o,i,u),d!=null&&cl(e,h,f),h}function Ui(e,t,n,r,o,i,s,a){let u=G(),d=me(),f=gt(d.consts,i);return c0(u,d,e,t,n,r,o,f,void 0,s,a),Ui}var d0=f0;function f0(e,t,n,r){return Sa(!0),t[ue].createComment("")}var ip=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function gE(e){return typeof e=="function"&&e[Ge]!==void 0}function sp(e){return gE(e)&&typeof e.set=="function"}var ap=new R("");function Gn(e){return!!e&&typeof e.then=="function"}function lp(e){return!!e&&typeof e.subscribe=="function"}var mE=new R("");var up=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=D(mE,{optional:!0})??[];injector=D(Ve);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Ue(this.injector,o);if(Gn(i))n.push(i);else if(lp(i)){let s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pl=new R("");function yE(){bc(()=>{let e="";throw new b(600,e)})}function vE(e){return e.isBoundToModule}var p0=10;var qn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(At);afterRenderManager=D(Wf);zonelessEnabled=D(Di);rootEffectScheduler=D(wa);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ce;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(Bn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(pe(n=>!n))}constructor(){D(Mr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=D(Ie);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Ve.NULL){return this._injector.get(je).run(()=>{ie(Q.BootstrapComponentStart);let s=n instanceof dl;if(!this._injector.get(up).done){let m="";throw new b(405,m)}let u;s?u=n:u=this._injector.get(Li).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let d=vE(u)?void 0:this._injector.get(Sr),f=r||u.selector,p=u.create(o,[],f,d),h=p.location.nativeElement,g=p.injector.get(ap,null);return g?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),Ti(this.components,p),g?.unregisterApplication(h)}),this._loadComponent(p),ie(Q.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ie(Q.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(al.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ie(Q.ChangeDetectionEnd),new b(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),ie(Q.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Tr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<p0;){ie(Q.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ie(Q.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Ei(o))continue;let i=r&&!this.zonelessEnabled?0:1;zv(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ei(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ti(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(pl,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ti(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ti(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Bi(e,t,n,r){let o=G(),i=Vn();if(yn(o,i,t)){let s=me(),a=Ci();HS(a,o,e,t,n,r)}return Bi}var r$=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var wf=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}};function rf(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function h0(e,t,n,r){let o,i,s=0,a=e.length-1,u=void 0;if(Array.isArray(t)){P(r);let d=t.length-1;for(P(null);s<=a&&s<=d;){let f=e.at(s),p=t[s],h=rf(s,f,s,p,n);if(h!==0){h<0&&e.updateValue(s,p),s++;continue}let g=e.at(a),m=t[d],y=rf(a,g,d,m,n);if(y!==0){y<0&&e.updateValue(a,m),a--,d--;continue}let E=n(s,f),v=n(a,g),w=n(s,p);if(Object.is(w,v)){let A=n(d,m);Object.is(A,E)?(e.swap(s,a),e.updateValue(a,m),d--,a--):e.move(a,s),e.updateValue(s,p),s++;continue}if(o??=new Ya,i??=Ry(e,s,a,n),Af(e,o,s,w))e.updateValue(s,p),s++,a++;else if(i.has(w))o.set(E,e.detach(s)),a--;else{let A=e.create(s,t[s]);e.attach(s,A),s++,a++}}for(;s<=d;)Ny(e,o,n,s,t[s]),s++}else if(t!=null){P(r);let d=t[Symbol.iterator]();P(null);let f=d.next();for(;!f.done&&s<=a;){let p=e.at(s),h=f.value,g=rf(s,p,s,h,n);if(g!==0)g<0&&e.updateValue(s,h),s++,f=d.next();else{o??=new Ya,i??=Ry(e,s,a,n);let m=n(s,h);if(Af(e,o,s,m))e.updateValue(s,h),s++,a++,f=d.next();else if(!i.has(m))e.attach(s,e.create(s,h)),s++,a++,f=d.next();else{let y=n(s,p);o.set(y,e.detach(s)),a--}}}for(;!f.done;)Ny(e,o,n,e.length,f.value),f=d.next()}for(;s<=a;)e.destroy(e.detach(a--));o?.forEach(d=>{e.destroy(d)})}function Af(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function Ny(e,t,n,r,o){if(Af(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Ry(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var Ya=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function Hi(e,t,n,r,o,i,s,a){xt("NgControlFlow");let u=G(),d=me(),f=gt(d.consts,i);return bi(u,d,e,t,n,r,o,f,256,s,a),cp}function cp(e,t,n,r,o,i,s,a){xt("NgControlFlow");let u=G(),d=me(),f=gt(d.consts,i);return bi(u,d,e,t,n,r,o,f,512,s,a),cp}function $i(e,t){xt("NgControlFlow");let n=G(),r=Vn(),o=n[r]!==Rt?n[r]:-1,i=o!==-1?Ka(n,Te+o):void 0,s=0;if(yn(n,r,e)){let a=P(null);try{if(i!==void 0&&Zv(i,s),e!==-1){let u=Te+e,d=Ka(n,u),f=Rf(n[k],u),p=Xv(d,f,n),h=Fi(n,f,t,{dehydratedView:p});Oi(d,h,s,uo(f,p))}}finally{P(a)}}else if(i!==void 0){let a=Kv(i,s);a!==void 0&&(a[ve]=t)}}var Mf=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ge}};function vn(e){return e}var bf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function En(e,t,n,r,o,i,s,a,u,d,f,p,h){xt("NgControlFlow");let g=G(),m=me(),y=u!==void 0,E=G(),v=a?s.bind(E[Je][ve]):s,w=new bf(y,v);E[Te+e]=w,bi(g,m,e+1,t,n,r,o,gt(m.consts,i),256),y&&bi(g,m,e+2,u,d,f,p,gt(m.consts,h),512)}var Nf=class extends wf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ge}at(t){return this.getLView(t)[ve].$implicit}attach(t,n){let r=n[fr];this.needsIndexUpdate||=t!==this.length,Oi(this.lContainer,n,t,uo(this.templateTNode,r)),g0(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,m0(this.lContainer,t),y0(this.lContainer,t)}create(t,n){let r=Ga(this.lContainer,this.templateTNode.tView.ssrId);return Fi(this.hostLView,this.templateTNode,new Mf(this.lContainer,n,t),{dehydratedView:r})}destroy(t){ll(t[k],t)}updateValue(t,n){this.getLView(t)[ve].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ve].$index=t}getLView(t){return v0(this.lContainer,t)}};function Cn(e){let t=P(null),n=gn();try{let r=G(),o=r[k],i=r[n],s=n+1,a=Ka(r,s);if(i.liveCollection===void 0){let d=Rf(o,s);i.liveCollection=new Nf(a,r,d)}else i.liveCollection.reset();let u=i.liveCollection;if(h0(u,e,i.trackByFn,t),u.updateIndexes(),i.hasEmptyBlock){let d=Vn(),f=u.length===0;if(yn(r,d,f)){let p=n+2,h=Ka(r,p);if(f){let g=Rf(o,p),m=Xv(h,g,r),y=Fi(r,g,void 0,{dehydratedView:m});Oi(h,y,0,uo(g,m))}else o.firstUpdatePass&&dw(h),Zv(h,0)}}}finally{P(t)}}function Ka(e,t){return e[t]}function g0(e,t){if(e.length<=ge)return;let n=ge+t,r=e[n],o=r?r[mr]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[pn];vS(i,o),Dr.delete(r[hn]),o.detachedLeaveAnimationFns=void 0}}function m0(e,t){if(e.length<=ge)return;let n=ge+t,r=e[n],o=r?r[mr]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function y0(e,t){return Ai(e,t)}function v0(e,t){return Kv(e,t)}function Rf(e,t){return vi(e,t)}function st(e,t,n){let r=G(),o=Vn();if(yn(r,o,t)){let i=me(),s=Ci();Fv(s,r,e,t,r[ue],n)}return st}function xf(e,t,n,r,o){Xf(t,e,n,o?"class":"style",r)}function C(e,t,n,r){let o=G(),i=o[k],s=e+Te,a=i.firstCreatePass?oE(s,o,2,t,Lv,kd(),n,r):i.data[s];if(Vv(a,o,e,t,EE),yi(a)){let u=o[k];Qf(u,o,a),cv(u,a,o)}return r!=null&&cl(o,a),C}function _(){let e=me(),t=ke(),n=Uv(t);return e.firstCreatePass&&iE(e,n),Od(n)&&Ld(),Pd(),n.classesWithoutHost!=null&&_T(n)&&xf(e,n,G(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&DT(n)&&xf(e,n,G(),n.stylesWithoutHost,!1),_}function j(e,t,n,r){return C(e,t,n,r),_(),j}function go(e,t,n,r){let o=G(),i=o[k],s=e+Te,a=i.firstCreatePass?Sw(s,i,2,t,n,r):i.data[s];return Vv(a,o,e,t,EE),r!=null&&cl(o,a),go}function mo(){let e=ke(),t=Uv(e);return Od(t)&&Ld(),Pd(),mo}function hl(e,t,n,r){return go(e,t,n,r),mo(),hl}var EE=(e,t,n,r,o)=>(Sa(!0),pv(t[ue],r,Xm()));function br(){return G()}function gl(e,t,n){let r=G(),o=Vn();if(yn(r,o,t)){let i=me(),s=Ci();Ov(s,r,e,t,r[ue],n)}return gl}var Gi="en-US";var E0=Gi;function CE(e){typeof e=="string"&&(E0=e.toLowerCase().replace(/_/g,"-"))}function ae(e,t,n){let r=G(),o=me(),i=ke();return _E(o,r,r[ue],i,e,t,n),ae}function ml(e,t,n){let r=G(),o=me(),i=ke();return(i.type&3||n)&&sE(i,o,r,n,r[ue],e,t,ka(i,r,t)),ml}function _E(e,t,n,r,o,i,s){let a=!0,u=null;if((r.type&3||s)&&(u??=ka(r,t,i),sE(r,e,t,s,n,o,i,u)&&(a=!1)),a){let d=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let p=0;p<f.length;p+=2){let h=f[p],g=f[p+1];u??=ka(r,t,i),wy(r,t,h,g,o,u)}if(d&&d.length)for(let p of d)u??=ka(r,t,i),wy(r,t,p,o,o,u)}}function yt(e=1){return Qm(e)}function C0(e,t){let n=null,r=iS(e);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){n=o;continue}if(r===null?Dv(e,i,!0):lS(r,i))return o}return n}function dp(e){let t=G()[Je][We];if(!t.projection){let n=e?e.length:1,r=t.projection=wm(n,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let s=e?C0(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function fp(e,t=0,n,r,o,i){let s=G(),a=me(),u=r?e+1:null;u!==null&&bi(s,a,u,r,o,i,null,n);let d=ho(a,Te+e,16,null,n||null);d.projection===null&&(d.projection=t),Bd();let p=!s[fr]||Fd();s[Je][We].projection[d.projection]===null&&u!==null?_0(s,a,u):p&&!ol(d)&&NS(a,s,d)}function _0(e,t,n){let r=Te+n,o=t.data[r],i=e[r],s=Ga(i,o.tView.ssrId),a=Fi(e,o,void 0,{dehydratedView:s});Oi(i,a,0,uo(o,s))}function yl(e,t,n){return Yw(e,t,n),yl}function vl(e){let t=G(),n=me(),r=Gd();_a(r+1);let o=op(n,r);if(e.dirty&&Om(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=Qw(t,r);e.reset(i,FT),e.notifyOnChanges()}return!0}return!1}function El(){return Ww(G(),Gd())}function ba(e,t){return e<<17|t<<2}function wr(e){return e>>17&32767}function D0(e){return(e&2)==2}function I0(e,t){return e&131071|t<<17}function Pf(e){return e|2}function fo(e){return(e&131068)>>2}function of(e,t){return e&-131069|t<<2}function T0(e){return(e&1)===1}function kf(e){return e|1}function S0(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=wr(s),u=fo(s);e[r]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Xr(p,f)>0)&&(d=!0)}else f=n;if(o)if(u!==0){let h=wr(e[a+1]);e[r+1]=ba(h,a),h!==0&&(e[h+1]=of(e[h+1],r)),e[a+1]=I0(e[a+1],r)}else e[r+1]=ba(a,0),a!==0&&(e[a+1]=of(e[a+1],r)),a=r;else e[r+1]=ba(u,0),a===0?a=r:e[u+1]=of(e[u+1],r),u=r;d&&(e[r+1]=Pf(e[r+1])),xy(e,f,r,!0),xy(e,f,r,!1),w0(t,f,e,r,i),s=ba(a,u),i?t.classBindings=s:t.styleBindings=s}function w0(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Xr(i,t)>=0&&(n[r+1]=kf(n[r+1]))}function xy(e,t,n,r){let o=e[n+1],i=t===null,s=r?wr(o):fo(o),a=!1;for(;s!==0&&(a===!1||i);){let u=e[s],d=e[s+1];A0(u,t)&&(a=!0,e[s+1]=r?kf(d):Pf(d)),s=r?wr(d):fo(d)}a&&(e[n+1]=r?Pf(o):kf(o))}function A0(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Xr(e,t)>=0:!1}var bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function M0(e){return e.substring(bt.key,bt.keyEnd)}function b0(e){return N0(e),DE(e,IE(e,0,bt.textEnd))}function DE(e,t){let n=bt.textEnd;return n===t?-1:(t=bt.keyEnd=R0(e,bt.key=t,n),IE(e,t,n))}function N0(e){bt.key=0,bt.keyEnd=0,bt.value=0,bt.valueEnd=0,bt.textEnd=e.length}function IE(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function R0(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Cl(e,t,n){return TE(e,t,n,!1),Cl}function be(e,t){return TE(e,t,null,!0),be}function zn(e){P0(U0,x0,e,!0)}function x0(e,t){for(let n=b0(t);n>=0;n=DE(t,n))ga(e,M0(t),!0)}function TE(e,t,n,r){let o=G(),i=me(),s=$d(2);if(i.firstUpdatePass&&wE(i,e,s,r),t!==Rt&&yn(o,s,t)){let a=i.data[gn()];AE(i,a,o,o[ue],e,o[s+1]=H0(t,n),r,s)}}function P0(e,t,n,r){let o=me(),i=$d(2);o.firstUpdatePass&&wE(o,null,i,r);let s=G();if(n!==Rt&&yn(s,i,n)){let a=o.data[gn()];if(ME(a,r)&&!SE(o,i)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=ua(u,n||"")),xf(o,a,s,n,r)}else B0(o,a,s,s[ue],s[i+1],s[i+1]=V0(e,t,n),r,i)}}function SE(e,t){return t>=e.expandoStartIndex}function wE(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[gn()],s=SE(e,n);ME(i,r)&&t===null&&!s&&(t=!1),t=k0(o,i,t,r),S0(o,i,t,n,s,r)}}function k0(e,t,n,r){let o=Jm(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=sf(null,e,t,n,r),n=Ni(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=sf(o,e,t,n,r),i===null){let u=F0(e,t,r);u!==void 0&&Array.isArray(u)&&(u=sf(null,e,t,u[1],r),u=Ni(u,t.attrs,r),O0(e,t,r,u))}else i=L0(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function F0(e,t,n){let r=n?t.classBindings:t.styleBindings;if(fo(r)!==0)return e[wr(r)]}function O0(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[wr(o)]=r}function L0(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Ni(r,s,n)}return Ni(r,t.attrs,n)}function sf(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Ni(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ni(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ga(e,s,n?!0:t[++i]))}return e===void 0?null:e}function V0(e,t,n){if(n==null||n==="")return ze;let r=[],o=Ar(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(o instanceof Set)for(let i of o)e(r,i,!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function U0(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&ga(e,r,n)}function B0(e,t,n,r,o,i,s,a){o===Rt&&(o=ze);let u=0,d=0,f=0<o.length?o[0]:null,p=0<i.length?i[0]:null;for(;f!==null||p!==null;){let h=u<o.length?o[u+1]:void 0,g=d<i.length?i[d+1]:void 0,m=null,y;f===p?(u+=2,d+=2,h!==g&&(m=p,y=g)):p===null||f!==null&&f<p?(u+=2,m=f):(d+=2,m=p,y=g),m!==null&&AE(e,t,n,r,m,y,s,a),f=u<o.length?o[u]:null,p=d<i.length?i[d]:null}}function AE(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let u=e.data,d=u[a+1],f=T0(d)?Py(u,t,n,o,fo(d),s):void 0;if(!Za(f)){Za(i)||D0(d)&&(i=Py(u,null,n,o,a,s));let p=Ad(gn(),n);xS(r,s,p,o,i)}}function Py(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let u=e[o],d=Array.isArray(u),f=d?u[1]:u,p=f===null,h=n[o+1];h===Rt&&(h=p?ze:void 0);let g=p?ma(h,r):f===r?h:void 0;if(d&&!Za(g)&&(g=ma(u,r)),Za(g)&&(a=g,s))return a;let m=e[o+1];o=s?wr(m):fo(m)}if(t!==null){let u=i?t.residualClasses:t.residualStyles;u!=null&&(a=ma(u,r))}return a}function Za(e){return e!==void 0}function H0(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=fn(Ar(e)))),e}function ME(e,t){return(e.flags&(t?8:16))!==0}function T(e,t=""){let n=G(),r=me(),o=e+Te,i=r.firstCreatePass?ho(r,o,1,t,null):r.data[o],s=$0(r,n,i,t);n[o]=s,Ta()&&Kf(r,n,s,i),oo(i,!1)}var $0=(e,t,n,r)=>(Sa(!0),WT(t[ue],r));function G0(e,t,n,r=""){return yn(e,Vn(),n)?t+fa(n)+r:Rt}function _n(e){return kt("",e),_n}function kt(e,t,n){let r=G(),o=G0(r,e,t,n);return o!==Rt&&q0(r,gn(),o),kt}function q0(e,t,n){let r=Ad(t,e);JT(e[ue],r,n)}function _l(e,t,n){sp(t)&&(t=t());let r=G(),o=Vn();if(yn(r,o,t)){let i=me(),s=Ci();Fv(s,r,e,t,r[ue],n)}return _l}function pp(e,t){let n=sp(e);return n&&e.set(t),n}function Dl(e,t){let n=G(),r=me(),o=ke();return _E(r,n,n[ue],o,e,t),Dl}function ky(e,t,n){let r=me();r.firstCreatePass&&bE(t,r.data,r.blueprint,Kt(e),n)}function bE(e,t,n,r,o){if(e=Pe(e),Array.isArray(e))for(let i=0;i<e.length;i++)bE(e[i],t,n,r,o);else{let i=me(),s=G(),a=ke(),u=ur(e)?e:Pe(e.provide),d=Dd(e),f=a.providerIndexes&1048575,p=a.directiveStart,h=a.providerIndexes>>20;if(ur(e)||!e.multi){let g=new _r(d,o,L,null),m=lf(u,t,o?f:f+h,p);m===-1?(cf(Va(a,s),i,u),af(i,e,t.length),t.push(u),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[m]=g,s[m]=g)}else{let g=lf(u,t,f+h,p),m=lf(u,t,f,f+h),y=g>=0&&n[g],E=m>=0&&n[m];if(o&&!E||!o&&!y){cf(Va(a,s),i,u);let v=W0(o?j0:z0,n.length,o,r,d,e);!o&&E&&(n[m].providerFactory=v),af(i,e,t.length,0),t.push(u),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else{let v=NE(n[o?m:g],d,!o&&r);af(i,e,g>-1?g:m,v)}!o&&r&&E&&n[m].componentProviders++}}}function af(e,t,n,r){let o=ur(t),i=Rm(t);if(o||i){let u=(i?Pe(t.useClass):t).prototype.ngOnDestroy;if(u){let d=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function NE(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function lf(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function z0(e,t,n,r,o){return Ff(this.multi,[])}function j0(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Si(r,r[k],this.providerFactory.index,o);s=u.slice(0,a),Ff(i,s);for(let d=a;d<u.length;d++)s.push(u[d])}else s=[],Ff(i,s);return s}function Ff(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function W0(e,t,n,r,o,i){let s=new _r(e,n,L,null);return s.multi=[],s.index=t,s.componentProviders=0,NE(s,o,r&&!n),s}function Dn(e,t){return n=>{n.providersResolver=(r,o)=>ky(r,o?o(e):e,!1),t&&(n.viewProvidersResolver=(r,o)=>ky(r,o?o(t):t,!0))}}var Qa=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},hp=(()=>{class e{compileModuleSync(n){return new Ja(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=pd(n),i=Cv(o.declarations).reduce((s,a)=>{let u=Pn(a);return u&&s.push(new co(u)),s},[]);return new Qa(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var RE=(()=>{class e{applicationErrorHandler=D(At);appRef=D(qn);taskService=D(Bn);ngZone=D(je);zonelessEnabled=D(Di);tracing=D(Mr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(li):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Zd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ry:Wd;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(li+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gp(){return xt("NgZoneless"),pi([...mp(),[]])}function mp(){return[{provide:xn,useExisting:RE},{provide:je,useClass:ui},{provide:Di,useValue:!0}]}function J0(){return typeof $localize<"u"&&$localize.locale||Gi}var Il=new R("",{factory:()=>D(Il,{optional:!0,skipSelf:!0})||J0()});var Tl=class{destroyed=!1;listeners=null;errorHandler=D(ct,{optional:!0});destroyRef=D(Ye);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new b(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(jt(953,!1));return}if(this.listeners===null)return;let n=P(null);try{for(let r of this.listeners)try{r(t)}catch(o){this.errorHandler?.handleError(o)}}finally{P(n)}}};function Xe(e,t){return bs(e,t?.equal)}var kE=Symbol("InputSignalNode#UNSET"),fA=B(S({},Ns),{transformFn:void 0,applyValueToInputSignal(e,t){Qo(e,t)}});function FE(e,t){let n=Object.create(fA);n.value=e,n.transformFn=t?.transform;function r(){if(Yo(n),n.value===kE){let o=null;throw new b(-950,o)}return n.value}return r[Ge]=n,r}var wl=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>xi(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function OE(e){return new Tl}function xE(e,t){return FE(e,t)}function pA(e){return FE(kE,e)}var yo=(xE.required=pA,xE);var yp=new R(""),hA=new R("");function qi(e){return!e.moduleRef}function gA(e){let t=qi(e)?e.r3Injector:e.moduleRef.injector,n=t.get(je);return n.run(()=>{qi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(At),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),qi(e)){let i=()=>t.destroy(),s=e.platformInjector.get(yp);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(yp);s.add(i),e.moduleRef.onDestroy(()=>{Ti(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return yA(r,n,()=>{let i=t.get(Bn),s=i.add(),a=t.get(up);return a.runInitializers(),a.donePromise.then(()=>{let u=t.get(Il,Gi);if(CE(u||Gi),!t.get(hA,!0))return qi(e)?t.get(qn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(qi(e)){let f=t.get(qn);return e.rootComponent!==void 0&&f.bootstrap(e.rootComponent),f}else return mA?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(s)})})})}var mA;function yA(e,t,n){try{let r=n();return Gn(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Sl=null;function vA(e=[],t){return Ve.create({name:t,providers:[{provide:hi,useValue:"platform"},{provide:yp,useValue:new Set([()=>Sl=null])},...e]})}function EA(e=[]){if(Sl)return Sl;let t=vA(e);return Sl=t,yE(),CA(t),t}function CA(e){let t=e.get(el,null);Ue(e,()=>{t?.forEach(n=>n())})}var _A=1e4;var h8=_A-1e3;var In=(()=>{class e{static __NG_ELEMENT_ID__=DA}return e})();function DA(e){return IA(ke(),G(),(e&16)===16)}function IA(e,t,n){if(Ln(e)&&!n){let r=ht(e.index,t);return new Hn(r,r)}else if(e.type&175){let r=t[Je];return new Hn(r,t)}return null}function LE(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;ie(Q.BootstrapApplicationStart);try{let i=o?.injector??EA(r),s=[mp(),iy,...n||[]],a=new Mi({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return gA({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{ie(Q.BootstrapApplicationEnd)}}function Ft(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function vp(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}var VE=null;function vt(){return VE}function Ep(e){VE??=e}var zi=class{},Nr=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>D(UE),providedIn:"platform"})}return e})();var UE=(()=>{class e extends Nr{_location;_history;_doc=D(Se);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vt().getBaseHref(this._doc)}onPopState(n){let r=vt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Al(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function BE(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Ot(e){return e&&e[0]!=="?"?`?${e}`:e}var nn=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>D($E),providedIn:"root"})}return e})(),Cp=new R(""),$E=(()=>{class e extends nn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Al(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ot(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Ot(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Ot(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)($(Nr),$(Cp,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rr=(()=>{class e{_subject=new Ce;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=wA(BE(HE(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ot(r))}normalize(n){return e.stripTrailingSlash(SA(this._basePath,HE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ot(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ot(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Ot;static joinWithSlash=Al;static stripTrailingSlash=BE;static \u0275fac=function(r){return new(r||e)($(nn))};static \u0275prov=x({token:e,factory:()=>TA(),providedIn:"root"})}return e})();function TA(){return new Rr($(nn))}function SA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function HE(e){return e.replace(/\/index.html$/,"")}function wA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var _p=(()=>{class e extends nn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Al(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Ot(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Ot(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)($(Nr),$(Cp,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var Dp=(()=>{class e{_viewContainer;_context=new Ml;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){GE(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){GE(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(L($n),L(Ir))};static \u0275dir=ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Ml=class{$implicit=null;ngIf=null};function GE(e,t){if(e&&!e.createEmbeddedView)throw new b(2020,!1)}var le=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=tn({type:e});static \u0275inj=It({})}return e})();function Ip(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var ji=class{};var zE="browser";var jE=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new Tp(D(Se),window)})}return e})(),Tp=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(B(S({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=bA(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(jt(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(B(S({},n),{left:o-s[0],top:i-s[1]}))}};function bA(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var WE=e=>e.src,NA=new R("",{factory:()=>WE});var qE=/^((\s*\d+w\s*(,|$)){1,})$/;var RA=[1,2],xA=640;var PA=1920,kA=1080;var JE=(()=>{class e{imageLoader=D(NA);config=FA(D(rl));renderer=D(Pt);imgElement=D(Fe).nativeElement;injector=D(Ve);destroyRef=D(Ye);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){xt("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let n=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&qE.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(n){if(n.ngSrc&&!n.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(n){let r=n;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let n={src:this.ngSrc};this._renderedSrc=this.callImageLoader(n)}return this._renderedSrc}getRewrittenSrcset(){let n=qE.test(this.ngSrcset);return this.ngSrcset.split(",").filter(o=>o!=="").map(o=>{o=o.trim();let i=n?parseFloat(o):parseFloat(o)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:i})} ${o}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:n}=this.config,r=n;return this.sizes?.trim()==="100vw"&&(r=n.filter(i=>i>=xA)),r.map(i=>`${this.callImageLoader({src:this.ngSrc,width:i})} ${i}w`).join(", ")}updateSrcAndSrcset(n=!1){n&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let o;return this.ngSrcset?o=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(o=this.getAutomaticSrcset()),o&&this.setHostAttribute("srcset",o),o}getFixedSrcset(){return RA.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let n=!1;return this.sizes||(n=this.width>PA||this.height>kA),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==WE&&!n}generatePlaceholder(n){let{placeholderResolution:r}=this.config;return n===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof n=="string"?`url(${n})`:null}shouldBlurPlaceholder(n){return!n||!n.hasOwnProperty("blur")?!0:!!n.blur}removePlaceholderOnLoad(n){let r=()=>{let s=this.injector.get(In);o(),i(),this.placeholder=!1,s.markForCheck()},o=this.renderer.listen(n,"load",r),i=this.renderer.listen(n,"error",r);this.destroyRef.onDestroy(()=>{o(),i()}),OA(n,r)}setHostAttribute(n,r){this.renderer.setAttribute(this.imgElement,n,r)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,o){r&2&&Cl("position",o.fill?"absolute":null)("width",o.fill?"100%":null)("height",o.fill?"100%":null)("inset",o.fill?"0":null)("background-size",o.placeholder?"cover":null)("background-position",o.placeholder?"50% 50%":null)("background-repeat",o.placeholder?"no-repeat":null)("background-image",o.placeholder?o.generatePlaceholder(o.placeholder):null)("filter",o.placeholder&&o.shouldBlurPlaceholder(o.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",LA],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",vp],height:[2,"height","height",vp],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",Ft],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",Ft],fill:[2,"fill","fill",Ft],placeholder:[2,"placeholder","placeholder",VA],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[mt]})}return e})();function FA(e){let t={};return e.breakpoints&&(t.breakpoints=e.breakpoints.sort((n,r)=>n-r)),Object.assign({},nl,e,t)}function OA(e,t){e.complete&&e.naturalWidth&&t()}function LA(e){return typeof e=="string"?e:Ar(e)}function VA(e){return typeof e=="string"&&e!=="true"&&e!=="false"&&e!==""?e:Ft(e)}var Wi=class{_doc;constructor(t){this._doc=t}manager},bl=(()=>{class e extends Wi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)($(Se))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),xl=new R(""),Mp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof bl));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof bl);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)($(xl),$(je))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Sp="ng-app-id";function KE(e){for(let t of e)t.remove()}function ZE(e,t){let n=t.createElement("style");return n.textContent=e,n}function UA(e,t,n,r){let o=e.head?.querySelectorAll(`style[${Sp}="${t}"],link[${Sp}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Sp),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Ap(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var bp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,UA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,ZE);r?.forEach(o=>this.addUsage(o,this.external,Ap))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(KE(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])KE(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,ZE(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Ap(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)($(Se),$(Xa),$(tl,8),$(Pi))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),wp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Np=/%COMP%/g;var XE="%COMP%",BA=`_nghost-${XE}`,HA=`_ngcontent-${XE}`,$A=!0,GA=new R("",{factory:()=>$A});function qA(e){return HA.replace(Np,e)}function zA(e){return BA.replace(Np,e)}function eC(e,t){return t.map(n=>n.replace(Np,e))}var Rp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,a,u=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=d,this.defaultRenderer=new Ji(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof Rl?o.applyToHost(n):o instanceof Yi&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case Nt.Emulated:i=new Rl(u,d,r,this.appId,f,s,a,p);break;case Nt.ShadowDom:return new Nl(u,n,r,s,a,this.nonce,p,d);case Nt.ExperimentalIsolatedShadowDom:return new Nl(u,n,r,s,a,this.nonce,p);default:i=new Yi(u,d,r,f,s,a,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)($(Mp),$(bp),$(Xa),$(GA),$(Se),$(je),$(tl),$(Mr,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Ji=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(wp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(QE(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(QE(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=wp[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=wp[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(en.DashCase|en.Important)?t.style.setProperty(n,r,o&en.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&en.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=vt().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function QE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Nl=class extends Ji{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,o,i,s,a,u){super(t,o,i,a),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=eC(r.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let f=r.getExternalStyles?.();if(f)for(let p of f){let h=Ap(p,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Yi=class extends Ji{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,u){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=u?eC(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Dr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rl=class extends Yi{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,u){let d=o+"-"+r.id;super(t,n,r,i,s,a,u,d),this.contentAttr=qA(d),this.hostAttr=zA(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Pl=class e extends zi{supportsDOMEvents=!0;static makeCurrent(){Ep(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=jA();return n==null?null:WA(n)}resetBaseElement(){Ki=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ip(document.cookie,t)}},Ki=null;function jA(){return Ki=Ki||document.head.querySelector("base"),Ki?Ki.getAttribute("href"):null}function WA(e){return new URL(e,document.baseURI).pathname}var JA=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),tC=["alt","control","meta","shift"],YA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},nC=(()=>{class e extends Wi{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tC.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=i,r.length!=0||i.length===0)return null;let u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let o=YA[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),tC.forEach(s=>{if(s!==o){let a=KA[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)($(Se))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();async function xp(e,t,n){let r=S({rootComponent:e},ZA(t,n));return LE(r)}function ZA(e,t){return{platformRef:t?.platformRef,appProviders:[...nM,...e?.providers??[]],platformProviders:tM}}function QA(){Pl.makeCurrent()}function XA(){return new ct}function eM(){return Vf(document),document}var tM=[{provide:Pi,useValue:zE},{provide:el,useValue:QA,multi:!0},{provide:Se,useFactory:eM}];var nM=[{provide:hi,useValue:"root"},{provide:ct,useFactory:XA},{provide:xl,useClass:bl,multi:!0},{provide:xl,useClass:nC,multi:!0},Rp,bp,Mp,{provide:Tr,useExisting:Rp},{provide:ji,useClass:JA},[]];var rC=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)($(Se))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var U="primary",ss=Symbol("RouteTitle"),Lp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function kr(e){return new Lp(e)}function Pp(e,t,n){for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(o[0]===":")n[o.substring(1)]=i;else if(o!==i.path)return!1}return!0}function pC(e,t,n){let r=n.path.split("/"),o=r.indexOf("**");if(o===-1){if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let u={},d=e.slice(0,r.length);return Pp(r,d,u)?{consumed:d,posParams:u}:null}if(o!==r.lastIndexOf("**"))return null;let i=r.slice(0,o),s=r.slice(o+1);if(i.length+s.length>e.length||n.pathMatch==="full"&&t.hasChildren()&&n.path!=="**")return null;let a={};return!Pp(i,e.slice(0,i.length),a)||!Pp(s,e.slice(e.length-s.length),a)?null:{consumed:e,posParams:a}}function Ul(e){return new Promise((t,n)=>{e.pipe(un()).subscribe({next:r=>t(r),error:r=>n(r)})})}function oM(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!rn(e[n],t[n]))return!1;return!0}function rn(e,t){let n=e?Vp(e):void 0,r=t?Vp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!hC(e[o],t[o]))return!1;return!0}function Vp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function hC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function iM(e){return e.length>0?e[e.length-1]:null}function Or(e){return Ys(e)?e:Gn(e)?De(Promise.resolve(e)):K(e)}function gC(e){return Ys(e)?Ul(e):Promise.resolve(e)}var sM={exact:yC,subset:vC},mC={exact:aM,subset:lM,ignored:()=>!0};function oC(e,t,n){return sM[n.paths](e.root,t.root,n.matrixParams)&&mC[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function aM(e,t){return rn(e,t)}function yC(e,t,n){if(!xr(e.segments,t.segments)||!Ol(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!yC(e.children[r],t.children[r],n))return!1;return!0}function lM(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>hC(e[n],t[n]))}function vC(e,t,n){return EC(e,t,t.segments,n)}function EC(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!xr(o,n)||t.hasChildren()||!Ol(o,n,r))}else if(e.segments.length===n.length){if(!xr(e.segments,n)||!Ol(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!vC(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!xr(e.segments,o)||!Ol(e.segments,o,r)||!e.children[U]?!1:EC(e.children[U],t,i,r)}}function Ol(e,t,n){return t.every((r,o)=>mC[n](e[o].parameters,r.parameters))}var Vt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ee([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=kr(this.queryParams),this._queryParamMap}toString(){return dM.serialize(this)}},ee=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ll(this)}},jn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=kr(this.parameters),this._parameterMap}toString(){return _C(this)}};function uM(e,t){return xr(e,t)&&e.every((n,r)=>rn(n.parameters,t[r].parameters))}function xr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function cM(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===U&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==U&&(n=n.concat(t(o,r)))}),n}var bo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>new Wn,providedIn:"root"})}return e})(),Wn=class{parse(t){let n=new Bp(t);return new Vt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Zi(t.root,!0)}`,r=hM(t.queryParams),o=typeof t.fragment=="string"?`#${fM(t.fragment)}`:"";return`${n}${r}${o}`}},dM=new Wn;function Ll(e){return e.segments.map(t=>_C(t)).join("/")}function Zi(e,t){if(!e.hasChildren())return Ll(e);if(t){let n=e.children[U]?Zi(e.children[U],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==U&&r.push(`${o}:${Zi(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=cM(e,(r,o)=>o===U?[Zi(e.children[U],!1)]:[`${o}:${Zi(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[U]!=null?`${Ll(e)}/${n[0]}`:`${Ll(e)}/(${n.join("//")})`}}function CC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kl(e){return CC(e).replace(/%3B/gi,";")}function fM(e){return encodeURI(e)}function Up(e){return CC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vl(e){return decodeURIComponent(e)}function iC(e){return Vl(e.replace(/\+/g,"%20"))}function _C(e){return`${Up(e.path)}${pM(e.parameters)}`}function pM(e){return Object.entries(e).map(([t,n])=>`;${Up(t)}=${Up(n)}`).join("")}function hM(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${kl(n)}=${kl(o)}`).join("&"):`${kl(n)}=${kl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var gM=/^[^\/()?;#]+/;function kp(e){let t=e.match(gM);return t?t[0]:""}var mM=/^[^\/()?;=#]+/;function yM(e){let t=e.match(mM);return t?t[0]:""}var vM=/^[^=?&#]+/;function EM(e){let t=e.match(vM);return t?t[0]:""}var CM=/^[^&#]+/;function _M(e){let t=e.match(CM);return t?t[0]:""}var Bp=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(t=0){if(t>50)throw new b(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0,t));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1,t)),(n.length>0||Object.keys(r).length>0)&&(o[U]=new ee(n,r)),o}parseSegment(){let t=kp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new jn(Vl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=yM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=kp(this.remaining);o&&(r=o,this.capture(r))}t[Vl(n)]=Vl(r)}parseQueryParam(t){let n=EM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=_M(this.remaining);s&&(r=s,this.capture(r))}let o=iC(n),i=iC(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t,n){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=kp(this.remaining),i=this.remaining[o.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;o.indexOf(":")>-1?(s=o.slice(0,o.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=U);let a=this.parseChildren(n+1);r[s??U]=Object.keys(a).length===1&&a[U]?a[U]:new ee([],a),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function DC(e){return e.segments.length>0?new ee([],{[U]:e}):e}function IC(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=IC(o);if(r===U&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new ee(e.segments,t);return DM(n)}function DM(e){if(e.numberOfChildren===1&&e.children[U]){let t=e.children[U];return new ee(e.segments.concat(t.segments),t.children)}return e}function Jn(e){return e instanceof Vt}function TC(e,t,n=null,r=null,o=new Wn){let i=SC(e);return wC(i,t,n,r,o)}function SC(e){let t;function n(i){let s={};for(let u of i.children){let d=n(u);s[u.outlet]=d}let a=new ee(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=DC(r);return t??o}function wC(e,t,n,r,o){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Fp(i,i,i,n,r,o);let s=IM(t);if(s.toRoot())return Fp(i,i,new ee([],{}),n,r,o);let a=TM(s,i,e),u=a.processChildren?Xi(a.segmentGroup,a.index,s.commands):MC(a.segmentGroup,a.index,s.commands);return Fp(i,a.segmentGroup,u,n,r,o)}function Bl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ts(e){return typeof e=="object"&&e!=null&&e.outlets}function sC(e,t,n){e||="\u0275";let r=new Vt;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function Fp(e,t,n,r,o,i){let s={};for(let[d,f]of Object.entries(r??{}))s[d]=Array.isArray(f)?f.map(p=>sC(d,p,i)):sC(d,f,i);let a;e===t?a=n:a=AC(e,t,n);let u=DC(IC(a));return new Vt(u,s,o)}function AC(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=AC(i,t,n)}),new ee(e.segments,r)}var Hl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Bl(r[0]))throw new b(4003,!1);let o=r.find(ts);if(o&&o!==iM(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Hl(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Hl(n,t,r)}var Eo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function TM(e,t,n){if(e.isAbsolute)return new Eo(t,!0,0);if(!n)return new Eo(t,!1,NaN);if(n.parent===null)return new Eo(n,!0,0);let r=Bl(e.commands[0])?0:1,o=n.segments.length-1+r;return SM(n,o,e.numberOfDoubleDots)}function SM(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new b(4005,!1);o=r.segments.length}return new Eo(r,!1,o-i)}function wM(e){return ts(e[0])?e[0].outlets:{[U]:e}}function MC(e,t,n){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return Xi(e,t,n);let r=AM(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new ee(e.segments.slice(0,r.pathIndex),{});return i.children[U]=new ee(e.segments.slice(r.pathIndex),e.children),Xi(i,0,o)}else return r.match&&o.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?Hp(e,t,n):r.match?Xi(e,0,o):Hp(e,t,n)}function Xi(e,t,n){if(n.length===0)return new ee(e.segments,{});{let r=wM(n),o={};if(Object.keys(r).some(i=>i!==U)&&e.children[U]&&e.numberOfChildren===1&&e.children[U].segments.length===0){let i=Xi(e.children[U],t,n);return new ee(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=MC(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new ee(e.segments,o)}}function AM(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(ts(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(o>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!lC(u,d,s))return i;r+=2}else{if(!lC(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Hp(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(ts(i)){let u=MM(i.outlets);return new ee(r,u)}if(o===0&&Bl(n[0])){let u=e.segments[t];r.push(new jn(u.path,aC(n[0]))),o++;continue}let s=ts(i)?i.outlets[U]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Bl(a)?(r.push(new jn(s,aC(a))),o+=2):(r.push(new jn(s,{})),o++)}return new ee(r,{})}function MM(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Hp(new ee([],{}),0,r))}),t}function aC(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function lC(e,t,n){return e==n.path&&rn(t,n.parameters)}var Co="imperative",Me=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Me||{}),ut=class{id;url;constructor(t,n){this.id=t,this.url=n}},Yn=class extends ut{type=Me.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends ut{urlAfterRedirects;type=Me.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Be||{}),Do=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Do||{}),Et=class extends ut{reason;code;type=Me.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function bC(e){return e instanceof Et&&(e.code===Be.Redirect||e.code===Be.SupersededByNewNavigation)}var on=class extends ut{reason;code;type=Me.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Fr=class extends ut{error;target;type=Me.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Io=class extends ut{urlAfterRedirects;state;type=Me.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$l=class extends ut{urlAfterRedirects;state;type=Me.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gl=class extends ut{urlAfterRedirects;state;shouldActivate;type=Me.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ql=class extends ut{urlAfterRedirects;state;type=Me.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zl=class extends ut{urlAfterRedirects;state;type=Me.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jl=class{route;type=Me.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wl=class{route;type=Me.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jl=class{snapshot;type=Me.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yl=class{snapshot;type=Me.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kl=class{snapshot;type=Me.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zl=class{snapshot;type=Me.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},To=class{routerEvent;position;anchor;scrollBehavior;type=Me.Scroll;constructor(t,n,r,o){this.routerEvent=t,this.position=n,this.anchor=r,this.scrollBehavior=o}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},So=class{},wo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function bM(e){return!(e instanceof So)&&!(e instanceof wo)}var Ql=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new No(this.rootInjector)}},No=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ql(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)($(Ie))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=$p(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=$p(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Gp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Gp(t,this._root).map(n=>n.value)}};function $p(e,t){if(e===t.value)return t;for(let n of t.children){let r=$p(e,n);if(r)return r}return null}function Gp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Gp(e,n);if(r.length)return r.unshift(t),r}return[]}var lt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function vo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ns=class extends Xl{snapshot;constructor(t,n){super(t),this.snapshot=n,Zp(this,t)}toString(){return this.snapshot.toString()}};function NC(e,t){let n=NM(e,t),r=new Re([new jn("",{})]),o=new Re({}),i=new Re({}),s=new Re({}),a=new Re(""),u=new Sn(r,o,s,a,i,U,e,n.root);return u.snapshot=n.root,new ns(new lt(u,[]),n)}function NM(e,t){let n={},r={},o={},s=new Pr([],n,o,"",r,U,e,null,{},t);return new rs("",new lt(s,[]))}var Sn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,u){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(d=>d[ss]))??K(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(t=>kr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(t=>kr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function eu(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:S(S({},t.params),e.params),data:S(S({},t.data),e.data),resolve:S(S(S(S({},e.data),t.data),o?.data),e._resolvedData)}:r={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},o&&xC(o)&&(r.resolve[ss]=o.title),r}var Pr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[ss]}constructor(t,n,r,o,i,s,a,u,d,f){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d,this._environmentInjector=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},rs=class extends Xl{url;constructor(t,n){super(n),this.url=t,Zp(this,n)}toString(){return RC(this._root)}};function Zp(e,t){t.value._routerState=e,t.children.forEach(n=>Zp(e,n))}function RC(e){let t=e.children.length>0?` { ${e.children.map(RC).join(", ")} } `:"";return`${e.value}${t}`}function Op(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,rn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),rn(t.params,n.params)||e.paramsSubject.next(n.params),oM(t.url,n.url)||e.urlSubject.next(n.url),rn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function qp(e,t){let n=rn(e.params,t.params)&&uM(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||qp(e.parent,t.parent))}function xC(e){return typeof e.title=="string"||e.title===null}var PC=new R(""),as=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=U;activateEvents=new he;deactivateEvents=new he;attachEvents=new he;detachEvents=new he;routerOutletData=yo();parentContexts=D(No);location=D($n);changeDetector=D(In);inputBinder=D(ou,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new zp(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mt]})}return e})(),zp=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===Sn?this.route:t===No?this.childContexts:t===PC?this.outletData:this.parent.get(t,n)}},ou=new R("");var Qp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=se({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&j(0,"router-outlet")},dependencies:[as],encapsulation:2})}return e})();function Xp(e){let t=e.children&&e.children.map(Xp),n=t?B(S({},e),{children:t}):S({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=Qp),n}function RM(e,t,n){let r=os(e,t._root,n?n._root:void 0);return new ns(r,t)}function os(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=xM(e,t,n);return new lt(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>os(e,a)),s}}let r=PM(t.value),o=t.children.map(i=>os(e,i));return new lt(r,o)}}function xM(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return os(e,r,o);return os(e,r)})}function PM(e){return new Sn(new Re(e.url),new Re(e.params),new Re(e.queryParams),new Re(e.fragment),new Re(e.data),e.outlet,e.component,e)}var Ao=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},kC="ngNavigationCancelingError";function tu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Jn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=FC(!1,Be.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function FC(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[kC]=!0,n.cancellationCode=t,n}function kM(e){return OC(e)&&Jn(e.url)}function OC(e){return!!e&&e[kC]}var jp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Op(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=vo(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=vo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=vo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=vo(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Zl(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Yl(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(Op(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Op(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},nu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},_o=class{component;route;constructor(t,n){this.component=t,this.route=n}};function FM(e,t,n){let r=e._root,o=t?t._root:null;return Qi(r,o,n,[r.value])}function OM(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ro(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!ad(e)?e:t.get(e):r}function Qi(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=vo(t);return e.children.forEach(s=>{LM(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>es(a,n.getContext(s),o)),o}function LM(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let u=VM(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new nu(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Qi(e,t,a?a.children:null,r,o):Qi(e,t,n,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new _o(a.outlet.component,s))}else s&&es(t,a,o),o.canActivateChecks.push(new nu(r)),i.component?Qi(e,null,a?a.children:null,r,o):Qi(e,null,n,r,o);return o}function VM(e,t,n){if(typeof n=="function")return Ue(t._environmentInjector,()=>n(e,t));switch(n){case"pathParamsChange":return!xr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xr(e.url,t.url)||!rn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qp(e,t)||!rn(e.queryParams,t.queryParams);default:return!qp(e,t)}}function es(e,t,n){let r=vo(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?es(s,t.children.getContext(i),n):es(s,null,n):es(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new _o(t.outlet.component,o)):n.canDeactivateChecks.push(new _o(null,o)):n.canDeactivateChecks.push(new _o(null,o))}function ls(e){return typeof e=="function"}function UM(e){return typeof e=="boolean"}function BM(e){return e&&ls(e.canLoad)}function HM(e){return e&&ls(e.canActivate)}function $M(e){return e&&ls(e.canActivateChild)}function GM(e){return e&&ls(e.canDeactivate)}function qM(e){return e&&ls(e.canMatch)}function LC(e){return e instanceof ir||e?.name==="EmptyError"}var Fl=Symbol("INITIAL_VALUE");function Mo(){return cn(e=>Gc(e.map(t=>t.pipe(ln(1),jc(Fl)))).pipe(pe(t=>{for(let n of t)if(n!==!0){if(n===Fl)return Fl;if(n===!1||zM(n))return n}return!0}),an(t=>t!==Fl),ln(1)))}function zM(e){return Jn(e)||e instanceof Ao}function VC(e){return e.aborted?K(void 0).pipe(ln(1)):new Z(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function UC(e){return ri(VC(e))}function jM(e){return qe(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:i}}=t;return i.length===0&&o.length===0?K(B(S({},t),{guardsResult:!0})):WM(i,n,r).pipe(qe(s=>s&&UM(s)?JM(n,o,e):K(s)),pe(s=>B(S({},t),{guardsResult:s})))})}function WM(e,t,n){return De(e).pipe(qe(r=>XM(r.component,r.route,n,t)),un(r=>r!==!0,!0))}function JM(e,t,n){return De(t).pipe(Xs(r=>Kr(KM(r.route.parent,n),YM(r.route,n),QM(e,r.path),ZM(e,r.route))),un(r=>r!==!0,!0))}function YM(e,t){return e!==null&&t&&t(new Kl(e)),K(!0)}function KM(e,t){return e!==null&&t&&t(new Jl(e)),K(!0)}function ZM(e,t){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return K(!0);let r=n.map(o=>ti(()=>{let i=t._environmentInjector,s=Ro(o,i),a=HM(s)?s.canActivate(t,e):Ue(i,()=>s(t,e));return Or(a).pipe(un())}));return K(r).pipe(Mo())}function QM(e,t){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(i=>OM(i)).filter(i=>i!==null).map(i=>ti(()=>{let s=i.guards.map(a=>{let u=i.node._environmentInjector,d=Ro(a,u),f=$M(d)?d.canActivateChild(n,e):Ue(u,()=>d(n,e));return Or(f).pipe(un())});return K(s).pipe(Mo())}));return K(o).pipe(Mo())}function XM(e,t,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let i=o.map(s=>{let a=t._environmentInjector,u=Ro(s,a),d=GM(u)?u.canDeactivate(e,t,n,r):Ue(a,()=>u(e,t,n,r));return Or(d).pipe(un())});return K(i).pipe(Mo())}function eb(e,t,n,r,o){let i=t.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(a=>{let u=Ro(a,e),d=BM(u)?u.canLoad(t,n):Ue(e,()=>u(t,n)),f=Or(d);return o?f.pipe(UC(o)):f});return K(s).pipe(Mo(),BC(r))}function BC(e){return Uc(qt(t=>{if(typeof t!="boolean")throw tu(e,t)}),pe(t=>t===!0))}function tb(e,t,n,r,o){let i=t.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(a=>{let u=Ro(a,e),d=qM(u)?u.canMatch(t,n):Ue(e,()=>u(t,n));return Or(d).pipe(UC(o))});return K(s).pipe(Mo(),BC(r))}var Tn=class e extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,e.prototype)}},is=class e extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,e.prototype)}};function nb(e){throw new b(4e3,!1)}function rb(e){throw FC(!1,Be.GuardRejected)}var Wp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return r;if(o.numberOfChildren>1||!o.children[U])throw nb(`${t.redirectTo}`);o=o.children[U]}}async applyRedirectCommands(t,n,r,o,i){let s=await ob(n,o,i);if(s instanceof Vt)throw new is(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new is(a);return a}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new Vt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(t,u,r,o)}),new ee(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new b(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function ob(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:u,params:d,data:f,title:p,paramMap:h,queryParamMap:g}=t;return Ul(Or(Ue(n,()=>r({params:d,data:f,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:u,title:p,paramMap:h,queryParamMap:g}))))}function ib(e,t){return e.providers&&!e._injector&&(e._injector=Vi(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Lt(e){return e.outlet||U}function sb(e,t){let n=e.filter(r=>Lt(r)===t);return n.push(...e.filter(r=>Lt(r)!==t)),n}var Jp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ab(e,t,n,r,o,i){let s=HC(e,t,n);return s.matched?(r=ib(t,r),tb(r,t,n,o,i).pipe(pe(a=>a===!0?s:S({},Jp)))):K(s)}function HC(e,t,n){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?S({},Jp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||pC)(n,e,t);if(!o)return S({},Jp);let i={};Object.entries(o.posParams??{}).forEach(([a,u])=>{i[a]=u.path});let s=o.consumed.length>0?S(S({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function uC(e,t,n,r){return n.length>0&&cb(e,n,r)?{segmentGroup:new ee(t,ub(r,new ee(n,e.children))),slicedSegments:[]}:n.length===0&&db(e,n,r)?{segmentGroup:new ee(e.segments,lb(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:n}}function lb(e,t,n,r){let o={};for(let i of n)if(iu(e,t,i)&&!r[Lt(i)]){let s=new ee([],{});o[Lt(i)]=s}return S(S({},r),o)}function ub(e,t){let n={};n[U]=t;for(let r of e)if(r.path===""&&Lt(r)!==U){let o=new ee([],{});n[Lt(r)]=o}return n}function cb(e,t,n){return n.some(r=>iu(e,t,r)&&Lt(r)!==U)}function db(e,t,n){return n.some(r=>iu(e,t,r))}function iu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fb(e,t,n){return t.length===0&&!e.children[n]}var Yp=class{};async function pb(e,t,n,r,o,i,s="emptyOnly",a){return new Kp(e,t,n,r,o,s,i,a).recognize()}var hb=31,Kp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a,u){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new Wp(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}async recognize(){let t=uC(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),o=new lt(r,n),i=new rs("",o),s=TC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}async match(t){let n=new Pr([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,t,U,n),rootSnapshot:n}}catch(r){if(r instanceof is)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Tn?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,o,i){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,i);let s=await this.processSegment(t,n,r,r.segments,o,!0,i);return s instanceof lt?[s]:[]}async processChildren(t,n,r,o){let i=[];for(let u of Object.keys(r.children))u==="primary"?i.unshift(u):i.push(u);let s=[];for(let u of i){let d=r.children[u],f=sb(n,u),p=await this.processSegmentGroup(t,f,d,u,o);s.push(...p)}let a=$C(s);return gb(a),a}async processSegment(t,n,r,o,i,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??t,n,u,r,o,i,s,a)}catch(d){if(d instanceof Tn||LC(d))continue;throw d}if(fb(r,o,i))return new Yp;throw new Tn(r)}async processSegmentAgainstRoute(t,n,r,o,i,s,a,u){if(Lt(r)!==s&&(s===U||!iu(o,i,r)))throw new Tn(o);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,o,r,i,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,u);throw new Tn(o)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:p,remainingSegments:h}=HC(n,o,i);if(!u)throw new Tn(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hb&&(this.allowRedirects=!1));let g=new Pr(i,d,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,cC(o),Lt(o),o.component??o._loadedComponent??null,o,dC(o),t),m=eu(g,a,this.paramsInheritanceStrategy);if(g.params=Object.freeze(m.params),g.data=Object.freeze(m.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let y=await this.applyRedirects.applyRedirectCommands(f,o.redirectTo,p,g,t),E=await this.applyRedirects.lineralizeSegments(o,y);return this.processSegment(t,r,n,E.concat(h),s,!1,a)}async matchSegmentAgainstRoute(t,n,r,o,i,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Ul(ab(n,r,o,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Tn(n);t=r._injector??t;let{routes:u}=await this.getChildConfig(t,r,o),d=r._loadedInjector??t,{parameters:f,consumedSegments:p,remainingSegments:h}=a,g=new Pr(p,f,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,cC(r),Lt(r),r.component??r._loadedComponent??null,r,dC(r),t),m=eu(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:y,slicedSegments:E}=uC(n,p,h,u);if(E.length===0&&y.hasChildren()){let A=await this.processChildren(d,u,y,g);return new lt(g,A)}if(u.length===0&&E.length===0)return new lt(g,[]);let v=Lt(r)===i,w=await this.processSegment(d,u,y,E,v?U:i,!0,g);return new lt(g,w instanceof lt?[w]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0){let i=n._loadedNgModuleFactory;return i&&!n._loadedInjector&&(n._loadedInjector=i.create(t).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Ul(eb(t,n,r,this.urlSerializer,this.abortSignal))){let i=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=i.routes,n._loadedInjector=i.injector,n._loadedNgModuleFactory=i.factory,i}throw rb(n)}return{routes:[],injector:t}}};function gb(e){e.sort((t,n)=>t.value.outlet===U?-1:n.value.outlet===U?1:t.value.outlet.localeCompare(n.value.outlet))}function mb(e){let t=e.value.routeConfig;return t&&t.path===""}function $C(e){let t=[],n=new Set;for(let r of e){if(!mb(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=$C(r.children);t.push(new lt(r.value,o))}return t.filter(r=>!n.has(r))}function cC(e){return e.data||{}}function dC(e){return e.resolve||{}}function yb(e,t,n,r,o,i,s){return qe(async a=>{let{state:u,tree:d}=await pb(e,t,n,r,a.extractedUrl,o,i,s);return B(S({},a),{targetSnapshot:u,urlAfterRedirects:d})})}function vb(e){return qe(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return K(t);let o=new Set(r.map(a=>a.route)),i=new Set;for(let a of o)if(!i.has(a))for(let u of GC(a))i.add(u);let s=0;return De(i).pipe(Xs(a=>o.has(a)?Eb(a,n,e):(a.data=eu(a,a.parent,e).resolve,K(void 0))),qt(()=>s++),ea(1),qe(a=>s===i.size?K(t):xe))})}function GC(e){let t=e.children.map(n=>GC(n)).flat();return[e,...t]}function Eb(e,t,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!xC(r)&&(o[ss]=r.title),ti(()=>(e.data=eu(e,e.parent,n).resolve,Cb(o,e,t).pipe(pe(i=>(e._resolvedData=i,e.data=S(S({},e.data),i),null)))))}function Cb(e,t,n){let r=Vp(e);if(r.length===0)return K({});let o={};return De(r).pipe(qe(i=>_b(e[i],t,n).pipe(un(),qt(s=>{if(s instanceof Ao)throw tu(new Wn,s);o[i]=s}))),ea(1),pe(()=>o),ni(i=>LC(i)?xe:$c(i)))}function _b(e,t,n){let r=t._environmentInjector,o=Ro(e,r),i=o.resolve?o.resolve(t,n):Ue(r,()=>o(t,n));return Or(i)}function fC(e){return cn(t=>{let n=e(t);return n?De(n).pipe(pe(()=>t)):K(t)})}var eh=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===U);return r}getResolvedTitleForRoute(n){return n.data[ss]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>D(qC),providedIn:"root"})}return e})(),qC=(()=>{class e extends eh{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)($(rC))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xo=new R("",{factory:()=>({})}),us=new R(""),zC=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(hp);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await gC(Ue(n,()=>r.loadComponent())),s=await JC(WC(i));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await jC(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=i.routes,r._loadedInjector=i.injector,r._loadedNgModuleFactory=i.factory,i}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function jC(e,t,n,r){let o=await gC(Ue(n,()=>e.loadChildren())),i=await JC(WC(o)),s;i instanceof fl||Array.isArray(i)?s=i:s=await t.compileModuleAsync(i),r&&r(e);let a,u,d=!1,f;return Array.isArray(s)?(u=s,d=!0):(a=s.create(n).injector,f=s,u=a.get(us,[],{optional:!0,self:!0}).flat()),{routes:u.map(Xp),injector:a,factory:f}}function Db(e){return e&&typeof e=="object"&&"default"in e}function WC(e){return Db(e)?e.default:e}async function JC(e){return e}var su=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>D(Ib),providedIn:"root"})}return e})(),Ib=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),YC=new R("");var Tb=()=>{},KC=new R(""),th=(()=>{class e{currentNavigation=oe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=oe(null);events=new Ce;transitionAbortWithErrorSubject=new Ce;configLoader=D(zC);environmentInjector=D(Ie);destroyRef=D(Ye);urlSerializer=D(bo);rootContexts=D(No);location=D(Rr);inputBindingEnabled=D(ou,{optional:!0})!==null;titleStrategy=D(eh);options=D(xo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(su);createViewTransition=D(YC,{optional:!0});navigationErrorHandler=D(KC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new jl(o)),r=o=>this.events.next(new Wl(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;ye(()=>{this.transitions?.next(B(S({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Re(null),this.transitions.pipe(an(r=>r!==null),cn(r=>{let o=!1,i=new AbortController,s=()=>!o&&this.currentTransition?.id===r.id;return K(r).pipe(cn(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Be.SupersededByNewNavigation),xe;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:u?B(S({},u),{previousNavigation:null}):null,abort:()=>i.abort()});let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&f!=="reload")return this.events.next(new on(a.id,this.urlSerializer.serialize(a.rawUrl),"",Do.IgnoredSameUrlNavigation)),a.resolve(!1),xe;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return K(a).pipe(cn(p=>(this.events.next(new Yn(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?xe:Promise.resolve(p))),yb(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),qt(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(g=>(g.finalUrl=p.urlAfterRedirects,g));let h=new Io(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(h)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:h,source:g,restoredState:m,extras:y}=a,E=new Yn(p,this.urlSerializer.serialize(h),g,m);this.events.next(E);let v=NC(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=B(S({},a),{targetSnapshot:v,urlAfterRedirects:h,extras:B(S({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(w=>(w.finalUrl=h,w)),K(r)}else return this.events.next(new on(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Do.IgnoredByUrlHandlingStrategy)),a.resolve(!1),xe}),pe(a=>{let u=new $l(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(u),this.currentTransition=r=B(S({},a),{guards:FM(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),jM(a=>this.events.next(a)),cn(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw tu(this.urlSerializer,a.guardsResult);let u=new Gl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(u),!s())return xe;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Be.GuardRejected),xe;if(a.guards.canActivateChecks.length===0)return K(a);let d=new ql(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(d),!s())return xe;let f=!1;return K(a).pipe(vb(this.paramsInheritanceStrategy),qt({next:()=>{f=!0;let p=new zl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(p)},complete:()=>{f||this.cancelNavigationTransition(a,"",Be.NoDataFromResolver)}}))}),fC(a=>{let u=f=>{let p=[];if(f.routeConfig?._loadedComponent)f.component=f.routeConfig?._loadedComponent;else if(f.routeConfig?.loadComponent){let h=f._environmentInjector;p.push(this.configLoader.loadComponent(h,f.routeConfig).then(g=>{f.component=g}))}for(let h of f.children)p.push(...u(h));return p},d=u(a.targetSnapshot.root);return d.length===0?K(a):De(Promise.all(d).then(()=>a))}),fC(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?De(d).pipe(pe(()=>r)):K(r)}),ln(1),pe(a=>{let u=RM(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=B(S({},a),{targetRouterState:u}),this.currentNavigation.update(d=>(d.targetRouterState=u,d)),this.events.next(new So),s()&&(new jp(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,d=>this.events.next(d),this.inputBindingEnabled).activate(this.rootContexts),s()&&(o=!0,this.currentNavigation.update(d=>(d.abort=Tb,d)),this.lastSuccessfulNavigation.set(ye(this.currentNavigation)),this.events.next(new Ut(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),ri(VC(i.signal).pipe(an(()=>!o&&!r.targetRouterState),qt(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",Be.Aborted)}))),qt({complete:()=>{o=!0}}),ri(this.transitionAbortWithErrorSubject.pipe(qt(a=>{throw a}))),zc(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",Be.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ni(a=>{if(o=!0,this.destroyed)return r.resolve(!1),xe;if(OC(a))this.events.next(new Et(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),kM(a)?this.events.next(new wo(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new Fr(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let d=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Ao){let{message:f,cancellationCode:p}=tu(this.urlSerializer,d);this.events.next(new Et(r.id,this.urlSerializer.serialize(r.extractedUrl),f,p)),this.events.next(new wo(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return xe}))}))}cancelNavigationTransition(n,r,o){let i=new Et(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ye(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sb(e){return e!==Co}var ZC=new R("");var QC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>D(wb),providedIn:"root"})}return e})(),ru=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}shouldDestroyInjector(t){return!0}},wb=(()=>{class e extends ru{static \u0275fac=(()=>{let n;return function(o){return(n||(n=mn(e)))(o||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nh=(()=>{class e{urlSerializer=D(bo);options=D(xo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=D(Rr);urlHandlingStrategy=D(su);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Vt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=NC(null,D(Ie));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>D(Ab),providedIn:"root"})}return e})(),Ab=(()=>{class e extends nh{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Yn?this.updateStateMemento():n instanceof on?this.commitTransition(r):n instanceof Io?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof So?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Et&&!bC(n)?this.restoreHistory(r):n instanceof Fr?this.restoreHistory(r,!0):n instanceof Ut&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,u=S(S({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",u)}else{let a=S(S({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=mn(e)))(o||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rh(e,t){e.events.pipe(an(n=>n instanceof Ut||n instanceof Et||n instanceof Fr||n instanceof on),pe(n=>n instanceof Ut||n instanceof on?0:(n instanceof Et?n.code===Be.Redirect||n.code===Be.SupersededByNewNavigation:!1)?2:1),an(n=>n!==2),ln(1)).subscribe(()=>{t()})}var XC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cs=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(ip);stateManager=D(nh);options=D(xo,{optional:!0})||{};pendingTasks=D(Bn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(th);urlSerializer=D(bo);location=D(Rr);urlHandlingStrategy=D(su);injector=D(Ie);_events=new Ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(QC);injectorCleanup=D(ZC,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(us,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(ou,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=ye(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Et&&r.code!==Be.Redirect&&r.code!==Be.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ut)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof wo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),u=S({scroll:o.extras.scroll,browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Sb(o.source)},s);this.scheduleNavigation(a,Co,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}bM(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Co,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let u=S({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(i.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(u=>{this.disposed||this.injector.get(At)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ye(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Xp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=S(S({},this.currentUrlTree.queryParams),i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let h=o?o.snapshot:this.routerState.snapshot.root;p=SC(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return wC(p,n,f,d??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Jn(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Co,null,r)}navigate(n,r={skipLocationChange:!1}){return Mb(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(jt(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=S({},XC):r===!1?o=S({},e_):o=r,Jn(n))return oC(this.currentUrlTree,n,o);let i=this.parseUrl(n);return oC(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((p,h)=>{a=p,u=h});let f=this.pendingTasks.add();return rh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(Promise.reject.bind(Promise))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Mb(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new b(4008,!1)}var Kn=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=oe(null);get href(){return ye(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ce;applicationErrorHandler=D(At);options=D(xo,{optional:!0});constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(D(new wl("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(n=>{n instanceof Ut&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Jn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:Jn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(L(cs),L(Sn),xi("tabindex"),L(Pt),L(Fe),L(nn))};static \u0275dir=ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&ae("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Bi("href",o.reactiveHref(),Bf)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ft],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ft],replaceUrl:[2,"replaceUrl","replaceUrl",Ft],routerLink:"routerLink"},features:[mt]})}return e})();var t_=new R(""),Nb=(()=>{class e{options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Co;restoredId=0;store={};urlSerializer=D(bo);zone=D(je);viewportScroller=D(jE);transitions=D(th);constructor(n){this.options=n,this.options.scrollPositionRestoration||="disabled",this.options.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Yn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ut?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof on&&n.code===Do.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof To)||n.scrollBehavior==="manual")return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){let o=ye(this.transitions.currentNavigation)?.extras.scroll;this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new To(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r,o))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){rp()};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function oh(e,...t){return pi([{provide:us,multi:!0,useValue:e},[],{provide:Sn,useFactory:Rb},{provide:pl,multi:!0,useFactory:xb},t.map(n=>n.\u0275providers)])}function Rb(){return D(cs).routerState.root}function n_(e,t){return{\u0275kind:e,\u0275providers:t}}function ih(e={}){return n_(4,[{provide:t_,useFactory:()=>new Nb(e)}])}function xb(){let e=D(Ve);return t=>{let n=e.get(qn);if(t!==n.components[0])return;let r=e.get(cs),o=e.get(Pb);e.get(kb)===1&&r.initialNavigation(),e.get(Fb,null,{optional:!0})?.setUpPreloading(),e.get(t_,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Pb=new R("",{factory:()=>new Ce}),kb=new R("",{factory:()=>1});var Fb=new R("");function sh(){return n_(6,[{provide:nn,useClass:_p}])}var f_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(L(Pt),L(Fe))};static \u0275dir=ce({type:e})}return e})(),ch=(()=>{class e extends f_{static \u0275fac=(()=>{let n;return function(o){return(n||(n=mn(e)))(o||e)}})();static \u0275dir=ce({type:e,features:[Qe]})}return e})(),vs=new R("");var Ob={provide:vs,useExisting:dt(()=>Lo),multi:!0};function Lb(){let e=vt()?vt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Vb=new R(""),Lo=(()=>{class e extends f_{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Lb())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(L(Pt),L(Fe),L(Vb,8))};static \u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&ae("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Dn([Ob]),Qe]})}return e})();function dh(e){return e==null||fh(e)===0}function fh(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var mu=new R(""),yu=new R(""),Ub=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Zn=class{static min(t){return Bb(t)}static max(t){return Hb(t)}static required(t){return $b(t)}static requiredTrue(t){return Gb(t)}static email(t){return qb(t)}static minLength(t){return zb(t)}static maxLength(t){return jb(t)}static pattern(t){return Wb(t)}static nullValidator(t){return p_()}static compose(t){return E_(t)}static composeAsync(t){return C_(t)}};function Bb(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function Hb(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function $b(e){return dh(e.value)?{required:!0}:null}function Gb(e){return e.value===!0?null:{required:!0}}function qb(e){return dh(e.value)||Ub.test(e.value)?null:{email:!0}}function zb(e){return t=>{let n=t.value?.length??fh(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function jb(e){return t=>{let n=t.value?.length??fh(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Wb(e){if(!e)return p_;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(dh(r.value))return null;let o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}function p_(e){return null}function h_(e){return e!=null}function g_(e){return Gn(e)?De(e):e}function m_(e){let t={};return e.forEach(n=>{t=n!=null?S(S({},t),n):t}),Object.keys(t).length===0?null:t}function y_(e,t){return t.map(n=>n(e))}function Jb(e){return!e.validate}function v_(e){return e.map(t=>Jb(t)?t:n=>t.validate(n))}function E_(e){if(!e)return null;let t=e.filter(h_);return t.length==0?null:function(n){return m_(y_(n,t))}}function ph(e){return e!=null?E_(v_(e)):null}function C_(e){if(!e)return null;let t=e.filter(h_);return t.length==0?null:function(n){let r=y_(n,t).map(g_);return qc(r).pipe(pe(m_))}}function hh(e){return e!=null?C_(v_(e)):null}function r_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function __(e){return e._rawValidators}function D_(e){return e._rawAsyncValidators}function ah(e){return e?Array.isArray(e)?e:[e]:[]}function lu(e,t){return Array.isArray(e)?e.includes(t):e===t}function o_(e,t){let n=ah(t);return ah(e).forEach(o=>{lu(n,o)||n.push(o)}),n}function i_(e,t){return ah(t).filter(n=>!lu(e,n))}var uu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ph(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},wn=class extends uu{name;get formDirective(){return null}get path(){return null}},Lr=class extends uu{_parent=null;name=null;valueAccessor=null},cu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var vu=(()=>{class e extends cu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(L(Lr,2))};static \u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&be("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Qe]})}return e})(),Eu=(()=>{class e extends cu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(L(wn,10))};static \u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&be("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Qe]})}return e})();var ds="VALID",au="INVALID",Po="PENDING",fs="DISABLED",Qn=class{},du=class extends Qn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},hs=class extends Qn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},gs=class extends Qn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ko=class extends Qn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},fu=class extends Qn{source;constructor(t){super(),this.source=t}},ys=class extends Qn{source;constructor(t){super(),this.source=t}};function gh(e){return(Cu(e)?e.validators:e)||null}function Yb(e){return Array.isArray(e)?ph(e):e||null}function mh(e,t){return(Cu(t)?t.asyncValidators:e)||null}function Kb(e){return Array.isArray(e)?hh(e):e||null}function Cu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function I_(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function T_(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new b(1002,"")})}var Fo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ye(this.statusReactive)}set status(t){ye(()=>this.statusReactive.set(t))}_status=Xe(()=>this.statusReactive());statusReactive=oe(void 0);get valid(){return this.status===ds}get invalid(){return this.status===au}get pending(){return this.status==Po}get disabled(){return this.status===fs}get enabled(){return this.status!==fs}errors;get pristine(){return ye(this.pristineReactive)}set pristine(t){ye(()=>this.pristineReactive.set(t))}_pristine=Xe(()=>this.pristineReactive());pristineReactive=oe(!0);get dirty(){return!this.pristine}get touched(){return ye(this.touchedReactive)}set touched(t){ye(()=>this.touchedReactive.set(t))}_touched=Xe(()=>this.touchedReactive());touchedReactive=oe(!1);get untouched(){return!this.touched}_events=new Ce;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(o_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(o_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(i_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(i_(t,this._rawAsyncValidators))}hasValidator(t){return lu(this._rawValidators,t)}hasAsyncValidator(t){return lu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(B(S({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new gs(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new gs(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(B(S({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new hs(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new hs(!0,r))}markAsPending(t={}){this.status=Po;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ko(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(B(S({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=fs,this.errors=null,this._forEachChild(o=>{o.disable(B(S({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new du(this.value,r)),this._events.next(new ko(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(S({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ds,this._forEachChild(r=>{r.enable(B(S({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(B(S({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ds||this.status===Po)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new du(this.value,n)),this._events.next(new ko(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(B(S({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fs:ds}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Po,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=g_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ko(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?fs:this.errors?au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Po)?Po:this._anyControlsHaveStatus(au)?au:ds}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new hs(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new gs(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Cu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Yb(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Kb(this._rawAsyncValidators)}},Oo=class extends Fo{constructor(t,n,r){super(gh(n),mh(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){T_(this,!0,t),Object.keys(t).forEach(r=>{I_(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,B(S({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new ys(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var lh=class extends Oo{};var Es=new R("",{factory:()=>_u}),_u="always";function S_(e,t){return[...t.path,e]}function pu(e,t,n=_u){yh(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Qb(e,t),eN(e,t),Xb(e,t),Zb(e,t)}function s_(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),gu(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function hu(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Zb(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function yh(e,t){let n=__(e);t.validator!==null?e.setValidators(r_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=D_(e);t.asyncValidator!==null?e.setAsyncValidators(r_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();hu(t._rawValidators,o),hu(t._rawAsyncValidators,o)}function gu(e,t){let n=!1;if(e!==null){if(t.validator!==null){let o=__(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(t.asyncValidator!==null){let o=D_(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}let r=()=>{};return hu(t._rawValidators,r),hu(t._rawAsyncValidators,r),n}function Qb(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&w_(e,t)})}function Xb(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&w_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function w_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function eN(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function A_(e,t){e==null,yh(e,t)}function tN(e,t){return gu(e,t)}function M_(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function nN(e){return Object.getPrototypeOf(e.constructor)===ch}function b_(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function N_(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===Lo?n=i:nN(i)?r=i:o=i}),o||r||n||null}function rN(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var oN={provide:wn,useExisting:dt(()=>vh)},ps=Promise.resolve(),vh=(()=>{class e extends wn{callSetDisabledState;get submitted(){return ye(this.submittedReactive)}_submitted=Xe(()=>this.submittedReactive());submittedReactive=oe(!1);_directives=new Set;form;ngSubmit=new he;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new Oo({},ph(n),hh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ps.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),pu(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ps.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ps.then(()=>{let r=this._findContainer(n.path),o=new Oo({});A_(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ps.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ps.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),b_(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new fu(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(L(mu,10),L(yu,10),L(Es,8))};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&ae("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Dn([oN]),Qe]})}return e})();function a_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function l_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var ms=class extends Fo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(gh(n),mh(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(l_(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new ys(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){a_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){a_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){l_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var iN=e=>e instanceof ms;var sN={provide:Lr,useExisting:dt(()=>Eh)},u_=Promise.resolve(),Eh=(()=>{class e extends Lr{_changeDetectorRef;callSetDisabledState;control=new ms;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new he;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=N_(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),M_(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){u_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Ft(r);u_.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?S_(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(L(wn,9),L(mu,10),L(yu,10),L(vs,10),L(In,8),L(Es,8))};static \u0275dir=ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Dn([sN]),Qe,mt]})}return e})();var Du=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var uh=class extends Fo{constructor(t,n,r){super(gh(n),mh(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){T_(this,!1,t),t.forEach((r,o)=>{I_(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,o)=>{r.reset(t[o],B(S({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new ys(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};var aN=(()=>{class e extends wn{callSetDisabledState;get submitted(){return ye(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Xe(()=>this._submittedReactive());_submittedReactive=oe(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this.onChanges(n)}ngOnDestroy(){this.onDestroy()}onChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(gu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(n){let r=this.form.get(n.path);return pu(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){s_(n.control||null,n,!1),rN(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}getFormArray(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}updateModel(n,r){this.form.get(n.path).setValue(r)}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}onSubmit(n){return this.submitted=!0,b_(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new fu(this.control)),n?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(s_(r||null,n),iN(o)&&(pu(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);A_(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&tN(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yh(this.form,this),this._oldForm&&gu(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||e)(L(mu,10),L(yu,10),L(Es,8))};static \u0275dir=ce({type:e,features:[Qe,mt]})}return e})();var R_=new R("");var lN={provide:Lr,useExisting:dt(()=>Ch)},Ch=(()=>{class e extends Lr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new he;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=N_(this,i)}ngOnChanges(n){this._added||this._setUpControl(),M_(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return S_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(L(wn,13),L(mu,10),L(yu,10),L(vs,10),L(R_,8))};static \u0275dir=ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Dn([lN]),Qe,mt]})}return e})();var uN={provide:wn,useExisting:dt(()=>_h)},_h=(()=>{class e extends aN{form=null;ngSubmit=new he;get control(){return this.form}static \u0275fac=(()=>{let n;return function(o){return(n||(n=mn(e)))(o||e)}})();static \u0275dir=ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&ae("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Dn([uN]),Qe]})}return e})(),cN={provide:vs,useExisting:dt(()=>Iu),multi:!0};function x_(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function dN(e){return e.split(":")[0]}var Iu=(()=>{class e extends ch{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=D(qn).injector;destroyRef=D(Ye);cdr=D(In);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ki({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=x_(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=dN(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=mn(e)))(o||e)}})();static \u0275dir=ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&ae("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Dn([cN]),Qe]})}return e})(),P_=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(x_(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(L(Fe),L(Pt),L(Iu,9))};static \u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),fN={provide:vs,useExisting:dt(()=>k_),multi:!0};function c_(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function pN(e){return e.split(":")[0]}var k_=(()=>{class e extends ch{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);o.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);o.push(d)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=pN(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=mn(e)))(o||e)}})();static \u0275dir=ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&ae("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Dn([fN]),Qe]})}return e})(),F_=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(c_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(c_(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(L(Fe),L(Pt),L(k_,9))};static \u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var O_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=tn({type:e});static \u0275inj=It({})}return e})();function d_(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var L_=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),i={};return d_(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new Oo(o,i)}record(n,r=null){let o=this._reduceControls(n);return new lh(o,r)}control(n,r,o){let i={};return this.useNonNullable?(d_(r)?i=r:(i.validators=r,i.asyncValidators=o),new ms(n,B(S({},i),{nonNullable:!0}))):new ms(n,r,o)}array(n,r,o){let i=n.map(s=>this._createControl(s));return new uh(i,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof ms)return n;if(n instanceof Fo)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,i=n.length>2?n[2]:null;return this.control(r,o,i)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var V_=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Es,useValue:n.callSetDisabledState??_u}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=tn({type:e});static \u0275inj=It({imports:[O_]})}return e})(),U_=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:R_,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Es,useValue:n.callSetDisabledState??_u}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=tn({type:e});static \u0275inj=It({imports:[O_]})}return e})();var hN,gN;function mN(){return{geminiUrl:hN,vertexUrl:gN}}function yN(e,t,n,r){var o,i;if(!e?.baseUrl){let s=mN();return t?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(i=s.geminiUrl)!==null&&i!==void 0?i:r}return e.baseUrl}var $t=class{};function M(e,t){let n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){let i=t[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function c(e,t,n){for(let i=0;i<t.length-1;i++){let s=t[i];if(s.endsWith("[]")){let a=s.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[a])){let u=e[a];if(Array.isArray(n))for(let d=0;d<u.length;d++){let f=u[d];c(f,t.slice(i+1),n[d])}else for(let d of u)c(d,t.slice(i+1),n)}return}else if(s.endsWith("[0]")){let a=s.slice(0,-3);a in e||(e[a]=[{}]);let u=e[a];c(u[0],t.slice(i+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}let r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function l(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;let o=t[r];if(o.endsWith("[]")){let i=o.slice(0,-2);if(i in e){let s=e[i];return Array.isArray(s)?s.map(a=>l(a,t.slice(r+1),n)):n}else return n}else e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function vN(e,t){for(let[n,r]of Object.entries(t)){let o=n.split("."),i=r.split("."),s=new Set,a=-1;for(let u=0;u<o.length;u++)if(o[u]==="*"){a=u;break}if(a!==-1&&i.length>a)for(let u=a;u<i.length;u++){let d=i[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}Sh(e,o,i,0,s)}}function Sh(e,t,n,r,o){if(r>=t.length||typeof e!="object"||e===null)return;let i=t[r];if(i.endsWith("[]")){let s=i.slice(0,-2),a=e;if(s in a&&Array.isArray(a[s]))for(let u of a[s])Sh(u,t,n,r+1,o)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){let s=e,a=Object.keys(s).filter(d=>!d.startsWith("_")&&!o.has(d)),u={};for(let d of a)u[d]=s[d];for(let[d,f]of Object.entries(u)){let p=[];for(let h of n.slice(r))h==="*"?p.push(d):p.push(h);c(s,p,f)}for(let d of a)delete s[d]}}else{let s=e;i in s&&Sh(s[i],t,n,r+1,o)}}function Tg(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function EN(e){let t={},n=l(e,["operationName"]);n!=null&&c(t,["operationName"],n);let r=l(e,["resourceName"]);return r!=null&&c(t,["_url","resourceName"],r),t}function CN(e){let t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);let r=l(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=l(e,["done"]);o!=null&&c(t,["done"],o);let i=l(e,["error"]);i!=null&&c(t,["error"],i);let s=l(e,["response","generateVideoResponse"]);return s!=null&&c(t,["response"],DN(s)),t}function _N(e){let t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);let r=l(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=l(e,["done"]);o!=null&&c(t,["done"],o);let i=l(e,["error"]);i!=null&&c(t,["error"],i);let s=l(e,["response"]);return s!=null&&c(t,["response"],IN(s)),t}function DN(e){let t={},n=l(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>TN(s))),c(t,["generatedVideos"],i)}let r=l(e,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);let o=l(e,["raiMediaFilteredReasons"]);return o!=null&&c(t,["raiMediaFilteredReasons"],o),t}function IN(e){let t={},n=l(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>SN(s))),c(t,["generatedVideos"],i)}let r=l(e,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);let o=l(e,["raiMediaFilteredReasons"]);return o!=null&&c(t,["raiMediaFilteredReasons"],o),t}function TN(e){let t={},n=l(e,["video"]);return n!=null&&c(t,["video"],RN(n)),t}function SN(e){let t={},n=l(e,["_self"]);return n!=null&&c(t,["video"],xN(n)),t}function wN(e){let t={},n=l(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function AN(e){let t={},n=l(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function MN(e){let t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);let r=l(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=l(e,["done"]);o!=null&&c(t,["done"],o);let i=l(e,["error"]);i!=null&&c(t,["error"],i);let s=l(e,["response"]);return s!=null&&c(t,["response"],bN(s)),t}function bN(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["parent"]);r!=null&&c(t,["parent"],r);let o=l(e,["documentName"]);return o!=null&&c(t,["documentName"],o),t}function dD(e){let t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);let r=l(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=l(e,["done"]);o!=null&&c(t,["done"],o);let i=l(e,["error"]);i!=null&&c(t,["error"],i);let s=l(e,["response"]);return s!=null&&c(t,["response"],NN(s)),t}function NN(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["parent"]);r!=null&&c(t,["parent"],r);let o=l(e,["documentName"]);return o!=null&&c(t,["documentName"],o),t}function RN(e){let t={},n=l(e,["uri"]);n!=null&&c(t,["uri"],n);let r=l(e,["encodedVideo"]);r!=null&&c(t,["videoBytes"],Tg(r));let o=l(e,["encoding"]);return o!=null&&c(t,["mimeType"],o),t}function xN(e){let t={},n=l(e,["gcsUri"]);n!=null&&c(t,["uri"],n);let r=l(e,["bytesBase64Encoded"]);r!=null&&c(t,["videoBytes"],Tg(r));let o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}var Br=(function(e){return e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL",e})(Br||{});var wh=(function(e){return e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO",e})(wh||{});var fD=(function(e){return e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",e})(fD||{});var pD=(function(e){return e.COLLECTION="COLLECTION",e})(pD||{});var _s=(function(e){return e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT",e})(_s||{});var Is=class{constructor(t){let n={};for(let r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}};var Ur=class{get text(){var t,n,r,o,i,s,a,u;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(let[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(m!==null||m!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var t,n,r,o,i,s,a,u;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(let[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,o,i,s,a,u;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var t,n,r,o,i,s,a,u,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,o,i,s,a,u,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},Ru=class{},xu=class{},Ah=class{},Mh=class{},bh=class{},Nh=class{},Pu=class{},ku=class{},Fu=class{},Rh=class{};var Ou=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,o,i=t;return n?o=_N(i):o=CN(i),Object.assign(r,o),r}},Lu=class{},Vu=class{},Uu=class{},Bu=class{},xh=class{},Ph=class{},kh=class{};var Fh=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i=MN(t);return Object.assign(r,i),r}},Oh=class{},Lh=class{},Vh=class{},Uh=class{};var Hu=class{};var Bh=class{get text(){var t,n,r;let o="",i=!1,s=[];for(let a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[u,d]of Object.entries(a))u!=="text"&&u!=="thought"&&d!==null&&s.push(u);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,o+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var t,n,r;let o="",i=[];for(let s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[a,u]of Object.entries(s))a!=="inlineData"&&u!==null&&i.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}};var Hh=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var $h=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i=dD(t);return Object.assign(r,i),r}};function X(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){let n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function hD(e,t){let n=X(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function gD(e){return Array.isArray(e)?e.map(t=>$u(t)):[$u(e)]}function $u(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function mD(e){let t=$u(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function yD(e){let t=$u(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function H_(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function vD(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>H_(t)):[H_(e)]}function Gh(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function $_(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function G_(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function He(e){if(e==null)throw new Error("ContentUnion is required");return Gh(e)?e:{role:"user",parts:vD(e)}}function Sg(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{let r=He(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){let n=He(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>He(n)):[He(t)]}function Ct(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if($_(e)||G_(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[He(e)]}let t=[],n=[],r=Gh(e[0]);for(let o of e){let i=Gh(o);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(o);else{if($_(o)||G_(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:vD(n)}),t}function PN(e,t){e.includes("null")&&(t.nullable=!0);let n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Br).includes(n[0].toUpperCase())?n[0].toUpperCase():Br.TYPE_UNSPECIFIED;else{t.anyOf=[];for(let r of n)t.anyOf.push({type:Object.values(Br).includes(r.toUpperCase())?r.toUpperCase():Br.TYPE_UNSPECIFIED})}}function Uo(e){let t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&PN(e.type,t);for(let[s,a]of Object.entries(e))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(Br).includes(a.toUpperCase())?a.toUpperCase():Br.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Uo(a);else if(r.includes(s)){let u=[];for(let d of a){if(d.type=="null"){t.nullable=!0;continue}u.push(Uo(d))}t[s]=u}else if(o.includes(s)){let u={};for(let[d,f]of Object.entries(a))u[d]=Uo(f);t[s]=u}else{if(s==="additionalProperties")continue;t[s]=a}return t}function wg(e){return Uo(e)}function Ag(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Mg(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Go(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Uo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Uo(t.response));return e}function qo(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");let t=[];for(let n of e)t.push(n);return t}function kN(e,t,n,r=1){let o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Mn(e,t){if(typeof t!="string")throw new Error("name must be a string");return kN(e,t,"cachedContents")}function ED(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Xn(e){return Tg(e)}function FN(e){return e!=null&&typeof e=="object"&&"name"in e}function ON(e){return e!=null&&typeof e=="object"&&"video"in e}function LN(e){return e!=null&&typeof e=="object"&&"uri"in e}function CD(e){var t;let n;if(FN(e)&&(n=e.name),!(LN(e)&&(n=e.uri,n===void 0))&&!(ON(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _D(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function DD(e){for(let t of["models","tunedModels","publisherModels"])if(VN(e,t))return e[t];return[]}function VN(e,t){return e!==null&&typeof e=="object"&&t in e}function UN(e,t={}){let n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function BN(e,t={}){let n=[],r=new Set;for(let o of e){let i=o.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);let s=UN(o,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function ID(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function HN(e){if(typeof e!="string")return e;let t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function TD(e){if(typeof e!="object"||e===null)return{};let t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;let o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let i=!1;for(let s of o){if(typeof s!="object"||s===null)continue;let u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function zo(e,t){let n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function SD(e){let t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function $N(e){let t={},n=l(e,["responsesFile"]);n!=null&&c(t,["fileName"],n);let r=l(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>DR(s))),c(t,["inlinedResponses"],i)}let o=l(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(t,["inlinedEmbedContentResponses"],i)}return t}function GN(e){let t={},n=l(e,["predictionsFormat"]);n!=null&&c(t,["format"],n);let r=l(e,["gcsDestination","outputUriPrefix"]);r!=null&&c(t,["gcsUri"],r);let o=l(e,["bigqueryDestination","outputUri"]);return o!=null&&c(t,["bigqueryUri"],o),t}function qN(e){let t={},n=l(e,["format"]);n!=null&&c(t,["predictionsFormat"],n);let r=l(e,["gcsUri"]);r!=null&&c(t,["gcsDestination","outputUriPrefix"],r);let o=l(e,["bigqueryUri"]);if(o!=null&&c(t,["bigqueryDestination","outputUri"],o),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function bu(e){let t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);let r=l(e,["metadata","displayName"]);r!=null&&c(t,["displayName"],r);let o=l(e,["metadata","state"]);o!=null&&c(t,["state"],SD(o));let i=l(e,["metadata","createTime"]);i!=null&&c(t,["createTime"],i);let s=l(e,["metadata","endTime"]);s!=null&&c(t,["endTime"],s);let a=l(e,["metadata","updateTime"]);a!=null&&c(t,["updateTime"],a);let u=l(e,["metadata","model"]);u!=null&&c(t,["model"],u);let d=l(e,["metadata","output"]);return d!=null&&c(t,["dest"],$N(TD(d))),t}function qh(e){let t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);let r=l(e,["displayName"]);r!=null&&c(t,["displayName"],r);let o=l(e,["state"]);o!=null&&c(t,["state"],SD(o));let i=l(e,["error"]);i!=null&&c(t,["error"],i);let s=l(e,["createTime"]);s!=null&&c(t,["createTime"],s);let a=l(e,["startTime"]);a!=null&&c(t,["startTime"],a);let u=l(e,["endTime"]);u!=null&&c(t,["endTime"],u);let d=l(e,["updateTime"]);d!=null&&c(t,["updateTime"],d);let f=l(e,["model"]);f!=null&&c(t,["model"],f);let p=l(e,["inputConfig"]);p!=null&&c(t,["src"],zN(p));let h=l(e,["outputConfig"]);h!=null&&c(t,["dest"],GN(TD(h)));let g=l(e,["completionStats"]);return g!=null&&c(t,["completionStats"],g),t}function zN(e){let t={},n=l(e,["instancesFormat"]);n!=null&&c(t,["format"],n);let r=l(e,["gcsSource","uris"]);r!=null&&c(t,["gcsUri"],r);let o=l(e,["bigquerySource","inputUri"]);return o!=null&&c(t,["bigqueryUri"],o),t}function jN(e,t){let n={};if(l(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let r=l(t,["fileName"]);r!=null&&c(n,["fileName"],r);let o=l(t,["inlinedRequests"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>_R(e,s))),c(n,["requests","requests"],i)}return n}function WN(e){let t={},n=l(e,["format"]);n!=null&&c(t,["instancesFormat"],n);let r=l(e,["gcsUri"]);r!=null&&c(t,["gcsSource","uris"],r);let o=l(e,["bigqueryUri"]);if(o!=null&&c(t,["bigquerySource","inputUri"],o),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function JN(e){let t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function YN(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],zo(e,r)),n}function KN(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],zo(e,r)),n}function ZN(e){let t={},n=l(e,["content"]);n!=null&&c(t,["content"],n);let r=l(e,["citationMetadata"]);r!=null&&c(t,["citationMetadata"],QN(r));let o=l(e,["tokenCount"]);o!=null&&c(t,["tokenCount"],o);let i=l(e,["finishReason"]);i!=null&&c(t,["finishReason"],i);let s=l(e,["avgLogprobs"]);s!=null&&c(t,["avgLogprobs"],s);let a=l(e,["groundingMetadata"]);a!=null&&c(t,["groundingMetadata"],a);let u=l(e,["index"]);u!=null&&c(t,["index"],u);let d=l(e,["logprobsResult"]);d!=null&&c(t,["logprobsResult"],d);let f=l(e,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),c(t,["safetyRatings"],h)}let p=l(e,["urlContextMetadata"]);return p!=null&&c(t,["urlContextMetadata"],p),t}function QN(e){let t={},n=l(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),c(t,["citations"],r)}return t}function wD(e){let t={},n=l(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>bR(i))),c(t,["parts"],o)}let r=l(e,["role"]);return r!=null&&c(t,["role"],r),t}function XN(e,t){let n={},r=l(e,["displayName"]);if(t!==void 0&&r!=null&&c(t,["batch","displayName"],r),l(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function eR(e,t){let n={},r=l(e,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);let o=l(e,["dest"]);return t!==void 0&&o!=null&&c(t,["outputConfig"],qN(HN(o))),n}function q_(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["_url","model"],X(e,r));let o=l(t,["src"]);o!=null&&c(n,["batch","inputConfig"],jN(e,ID(e,o)));let i=l(t,["config"]);return i!=null&&XN(i,n),n}function tR(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["model"],X(e,r));let o=l(t,["src"]);o!=null&&c(n,["inputConfig"],WN(ID(e,o)));let i=l(t,["config"]);return i!=null&&eR(i,n),n}function nR(e,t){let n={},r=l(e,["displayName"]);return t!==void 0&&r!=null&&c(t,["batch","displayName"],r),n}function rR(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["_url","model"],X(e,r));let o=l(t,["src"]);o!=null&&c(n,["batch","inputConfig"],cR(e,o));let i=l(t,["config"]);return i!=null&&nR(i,n),n}function oR(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],zo(e,r)),n}function iR(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],zo(e,r)),n}function sR(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["name"]);r!=null&&c(t,["name"],r);let o=l(e,["done"]);o!=null&&c(t,["done"],o);let i=l(e,["error"]);return i!=null&&c(t,["error"],i),t}function aR(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["name"]);r!=null&&c(t,["name"],r);let o=l(e,["done"]);o!=null&&c(t,["done"],o);let i=l(e,["error"]);return i!=null&&c(t,["error"],i),t}function lR(e,t){let n={},r=l(t,["contents"]);if(r!=null){let i=Sg(e,r);Array.isArray(i)&&(i=i.map(s=>s)),c(n,["requests[]","request","content"],i)}let o=l(t,["config"]);return o!=null&&(c(n,["_self"],uR(o,n)),vN(n,{"requests[].*":"requests[].request.*"})),n}function uR(e,t){let n={},r=l(e,["taskType"]);t!==void 0&&r!=null&&c(t,["requests[]","taskType"],r);let o=l(e,["title"]);t!==void 0&&o!=null&&c(t,["requests[]","title"],o);let i=l(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&c(t,["requests[]","outputDimensionality"],i),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cR(e,t){let n={},r=l(t,["fileName"]);r!=null&&c(n,["file_name"],r);let o=l(t,["inlinedRequests"]);return o!=null&&c(n,["requests"],lR(e,o)),n}function dR(e){let t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);let r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function fR(e){let t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);let r=l(e,["args"]);r!=null&&c(t,["args"],r);let o=l(e,["name"]);if(o!=null&&c(t,["name"],o),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pR(e){let t={},n=l(e,["allowedFunctionNames"]);n!=null&&c(t,["allowedFunctionNames"],n);let r=l(e,["mode"]);if(r!=null&&c(t,["mode"],r),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function hR(e,t,n){let r={},o=l(t,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],wD(He(o)));let i=l(t,["temperature"]);i!=null&&c(r,["temperature"],i);let s=l(t,["topP"]);s!=null&&c(r,["topP"],s);let a=l(t,["topK"]);a!=null&&c(r,["topK"],a);let u=l(t,["candidateCount"]);u!=null&&c(r,["candidateCount"],u);let d=l(t,["maxOutputTokens"]);d!=null&&c(r,["maxOutputTokens"],d);let f=l(t,["stopSequences"]);f!=null&&c(r,["stopSequences"],f);let p=l(t,["responseLogprobs"]);p!=null&&c(r,["responseLogprobs"],p);let h=l(t,["logprobs"]);h!=null&&c(r,["logprobs"],h);let g=l(t,["presencePenalty"]);g!=null&&c(r,["presencePenalty"],g);let m=l(t,["frequencyPenalty"]);m!=null&&c(r,["frequencyPenalty"],m);let y=l(t,["seed"]);y!=null&&c(r,["seed"],y);let E=l(t,["responseMimeType"]);E!=null&&c(r,["responseMimeType"],E);let v=l(t,["responseSchema"]);v!=null&&c(r,["responseSchema"],wg(v));let w=l(t,["responseJsonSchema"]);if(w!=null&&c(r,["responseJsonSchema"],w),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let A=l(t,["safetySettings"]);if(n!==void 0&&A!=null){let $e=A;Array.isArray($e)&&($e=$e.map(Oe=>NR(Oe))),c(n,["safetySettings"],$e)}let N=l(t,["tools"]);if(n!==void 0&&N!=null){let $e=qo(N);Array.isArray($e)&&($e=$e.map(Oe=>xR(Go(Oe)))),c(n,["tools"],$e)}let I=l(t,["toolConfig"]);if(n!==void 0&&I!=null&&c(n,["toolConfig"],RR(I)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let W=l(t,["cachedContent"]);n!==void 0&&W!=null&&c(n,["cachedContent"],Mn(e,W));let z=l(t,["responseModalities"]);z!=null&&c(r,["responseModalities"],z);let de=l(t,["mediaResolution"]);de!=null&&c(r,["mediaResolution"],de);let F=l(t,["speechConfig"]);if(F!=null&&c(r,["speechConfig"],Ag(F)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let J=l(t,["thinkingConfig"]);J!=null&&c(r,["thinkingConfig"],J);let Ee=l(t,["imageConfig"]);Ee!=null&&c(r,["imageConfig"],CR(Ee));let rt=l(t,["enableEnhancedCivicAnswers"]);if(rt!=null&&c(r,["enableEnhancedCivicAnswers"],rt),l(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function gR(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>ZN(d))),c(t,["candidates"],u)}let o=l(e,["modelVersion"]);o!=null&&c(t,["modelVersion"],o);let i=l(e,["promptFeedback"]);i!=null&&c(t,["promptFeedback"],i);let s=l(e,["responseId"]);s!=null&&c(t,["responseId"],s);let a=l(e,["usageMetadata"]);return a!=null&&c(t,["usageMetadata"],a),t}function mR(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],zo(e,r)),n}function yR(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],zo(e,r)),n}function vR(e){let t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function ER(e){let t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function CR(e){let t={},n=l(e,["aspectRatio"]);n!=null&&c(t,["aspectRatio"],n);let r=l(e,["imageSize"]);if(r!=null&&c(t,["imageSize"],r),l(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function _R(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["request","model"],X(e,r));let o=l(t,["contents"]);if(o!=null){let a=Ct(o);Array.isArray(a)&&(a=a.map(u=>wD(u))),c(n,["request","contents"],a)}let i=l(t,["metadata"]);i!=null&&c(n,["metadata"],i);let s=l(t,["config"]);return s!=null&&c(n,["request","generationConfig"],hR(e,s,l(n,["request"],{}))),n}function DR(e){let t={},n=l(e,["response"]);n!=null&&c(t,["response"],gR(n));let r=l(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=l(e,["error"]);return o!=null&&c(t,["error"],o),t}function IR(e,t){let n={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=l(e,["pageToken"]);if(t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),l(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function TR(e,t){let n={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=l(e,["pageToken"]);t!==void 0&&o!=null&&c(t,["_query","pageToken"],o);let i=l(e,["filter"]);return t!==void 0&&i!=null&&c(t,["_query","filter"],i),n}function SR(e){let t={},n=l(e,["config"]);return n!=null&&IR(n,t),t}function wR(e){let t={},n=l(e,["config"]);return n!=null&&TR(n,t),t}function AR(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);let o=l(e,["operations"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>bu(s))),c(t,["batchJobs"],i)}return t}function MR(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);let o=l(e,["batchPredictionJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>qh(s))),c(t,["batchJobs"],i)}return t}function bR(e){let t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);let r=l(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=l(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let i=l(e,["fileData"]);i!=null&&c(t,["fileData"],dR(i));let s=l(e,["functionCall"]);s!=null&&c(t,["functionCall"],fR(s));let a=l(e,["functionResponse"]);a!=null&&c(t,["functionResponse"],a);let u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],JN(u));let d=l(e,["text"]);d!=null&&c(t,["text"],d);let f=l(e,["thought"]);f!=null&&c(t,["thought"],f);let p=l(e,["thoughtSignature"]);p!=null&&c(t,["thoughtSignature"],p);let h=l(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function NR(e){let t={},n=l(e,["category"]);if(n!=null&&c(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=l(e,["threshold"]);return r!=null&&c(t,["threshold"],r),t}function RR(e){let t={},n=l(e,["retrievalConfig"]);n!=null&&c(t,["retrievalConfig"],n);let r=l(e,["functionCallingConfig"]);return r!=null&&c(t,["functionCallingConfig"],pR(r)),t}function xR(e){let t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=l(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);let r=l(e,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);let o=l(e,["codeExecution"]);if(o!=null&&c(t,["codeExecution"],o),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=l(e,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["functionDeclarations"],f)}let s=l(e,["googleMaps"]);s!=null&&c(t,["googleMaps"],vR(s));let a=l(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],ER(a));let u=l(e,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);let d=l(e,["urlContext"]);return d!=null&&c(t,["urlContext"],d),t}var er=(function(e){return e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents",e})(er||{}),An=class{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}};var zh=class extends $t{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new An(er.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){let n=q_(this.apiClient,t),r=n._url,o=M("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,u=a.requests,d=[];for(let f of u){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return a.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){let r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){let i=this.getGcsUri(t),s=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${o}`;else if(s)r.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=tR(this.apiClient,t);return a=M("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>qh(f))}else{let d=q_(this.apiClient,t);return a=M("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>bu(f))}}async createEmbeddingsInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=rR(this.apiClient,t);return i=M("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>bu(u))}}async get(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=yR(this.apiClient,t);return a=M("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>qh(f))}else{let d=mR(this.apiClient,t);return a=M("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>bu(f))}}async cancel(t){var n,r,o,i;let s="",a={};if(this.apiClient.isVertexAI()){let u=KN(this.apiClient,t);s=M("batchPredictionJobs/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{let u=YN(this.apiClient,t);s=M("batches/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=wR(t);return a=M("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=MR(f),h=new Hu;return Object.assign(h,p),h})}else{let d=SR(t);return a=M("batches",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=AR(f),h=new Hu;return Object.assign(h,p),h})}}async delete(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=iR(this.apiClient,t);return a=M("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>aR(f))}else{let d=oR(this.apiClient,t);return a=M("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>sR(f))}}};function PR(e){let t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function z_(e){let t={},n=l(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>nx(i))),c(t,["parts"],o)}let r=l(e,["role"]);return r!=null&&c(t,["role"],r),t}function kR(e,t){let n={},r=l(e,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);let o=l(e,["expireTime"]);t!==void 0&&o!=null&&c(t,["expireTime"],o);let i=l(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);let s=l(e,["contents"]);if(t!==void 0&&s!=null){let f=Ct(s);Array.isArray(f)&&(f=f.map(p=>z_(p))),c(t,["contents"],f)}let a=l(e,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],z_(He(a)));let u=l(e,["tools"]);if(t!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>ox(p))),c(t,["tools"],f)}let d=l(e,["toolConfig"]);if(t!==void 0&&d!=null&&c(t,["toolConfig"],rx(d)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function FR(e,t){let n={},r=l(e,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);let o=l(e,["expireTime"]);t!==void 0&&o!=null&&c(t,["expireTime"],o);let i=l(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);let s=l(e,["contents"]);if(t!==void 0&&s!=null){let p=Ct(s);Array.isArray(p)&&(p=p.map(h=>h)),c(t,["contents"],p)}let a=l(e,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],He(a));let u=l(e,["tools"]);if(t!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>ix(h))),c(t,["tools"],p)}let d=l(e,["toolConfig"]);t!==void 0&&d!=null&&c(t,["toolConfig"],d);let f=l(e,["kmsKeyName"]);return t!==void 0&&f!=null&&c(t,["encryption_spec","kmsKeyName"],f),n}function OR(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["model"],hD(e,r));let o=l(t,["config"]);return o!=null&&kR(o,n),n}function LR(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["model"],hD(e,r));let o=l(t,["config"]);return o!=null&&FR(o,n),n}function VR(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],Mn(e,r)),n}function UR(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],Mn(e,r)),n}function BR(e){let t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function HR(e){let t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function $R(e){let t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);let r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function GR(e){let t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);let r=l(e,["args"]);r!=null&&c(t,["args"],r);let o=l(e,["name"]);if(o!=null&&c(t,["name"],o),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qR(e){let t={},n=l(e,["allowedFunctionNames"]);n!=null&&c(t,["allowedFunctionNames"],n);let r=l(e,["mode"]);if(r!=null&&c(t,["mode"],r),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function zR(e){let t={},n=l(e,["description"]);n!=null&&c(t,["description"],n);let r=l(e,["name"]);r!=null&&c(t,["name"],r);let o=l(e,["parameters"]);o!=null&&c(t,["parameters"],o);let i=l(e,["parametersJsonSchema"]);i!=null&&c(t,["parametersJsonSchema"],i);let s=l(e,["response"]);s!=null&&c(t,["response"],s);let a=l(e,["responseJsonSchema"]);if(a!=null&&c(t,["responseJsonSchema"],a),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function jR(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],Mn(e,r)),n}function WR(e,t){let n={},r=l(t,["name"]);return r!=null&&c(n,["_url","name"],Mn(e,r)),n}function JR(e){let t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function YR(e){let t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function KR(e,t){let n={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=l(e,["pageToken"]);return t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),n}function ZR(e,t){let n={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=l(e,["pageToken"]);return t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),n}function QR(e){let t={},n=l(e,["config"]);return n!=null&&KR(n,t),t}function XR(e){let t={},n=l(e,["config"]);return n!=null&&ZR(n,t),t}function ex(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);let o=l(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(t,["cachedContents"],i)}return t}function tx(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);let o=l(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(t,["cachedContents"],i)}return t}function nx(e){let t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);let r=l(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=l(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let i=l(e,["fileData"]);i!=null&&c(t,["fileData"],$R(i));let s=l(e,["functionCall"]);s!=null&&c(t,["functionCall"],GR(s));let a=l(e,["functionResponse"]);a!=null&&c(t,["functionResponse"],a);let u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],PR(u));let d=l(e,["text"]);d!=null&&c(t,["text"],d);let f=l(e,["thought"]);f!=null&&c(t,["thought"],f);let p=l(e,["thoughtSignature"]);p!=null&&c(t,["thoughtSignature"],p);let h=l(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function rx(e){let t={},n=l(e,["retrievalConfig"]);n!=null&&c(t,["retrievalConfig"],n);let r=l(e,["functionCallingConfig"]);return r!=null&&c(t,["functionCallingConfig"],qR(r)),t}function ox(e){let t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=l(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);let r=l(e,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);let o=l(e,["codeExecution"]);if(o!=null&&c(t,["codeExecution"],o),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=l(e,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["functionDeclarations"],f)}let s=l(e,["googleMaps"]);s!=null&&c(t,["googleMaps"],JR(s));let a=l(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],YR(a));let u=l(e,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);let d=l(e,["urlContext"]);return d!=null&&c(t,["urlContext"],d),t}function ix(e){let t={},n=l(e,["retrieval"]);n!=null&&c(t,["retrieval"],n);let r=l(e,["computerUse"]);if(r!=null&&c(t,["computerUse"],r),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=l(e,["codeExecution"]);o!=null&&c(t,["codeExecution"],o);let i=l(e,["enterpriseWebSearch"]);i!=null&&c(t,["enterpriseWebSearch"],i);let s=l(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>zR(h))),c(t,["functionDeclarations"],p)}let a=l(e,["googleMaps"]);a!=null&&c(t,["googleMaps"],a);let u=l(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],u);let d=l(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);let f=l(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function sx(e,t){let n={},r=l(e,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);let o=l(e,["expireTime"]);return t!==void 0&&o!=null&&c(t,["expireTime"],o),n}function ax(e,t){let n={},r=l(e,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);let o=l(e,["expireTime"]);return t!==void 0&&o!=null&&c(t,["expireTime"],o),n}function lx(e,t){let n={},r=l(t,["name"]);r!=null&&c(n,["_url","name"],Mn(e,r));let o=l(t,["config"]);return o!=null&&sx(o,n),n}function ux(e,t){let n={},r=l(t,["name"]);r!=null&&c(n,["_url","name"],Mn(e,r));let o=l(t,["config"]);return o!=null&&ax(o,n),n}var jh=class extends $t{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new An(er.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=LR(this.apiClient,t);return a=M("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=OR(this.apiClient,t);return a=M("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=WR(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=jR(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=UR(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=HR(f),h=new Uu;return Object.assign(h,p),h})}else{let d=VR(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=BR(f),h=new Uu;return Object.assign(h,p),h})}}async update(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=ux(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=lx(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=XR(t);return a=M("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=tx(f),h=new Bu;return Object.assign(h,p),h})}else{let d=QR(t);return a=M("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ex(f),h=new Bu;return Object.assign(h,p),h})}}};function Gu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function j_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(e){return this instanceof V?(this.v=e,this):new V(e)}function Bt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function a(g,m){r[g]&&(o[g]=function(y){return new Promise(function(E,v){i.push([g,y,E,v])>1||u(g,y)})},m&&(o[g]=m(o[g])))}function u(g,m){try{d(r[g](m))}catch(y){h(i[0][3],y)}}function d(g){g.value instanceof V?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function h(g,m){g(m),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Ht(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof j_=="function"?j_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,u){s=e[i](s),o(a,u,s.done,s.value)})}}function o(i,s,a,u){Promise.resolve(u).then(function(d){i({value:d,done:a})},s)}}function cx(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;let n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:AD(n)}function AD(e){if(e.parts===void 0||e.parts.length===0)return!1;for(let t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function dx(e){if(e.length!==0){for(let t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function W_(e){if(e===void 0||e.length===0)return[];let t=[],n=e.length,r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{let o=[],i=!0;for(;r<n&&e[r].role==="model";)o.push(e[r]),i&&!AD(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}var Wh=class{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Jh(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}},Jh=class{constructor(t,n,r,o={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),dx(i)}async sendMessage(t){var n;await this.sendPromise;let r=He(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,a;let u=await o,d=(s=(i=u.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(a=f.slice(p))!==null&&a!==void 0?a:[]);let g=d?[d]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;let r=He(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});let i=await o;return this.processStreamResponse(i,r)}getHistory(t=!1){let n=t?W_(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Bt(this,arguments,function*(){var o,i,s,a,u,d;let f=[];try{for(var p=!0,h=Ht(t),g;g=yield V(h.next()),o=g.done,!o;p=!0){a=g.value,p=!1;let m=a;if(cx(m)){let y=(d=(u=m.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content;y!==void 0&&f.push(y)}yield yield V(m)}}catch(m){i={error:m}}finally{try{!p&&!o&&(s=h.return)&&(yield V(s.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(t,n,r){let o=[];n.length>0&&n.every(i=>i.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...W_(r)):this.history.push(t),this.history.push(...o)}};var Ts=class e extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,e.prototype)}};function fx(e){let t={},n=l(e,["file"]);return n!=null&&c(t,["file"],n),t}function px(e){let t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function hx(e){let t={},n=l(e,["name"]);return n!=null&&c(t,["_url","file"],CD(n)),t}function gx(e){let t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function mx(e){let t={},n=l(e,["name"]);return n!=null&&c(t,["_url","file"],CD(n)),t}function yx(e){let t={},n=l(e,["uris"]);return n!=null&&c(t,["uris"],n),t}function vx(e,t){let n={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=l(e,["pageToken"]);return t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),n}function Ex(e){let t={},n=l(e,["config"]);return n!=null&&vx(n,t),t}function Cx(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);let o=l(e,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(t,["files"],i)}return t}function _x(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),c(t,["files"],o)}return t}var Yh=class extends $t{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new An(er.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Ex(t);return i=M("files",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=Cx(u),f=new Oh;return Object.assign(f,d),f})}}async createInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=fx(t);return i=M("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=px(u),f=new Lh;return Object.assign(f,d),f})}}async get(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=mx(t);return i=M("files/{file}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=hx(t);return i=M("files/{file}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=gx(u),f=new Vh;return Object.assign(f,d),f})}}async registerFilesInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=yx(t);return i=M("files:register",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=_x(u),f=new Uh;return Object.assign(f,d),f})}}};function Nu(e){let t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Dx(e){let t={},n=l(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Vx(i))),c(t,["parts"],o)}let r=l(e,["role"]);return r!=null&&c(t,["role"],r),t}function Ix(e){let t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);let r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Tx(e){let t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);let r=l(e,["args"]);r!=null&&c(t,["args"],r);let o=l(e,["name"]);if(o!=null&&c(t,["name"],o),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Sx(e){let t={},n=l(e,["description"]);n!=null&&c(t,["description"],n);let r=l(e,["name"]);r!=null&&c(t,["name"],r);let o=l(e,["parameters"]);o!=null&&c(t,["parameters"],o);let i=l(e,["parametersJsonSchema"]);i!=null&&c(t,["parametersJsonSchema"],i);let s=l(e,["response"]);s!=null&&c(t,["response"],s);let a=l(e,["responseJsonSchema"]);if(a!=null&&c(t,["responseJsonSchema"],a),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function wx(e){let t={},n=l(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);let r=l(e,["responseJsonSchema"]);r!=null&&c(t,["responseJsonSchema"],r);let o=l(e,["audioTimestamp"]);o!=null&&c(t,["audioTimestamp"],o);let i=l(e,["candidateCount"]);i!=null&&c(t,["candidateCount"],i);let s=l(e,["enableAffectiveDialog"]);s!=null&&c(t,["enableAffectiveDialog"],s);let a=l(e,["frequencyPenalty"]);a!=null&&c(t,["frequencyPenalty"],a);let u=l(e,["logprobs"]);u!=null&&c(t,["logprobs"],u);let d=l(e,["maxOutputTokens"]);d!=null&&c(t,["maxOutputTokens"],d);let f=l(e,["mediaResolution"]);f!=null&&c(t,["mediaResolution"],f);let p=l(e,["presencePenalty"]);p!=null&&c(t,["presencePenalty"],p);let h=l(e,["responseLogprobs"]);h!=null&&c(t,["responseLogprobs"],h);let g=l(e,["responseMimeType"]);g!=null&&c(t,["responseMimeType"],g);let m=l(e,["responseModalities"]);m!=null&&c(t,["responseModalities"],m);let y=l(e,["responseSchema"]);y!=null&&c(t,["responseSchema"],y);let E=l(e,["routingConfig"]);E!=null&&c(t,["routingConfig"],E);let v=l(e,["seed"]);v!=null&&c(t,["seed"],v);let w=l(e,["speechConfig"]);w!=null&&c(t,["speechConfig"],w);let A=l(e,["stopSequences"]);A!=null&&c(t,["stopSequences"],A);let N=l(e,["temperature"]);N!=null&&c(t,["temperature"],N);let I=l(e,["thinkingConfig"]);I!=null&&c(t,["thinkingConfig"],I);let W=l(e,["topK"]);W!=null&&c(t,["topK"],W);let z=l(e,["topP"]);if(z!=null&&c(t,["topP"],z),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ax(e){let t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function Mx(e){let t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function bx(e,t){let n={},r=l(e,["generationConfig"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig"],r);let o=l(e,["responseModalities"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","responseModalities"],o);let i=l(e,["temperature"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","temperature"],i);let s=l(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);let a=l(e,["topK"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","topK"],a);let u=l(e,["maxOutputTokens"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","maxOutputTokens"],u);let d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","mediaResolution"],d);let f=l(e,["seed"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","seed"],f);let p=l(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],Mg(p));let h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);let g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);let m=l(e,["systemInstruction"]);t!==void 0&&m!=null&&c(t,["setup","systemInstruction"],Dx(He(m)));let y=l(e,["tools"]);if(t!==void 0&&y!=null){let W=qo(y);Array.isArray(W)&&(W=W.map(z=>Bx(Go(z)))),c(t,["setup","tools"],W)}let E=l(e,["sessionResumption"]);t!==void 0&&E!=null&&c(t,["setup","sessionResumption"],Ux(E));let v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&c(t,["setup","inputAudioTranscription"],v);let w=l(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&c(t,["setup","outputAudioTranscription"],w);let A=l(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&c(t,["setup","realtimeInputConfig"],A);let N=l(e,["contextWindowCompression"]);t!==void 0&&N!=null&&c(t,["setup","contextWindowCompression"],N);let I=l(e,["proactivity"]);if(t!==void 0&&I!=null&&c(t,["setup","proactivity"],I),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Nx(e,t){let n={},r=l(e,["generationConfig"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig"],wx(r));let o=l(e,["responseModalities"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","responseModalities"],o);let i=l(e,["temperature"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","temperature"],i);let s=l(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);let a=l(e,["topK"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","topK"],a);let u=l(e,["maxOutputTokens"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","maxOutputTokens"],u);let d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","mediaResolution"],d);let f=l(e,["seed"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","seed"],f);let p=l(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],Mg(p));let h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);let g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);let m=l(e,["systemInstruction"]);t!==void 0&&m!=null&&c(t,["setup","systemInstruction"],He(m));let y=l(e,["tools"]);if(t!==void 0&&y!=null){let z=qo(y);Array.isArray(z)&&(z=z.map(de=>Hx(Go(de)))),c(t,["setup","tools"],z)}let E=l(e,["sessionResumption"]);t!==void 0&&E!=null&&c(t,["setup","sessionResumption"],E);let v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&c(t,["setup","inputAudioTranscription"],v);let w=l(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&c(t,["setup","outputAudioTranscription"],w);let A=l(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&c(t,["setup","realtimeInputConfig"],A);let N=l(e,["contextWindowCompression"]);t!==void 0&&N!=null&&c(t,["setup","contextWindowCompression"],N);let I=l(e,["proactivity"]);t!==void 0&&I!=null&&c(t,["setup","proactivity"],I);let W=l(e,["explicitVadSignal"]);return t!==void 0&&W!=null&&c(t,["setup","explicitVadSignal"],W),n}function Rx(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["setup","model"],X(e,r));let o=l(t,["config"]);return o!=null&&c(n,["config"],bx(o,n)),n}function xx(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["setup","model"],X(e,r));let o=l(t,["config"]);return o!=null&&c(n,["config"],Nx(o,n)),n}function Px(e){let t={},n=l(e,["musicGenerationConfig"]);return n!=null&&c(t,["musicGenerationConfig"],n),t}function kx(e){let t={},n=l(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),c(t,["weightedPrompts"],r)}return t}function Fx(e){let t={},n=l(e,["media"]);if(n!=null){let d=gD(n);Array.isArray(d)&&(d=d.map(f=>Nu(f))),c(t,["mediaChunks"],d)}let r=l(e,["audio"]);r!=null&&c(t,["audio"],Nu(yD(r)));let o=l(e,["audioStreamEnd"]);o!=null&&c(t,["audioStreamEnd"],o);let i=l(e,["video"]);i!=null&&c(t,["video"],Nu(mD(i)));let s=l(e,["text"]);s!=null&&c(t,["text"],s);let a=l(e,["activityStart"]);a!=null&&c(t,["activityStart"],a);let u=l(e,["activityEnd"]);return u!=null&&c(t,["activityEnd"],u),t}function Ox(e){let t={},n=l(e,["media"]);if(n!=null){let d=gD(n);Array.isArray(d)&&(d=d.map(f=>f)),c(t,["mediaChunks"],d)}let r=l(e,["audio"]);r!=null&&c(t,["audio"],yD(r));let o=l(e,["audioStreamEnd"]);o!=null&&c(t,["audioStreamEnd"],o);let i=l(e,["video"]);i!=null&&c(t,["video"],mD(i));let s=l(e,["text"]);s!=null&&c(t,["text"],s);let a=l(e,["activityStart"]);a!=null&&c(t,["activityStart"],a);let u=l(e,["activityEnd"]);return u!=null&&c(t,["activityEnd"],u),t}function Lx(e){let t={},n=l(e,["setupComplete"]);n!=null&&c(t,["setupComplete"],n);let r=l(e,["serverContent"]);r!=null&&c(t,["serverContent"],r);let o=l(e,["toolCall"]);o!=null&&c(t,["toolCall"],o);let i=l(e,["toolCallCancellation"]);i!=null&&c(t,["toolCallCancellation"],i);let s=l(e,["usageMetadata"]);s!=null&&c(t,["usageMetadata"],$x(s));let a=l(e,["goAway"]);a!=null&&c(t,["goAway"],a);let u=l(e,["sessionResumptionUpdate"]);u!=null&&c(t,["sessionResumptionUpdate"],u);let d=l(e,["voiceActivityDetectionSignal"]);d!=null&&c(t,["voiceActivityDetectionSignal"],d);let f=l(e,["voiceActivity"]);return f!=null&&c(t,["voiceActivity"],Gx(f)),t}function Vx(e){let t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);let r=l(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=l(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let i=l(e,["fileData"]);i!=null&&c(t,["fileData"],Ix(i));let s=l(e,["functionCall"]);s!=null&&c(t,["functionCall"],Tx(s));let a=l(e,["functionResponse"]);a!=null&&c(t,["functionResponse"],a);let u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],Nu(u));let d=l(e,["text"]);d!=null&&c(t,["text"],d);let f=l(e,["thought"]);f!=null&&c(t,["thought"],f);let p=l(e,["thoughtSignature"]);p!=null&&c(t,["thoughtSignature"],p);let h=l(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function Ux(e){let t={},n=l(e,["handle"]);if(n!=null&&c(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Bx(e){let t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=l(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);let r=l(e,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);let o=l(e,["codeExecution"]);if(o!=null&&c(t,["codeExecution"],o),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=l(e,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["functionDeclarations"],f)}let s=l(e,["googleMaps"]);s!=null&&c(t,["googleMaps"],Ax(s));let a=l(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],Mx(a));let u=l(e,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);let d=l(e,["urlContext"]);return d!=null&&c(t,["urlContext"],d),t}function Hx(e){let t={},n=l(e,["retrieval"]);n!=null&&c(t,["retrieval"],n);let r=l(e,["computerUse"]);if(r!=null&&c(t,["computerUse"],r),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=l(e,["codeExecution"]);o!=null&&c(t,["codeExecution"],o);let i=l(e,["enterpriseWebSearch"]);i!=null&&c(t,["enterpriseWebSearch"],i);let s=l(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>Sx(h))),c(t,["functionDeclarations"],p)}let a=l(e,["googleMaps"]);a!=null&&c(t,["googleMaps"],a);let u=l(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],u);let d=l(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);let f=l(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function $x(e){let t={},n=l(e,["promptTokenCount"]);n!=null&&c(t,["promptTokenCount"],n);let r=l(e,["cachedContentTokenCount"]);r!=null&&c(t,["cachedContentTokenCount"],r);let o=l(e,["candidatesTokenCount"]);o!=null&&c(t,["responseTokenCount"],o);let i=l(e,["toolUsePromptTokenCount"]);i!=null&&c(t,["toolUsePromptTokenCount"],i);let s=l(e,["thoughtsTokenCount"]);s!=null&&c(t,["thoughtsTokenCount"],s);let a=l(e,["totalTokenCount"]);a!=null&&c(t,["totalTokenCount"],a);let u=l(e,["promptTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(m=>m)),c(t,["promptTokensDetails"],g)}let d=l(e,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>m)),c(t,["cacheTokensDetails"],g)}let f=l(e,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),c(t,["responseTokensDetails"],g)}let p=l(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),c(t,["toolUsePromptTokensDetails"],g)}let h=l(e,["trafficType"]);return h!=null&&c(t,["trafficType"],h),t}function Gx(e){let t={},n=l(e,["type"]);return n!=null&&c(t,["voiceActivityType"],n),t}function qx(e,t){let n={},r=l(e,["data"]);if(r!=null&&c(n,["data"],r),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=l(e,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function zx(e,t){let n={},r=l(e,["content"]);r!=null&&c(n,["content"],r);let o=l(e,["citationMetadata"]);o!=null&&c(n,["citationMetadata"],jx(o));let i=l(e,["tokenCount"]);i!=null&&c(n,["tokenCount"],i);let s=l(e,["finishReason"]);s!=null&&c(n,["finishReason"],s);let a=l(e,["avgLogprobs"]);a!=null&&c(n,["avgLogprobs"],a);let u=l(e,["groundingMetadata"]);u!=null&&c(n,["groundingMetadata"],u);let d=l(e,["index"]);d!=null&&c(n,["index"],d);let f=l(e,["logprobsResult"]);f!=null&&c(n,["logprobsResult"],f);let p=l(e,["safetyRatings"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),c(n,["safetyRatings"],g)}let h=l(e,["urlContextMetadata"]);return h!=null&&c(n,["urlContextMetadata"],h),n}function jx(e,t){let n={},r=l(e,["citationSources"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),c(n,["citations"],o)}return n}function Wx(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["contents"]);if(i!=null){let s=Ct(i);Array.isArray(s)&&(s=s.map(a=>a)),c(r,["contents"],s)}return r}function Jx(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(n,["tokensInfo"],i)}return n}function Yx(e,t){let n={},r=l(e,["values"]);r!=null&&c(n,["values"],r);let o=l(e,["statistics"]);return o!=null&&c(n,["statistics"],Kx(o)),n}function Kx(e,t){let n={},r=l(e,["truncated"]);r!=null&&c(n,["truncated"],r);let o=l(e,["token_count"]);return o!=null&&c(n,["tokenCount"],o),n}function oc(e,t){let n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>ik(s))),c(n,["parts"],i)}let o=l(e,["role"]);return o!=null&&c(n,["role"],o),n}function Zx(e,t){let n={},r=l(e,["controlType"]);r!=null&&c(n,["controlType"],r);let o=l(e,["enableControlImageComputation"]);return o!=null&&c(n,["computeControl"],o),n}function Qx(e,t){let n={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Xx(e,t,n){let r={},o=l(e,["systemInstruction"]);t!==void 0&&o!=null&&c(t,["systemInstruction"],He(o));let i=l(e,["tools"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>RD(u))),c(t,["tools"],a)}let s=l(e,["generationConfig"]);return t!==void 0&&s!=null&&c(t,["generationConfig"],qP(s)),r}function eP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["contents"]);if(i!=null){let a=Ct(i);Array.isArray(a)&&(a=a.map(u=>oc(u))),c(r,["contents"],a)}let s=l(t,["config"]);return s!=null&&Qx(s),r}function tP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["contents"]);if(i!=null){let a=Ct(i);Array.isArray(a)&&(a=a.map(u=>u)),c(r,["contents"],a)}let s=l(t,["config"]);return s!=null&&Xx(s,r),r}function nP(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["totalTokens"]);o!=null&&c(n,["totalTokens"],o);let i=l(e,["cachedContentTokenCount"]);return i!=null&&c(n,["cachedContentTokenCount"],i),n}function rP(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["totalTokens"]);return o!=null&&c(n,["totalTokens"],o),n}function oP(e,t,n){let r={},o=l(t,["model"]);return o!=null&&c(r,["_url","name"],X(e,o)),r}function iP(e,t,n){let r={},o=l(t,["model"]);return o!=null&&c(r,["_url","name"],X(e,o)),r}function sP(e,t){let n={},r=l(e,["sdkHttpResponse"]);return r!=null&&c(n,["sdkHttpResponse"],r),n}function aP(e,t){let n={},r=l(e,["sdkHttpResponse"]);return r!=null&&c(n,["sdkHttpResponse"],r),n}function lP(e,t,n){let r={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);let i=l(e,["negativePrompt"]);t!==void 0&&i!=null&&c(t,["parameters","negativePrompt"],i);let s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);let a=l(e,["aspectRatio"]);t!==void 0&&a!=null&&c(t,["parameters","aspectRatio"],a);let u=l(e,["guidanceScale"]);t!==void 0&&u!=null&&c(t,["parameters","guidanceScale"],u);let d=l(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);let f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);let p=l(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);let h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&c(t,["parameters","includeSafetyAttributes"],h);let g=l(e,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);let m=l(e,["language"]);t!==void 0&&m!=null&&c(t,["parameters","language"],m);let y=l(e,["outputMimeType"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","mimeType"],y);let E=l(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);let v=l(e,["addWatermark"]);t!==void 0&&v!=null&&c(t,["parameters","addWatermark"],v);let w=l(e,["labels"]);t!==void 0&&w!=null&&c(t,["labels"],w);let A=l(e,["editMode"]);t!==void 0&&A!=null&&c(t,["parameters","editMode"],A);let N=l(e,["baseSteps"]);return t!==void 0&&N!=null&&c(t,["parameters","editConfig","baseSteps"],N),r}function uP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["prompt"]);i!=null&&c(r,["instances[0]","prompt"],i);let s=l(t,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>dk(d))),c(r,["instances[0]","referenceImages"],u)}let a=l(t,["config"]);return a!=null&&lP(a,r),r}function cP(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ic(s))),c(n,["generatedImages"],i)}return n}function dP(e,t,n){let r={},o=l(e,["taskType"]);t!==void 0&&o!=null&&c(t,["requests[]","taskType"],o);let i=l(e,["title"]);t!==void 0&&i!=null&&c(t,["requests[]","title"],i);let s=l(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&c(t,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function fP(e,t,n){let r={},o=l(e,["taskType"]);t!==void 0&&o!=null&&c(t,["instances[]","task_type"],o);let i=l(e,["title"]);t!==void 0&&i!=null&&c(t,["instances[]","title"],i);let s=l(e,["outputDimensionality"]);t!==void 0&&s!=null&&c(t,["parameters","outputDimensionality"],s);let a=l(e,["mimeType"]);t!==void 0&&a!=null&&c(t,["instances[]","mimeType"],a);let u=l(e,["autoTruncate"]);return t!==void 0&&u!=null&&c(t,["parameters","autoTruncate"],u),r}function pP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["contents"]);if(i!=null){let u=Sg(e,i);Array.isArray(u)&&(u=u.map(d=>d)),c(r,["requests[]","content"],u)}let s=l(t,["config"]);s!=null&&dP(s,r);let a=l(t,["model"]);return a!==void 0&&c(r,["requests[]","model"],X(e,a)),r}function hP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["contents"]);if(i!=null){let a=Sg(e,i);Array.isArray(a)&&(a=a.map(u=>u)),c(r,["instances[]","content"],a)}let s=l(t,["config"]);return s!=null&&fP(s,r),r}function gP(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),c(n,["embeddings"],s)}let i=l(e,["metadata"]);return i!=null&&c(n,["metadata"],i),n}function mP(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["predictions[]","embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Yx(a))),c(n,["embeddings"],s)}let i=l(e,["metadata"]);return i!=null&&c(n,["metadata"],i),n}function yP(e,t){let n={},r=l(e,["endpoint"]);r!=null&&c(n,["name"],r);let o=l(e,["deployedModelId"]);return o!=null&&c(n,["deployedModelId"],o),n}function vP(e,t){let n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=l(e,["fileUri"]);r!=null&&c(n,["fileUri"],r);let o=l(e,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function EP(e,t){let n={},r=l(e,["id"]);r!=null&&c(n,["id"],r);let o=l(e,["args"]);o!=null&&c(n,["args"],o);let i=l(e,["name"]);if(i!=null&&c(n,["name"],i),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function CP(e,t){let n={},r=l(e,["allowedFunctionNames"]);r!=null&&c(n,["allowedFunctionNames"],r);let o=l(e,["mode"]);if(o!=null&&c(n,["mode"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function _P(e,t){let n={},r=l(e,["description"]);r!=null&&c(n,["description"],r);let o=l(e,["name"]);o!=null&&c(n,["name"],o);let i=l(e,["parameters"]);i!=null&&c(n,["parameters"],i);let s=l(e,["parametersJsonSchema"]);s!=null&&c(n,["parametersJsonSchema"],s);let a=l(e,["response"]);a!=null&&c(n,["response"],a);let u=l(e,["responseJsonSchema"]);if(u!=null&&c(n,["responseJsonSchema"],u),l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function DP(e,t,n,r){let o={},i=l(t,["systemInstruction"]);n!==void 0&&i!=null&&c(n,["systemInstruction"],oc(He(i)));let s=l(t,["temperature"]);s!=null&&c(o,["temperature"],s);let a=l(t,["topP"]);a!=null&&c(o,["topP"],a);let u=l(t,["topK"]);u!=null&&c(o,["topK"],u);let d=l(t,["candidateCount"]);d!=null&&c(o,["candidateCount"],d);let f=l(t,["maxOutputTokens"]);f!=null&&c(o,["maxOutputTokens"],f);let p=l(t,["stopSequences"]);p!=null&&c(o,["stopSequences"],p);let h=l(t,["responseLogprobs"]);h!=null&&c(o,["responseLogprobs"],h);let g=l(t,["logprobs"]);g!=null&&c(o,["logprobs"],g);let m=l(t,["presencePenalty"]);m!=null&&c(o,["presencePenalty"],m);let y=l(t,["frequencyPenalty"]);y!=null&&c(o,["frequencyPenalty"],y);let E=l(t,["seed"]);E!=null&&c(o,["seed"],E);let v=l(t,["responseMimeType"]);v!=null&&c(o,["responseMimeType"],v);let w=l(t,["responseSchema"]);w!=null&&c(o,["responseSchema"],wg(w));let A=l(t,["responseJsonSchema"]);if(A!=null&&c(o,["responseJsonSchema"],A),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let N=l(t,["safetySettings"]);if(n!==void 0&&N!=null){let Oe=N;Array.isArray(Oe)&&(Oe=Oe.map(Hr=>fk(Hr))),c(n,["safetySettings"],Oe)}let I=l(t,["tools"]);if(n!==void 0&&I!=null){let Oe=qo(I);Array.isArray(Oe)&&(Oe=Oe.map(Hr=>Ek(Go(Hr)))),c(n,["tools"],Oe)}let W=l(t,["toolConfig"]);if(n!==void 0&&W!=null&&c(n,["toolConfig"],vk(W)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let z=l(t,["cachedContent"]);n!==void 0&&z!=null&&c(n,["cachedContent"],Mn(e,z));let de=l(t,["responseModalities"]);de!=null&&c(o,["responseModalities"],de);let F=l(t,["mediaResolution"]);F!=null&&c(o,["mediaResolution"],F);let J=l(t,["speechConfig"]);if(J!=null&&c(o,["speechConfig"],Ag(J)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let Ee=l(t,["thinkingConfig"]);Ee!=null&&c(o,["thinkingConfig"],Ee);let rt=l(t,["imageConfig"]);rt!=null&&c(o,["imageConfig"],YP(rt));let $e=l(t,["enableEnhancedCivicAnswers"]);if($e!=null&&c(o,["enableEnhancedCivicAnswers"],$e),l(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function IP(e,t,n,r){let o={},i=l(t,["systemInstruction"]);n!==void 0&&i!=null&&c(n,["systemInstruction"],He(i));let s=l(t,["temperature"]);s!=null&&c(o,["temperature"],s);let a=l(t,["topP"]);a!=null&&c(o,["topP"],a);let u=l(t,["topK"]);u!=null&&c(o,["topK"],u);let d=l(t,["candidateCount"]);d!=null&&c(o,["candidateCount"],d);let f=l(t,["maxOutputTokens"]);f!=null&&c(o,["maxOutputTokens"],f);let p=l(t,["stopSequences"]);p!=null&&c(o,["stopSequences"],p);let h=l(t,["responseLogprobs"]);h!=null&&c(o,["responseLogprobs"],h);let g=l(t,["logprobs"]);g!=null&&c(o,["logprobs"],g);let m=l(t,["presencePenalty"]);m!=null&&c(o,["presencePenalty"],m);let y=l(t,["frequencyPenalty"]);y!=null&&c(o,["frequencyPenalty"],y);let E=l(t,["seed"]);E!=null&&c(o,["seed"],E);let v=l(t,["responseMimeType"]);v!=null&&c(o,["responseMimeType"],v);let w=l(t,["responseSchema"]);w!=null&&c(o,["responseSchema"],wg(w));let A=l(t,["responseJsonSchema"]);A!=null&&c(o,["responseJsonSchema"],A);let N=l(t,["routingConfig"]);N!=null&&c(o,["routingConfig"],N);let I=l(t,["modelSelectionConfig"]);I!=null&&c(o,["modelConfig"],I);let W=l(t,["safetySettings"]);if(n!==void 0&&W!=null){let sn=W;Array.isArray(sn)&&(sn=sn.map(vc=>vc)),c(n,["safetySettings"],sn)}let z=l(t,["tools"]);if(n!==void 0&&z!=null){let sn=qo(z);Array.isArray(sn)&&(sn=sn.map(vc=>RD(Go(vc)))),c(n,["tools"],sn)}let de=l(t,["toolConfig"]);n!==void 0&&de!=null&&c(n,["toolConfig"],de);let F=l(t,["labels"]);n!==void 0&&F!=null&&c(n,["labels"],F);let J=l(t,["cachedContent"]);n!==void 0&&J!=null&&c(n,["cachedContent"],Mn(e,J));let Ee=l(t,["responseModalities"]);Ee!=null&&c(o,["responseModalities"],Ee);let rt=l(t,["mediaResolution"]);rt!=null&&c(o,["mediaResolution"],rt);let $e=l(t,["speechConfig"]);$e!=null&&c(o,["speechConfig"],Ag($e));let Oe=l(t,["audioTimestamp"]);Oe!=null&&c(o,["audioTimestamp"],Oe);let Hr=l(t,["thinkingConfig"]);Hr!=null&&c(o,["thinkingConfig"],Hr);let Ng=l(t,["imageConfig"]);if(Ng!=null&&c(o,["imageConfig"],KP(Ng)),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let Rg=l(t,["modelArmorConfig"]);return n!==void 0&&Rg!=null&&c(n,["modelArmorConfig"],Rg),o}function J_(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["contents"]);if(i!=null){let a=Ct(i);Array.isArray(a)&&(a=a.map(u=>oc(u))),c(r,["contents"],a)}let s=l(t,["config"]);return s!=null&&c(r,["generationConfig"],DP(e,s,r)),r}function Y_(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["contents"]);if(i!=null){let a=Ct(i);Array.isArray(a)&&(a=a.map(u=>u)),c(r,["contents"],a)}let s=l(t,["config"]);return s!=null&&c(r,["generationConfig"],IP(e,s,r)),r}function K_(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>zx(f))),c(n,["candidates"],d)}let i=l(e,["modelVersion"]);i!=null&&c(n,["modelVersion"],i);let s=l(e,["promptFeedback"]);s!=null&&c(n,["promptFeedback"],s);let a=l(e,["responseId"]);a!=null&&c(n,["responseId"],a);let u=l(e,["usageMetadata"]);return u!=null&&c(n,["usageMetadata"],u),n}function Z_(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>p)),c(n,["candidates"],f)}let i=l(e,["createTime"]);i!=null&&c(n,["createTime"],i);let s=l(e,["modelVersion"]);s!=null&&c(n,["modelVersion"],s);let a=l(e,["promptFeedback"]);a!=null&&c(n,["promptFeedback"],a);let u=l(e,["responseId"]);u!=null&&c(n,["responseId"],u);let d=l(e,["usageMetadata"]);return d!=null&&c(n,["usageMetadata"],d),n}function TP(e,t,n){let r={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);let i=l(e,["aspectRatio"]);t!==void 0&&i!=null&&c(t,["parameters","aspectRatio"],i);let s=l(e,["guidanceScale"]);if(t!==void 0&&s!=null&&c(t,["parameters","guidanceScale"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let a=l(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&c(t,["parameters","safetySetting"],a);let u=l(e,["personGeneration"]);t!==void 0&&u!=null&&c(t,["parameters","personGeneration"],u);let d=l(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&c(t,["parameters","includeSafetyAttributes"],d);let f=l(e,["includeRaiReason"]);t!==void 0&&f!=null&&c(t,["parameters","includeRaiReason"],f);let p=l(e,["language"]);t!==void 0&&p!=null&&c(t,["parameters","language"],p);let h=l(e,["outputMimeType"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","mimeType"],h);let g=l(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&c(t,["parameters","outputOptions","compressionQuality"],g),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let m=l(e,["imageSize"]);if(t!==void 0&&m!=null&&c(t,["parameters","sampleImageSize"],m),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function SP(e,t,n){let r={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);let i=l(e,["negativePrompt"]);t!==void 0&&i!=null&&c(t,["parameters","negativePrompt"],i);let s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);let a=l(e,["aspectRatio"]);t!==void 0&&a!=null&&c(t,["parameters","aspectRatio"],a);let u=l(e,["guidanceScale"]);t!==void 0&&u!=null&&c(t,["parameters","guidanceScale"],u);let d=l(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);let f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);let p=l(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);let h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&c(t,["parameters","includeSafetyAttributes"],h);let g=l(e,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);let m=l(e,["language"]);t!==void 0&&m!=null&&c(t,["parameters","language"],m);let y=l(e,["outputMimeType"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","mimeType"],y);let E=l(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);let v=l(e,["addWatermark"]);t!==void 0&&v!=null&&c(t,["parameters","addWatermark"],v);let w=l(e,["labels"]);t!==void 0&&w!=null&&c(t,["labels"],w);let A=l(e,["imageSize"]);t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A);let N=l(e,["enhancePrompt"]);return t!==void 0&&N!=null&&c(t,["parameters","enhancePrompt"],N),r}function wP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["prompt"]);i!=null&&c(r,["instances[0]","prompt"],i);let s=l(t,["config"]);return s!=null&&TP(s,r),r}function AP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["prompt"]);i!=null&&c(r,["instances[0]","prompt"],i);let s=l(t,["config"]);return s!=null&&SP(s,r),r}function MP(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>BP(a))),c(n,["generatedImages"],s)}let i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&c(n,["positivePromptSafetyAttributes"],bD(i)),n}function bP(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>ic(a))),c(n,["generatedImages"],s)}let i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&c(n,["positivePromptSafetyAttributes"],ND(i)),n}function NP(e,t,n){let r={},o=l(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let i=l(e,["durationSeconds"]);if(t!==void 0&&i!=null&&c(t,["parameters","durationSeconds"],i),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&c(t,["parameters","aspectRatio"],s);let a=l(e,["resolution"]);t!==void 0&&a!=null&&c(t,["parameters","resolution"],a);let u=l(e,["personGeneration"]);if(t!==void 0&&u!=null&&c(t,["parameters","personGeneration"],u),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let d=l(e,["negativePrompt"]);t!==void 0&&d!=null&&c(t,["parameters","negativePrompt"],d);let f=l(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&c(t,["parameters","enhancePrompt"],f),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let p=l(e,["lastFrame"]);t!==void 0&&p!=null&&c(t,["instances[0]","lastFrame"],sc(p));let h=l(e,["referenceImages"]);if(t!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>xk(m))),c(t,["instances[0]","referenceImages"],g)}if(l(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function RP(e,t,n){let r={},o=l(e,["numberOfVideos"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);let i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);let s=l(e,["fps"]);t!==void 0&&s!=null&&c(t,["parameters","fps"],s);let a=l(e,["durationSeconds"]);t!==void 0&&a!=null&&c(t,["parameters","durationSeconds"],a);let u=l(e,["seed"]);t!==void 0&&u!=null&&c(t,["parameters","seed"],u);let d=l(e,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);let f=l(e,["resolution"]);t!==void 0&&f!=null&&c(t,["parameters","resolution"],f);let p=l(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);let h=l(e,["pubsubTopic"]);t!==void 0&&h!=null&&c(t,["parameters","pubsubTopic"],h);let g=l(e,["negativePrompt"]);t!==void 0&&g!=null&&c(t,["parameters","negativePrompt"],g);let m=l(e,["enhancePrompt"]);t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m);let y=l(e,["generateAudio"]);t!==void 0&&y!=null&&c(t,["parameters","generateAudio"],y);let E=l(e,["lastFrame"]);t!==void 0&&E!=null&&c(t,["instances[0]","lastFrame"],Gt(E));let v=l(e,["referenceImages"]);if(t!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(I=>Pk(I))),c(t,["instances[0]","referenceImages"],N)}let w=l(e,["mask"]);t!==void 0&&w!=null&&c(t,["instances[0]","mask"],Rk(w));let A=l(e,["compressionQuality"]);return t!==void 0&&A!=null&&c(t,["parameters","compressionQuality"],A),r}function xP(e,t){let n={},r=l(e,["name"]);r!=null&&c(n,["name"],r);let o=l(e,["metadata"]);o!=null&&c(n,["metadata"],o);let i=l(e,["done"]);i!=null&&c(n,["done"],i);let s=l(e,["error"]);s!=null&&c(n,["error"],s);let a=l(e,["response","generateVideoResponse"]);return a!=null&&c(n,["response"],OP(a)),n}function PP(e,t){let n={},r=l(e,["name"]);r!=null&&c(n,["name"],r);let o=l(e,["metadata"]);o!=null&&c(n,["metadata"],o);let i=l(e,["done"]);i!=null&&c(n,["done"],i);let s=l(e,["error"]);s!=null&&c(n,["error"],s);let a=l(e,["response"]);return a!=null&&c(n,["response"],LP(a)),n}function kP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["prompt"]);i!=null&&c(r,["instances[0]","prompt"],i);let s=l(t,["image"]);s!=null&&c(r,["instances[0]","image"],sc(s));let a=l(t,["video"]);a!=null&&c(r,["instances[0]","video"],xD(a));let u=l(t,["source"]);u!=null&&VP(u,r);let d=l(t,["config"]);return d!=null&&NP(d,r),r}function FP(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["prompt"]);i!=null&&c(r,["instances[0]","prompt"],i);let s=l(t,["image"]);s!=null&&c(r,["instances[0]","image"],Gt(s));let a=l(t,["video"]);a!=null&&c(r,["instances[0]","video"],PD(a));let u=l(t,["source"]);u!=null&&UP(u,r);let d=l(t,["config"]);return d!=null&&RP(d,r),r}function OP(e,t){let n={},r=l(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>$P(a))),c(n,["generatedVideos"],s)}let o=l(e,["raiMediaFilteredCount"]);o!=null&&c(n,["raiMediaFilteredCount"],o);let i=l(e,["raiMediaFilteredReasons"]);return i!=null&&c(n,["raiMediaFilteredReasons"],i),n}function LP(e,t){let n={},r=l(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>GP(a))),c(n,["generatedVideos"],s)}let o=l(e,["raiMediaFilteredCount"]);o!=null&&c(n,["raiMediaFilteredCount"],o);let i=l(e,["raiMediaFilteredReasons"]);return i!=null&&c(n,["raiMediaFilteredReasons"],i),n}function VP(e,t,n){let r={},o=l(e,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);let i=l(e,["image"]);t!==void 0&&i!=null&&c(t,["instances[0]","image"],sc(i));let s=l(e,["video"]);return t!==void 0&&s!=null&&c(t,["instances[0]","video"],xD(s)),r}function UP(e,t,n){let r={},o=l(e,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);let i=l(e,["image"]);t!==void 0&&i!=null&&c(t,["instances[0]","image"],Gt(i));let s=l(e,["video"]);return t!==void 0&&s!=null&&c(t,["instances[0]","video"],PD(s)),r}function BP(e,t){let n={},r=l(e,["_self"]);r!=null&&c(n,["image"],ZP(r));let o=l(e,["raiFilteredReason"]);o!=null&&c(n,["raiFilteredReason"],o);let i=l(e,["_self"]);return i!=null&&c(n,["safetyAttributes"],bD(i)),n}function ic(e,t){let n={},r=l(e,["_self"]);r!=null&&c(n,["image"],MD(r));let o=l(e,["raiFilteredReason"]);o!=null&&c(n,["raiFilteredReason"],o);let i=l(e,["_self"]);i!=null&&c(n,["safetyAttributes"],ND(i));let s=l(e,["prompt"]);return s!=null&&c(n,["enhancedPrompt"],s),n}function HP(e,t){let n={},r=l(e,["_self"]);r!=null&&c(n,["mask"],MD(r));let o=l(e,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(n,["labels"],i)}return n}function $P(e,t){let n={},r=l(e,["video"]);return r!=null&&c(n,["video"],bk(r)),n}function GP(e,t){let n={},r=l(e,["_self"]);return r!=null&&c(n,["video"],Nk(r)),n}function qP(e,t){let n={},r=l(e,["modelSelectionConfig"]);r!=null&&c(n,["modelConfig"],r);let o=l(e,["responseJsonSchema"]);o!=null&&c(n,["responseJsonSchema"],o);let i=l(e,["audioTimestamp"]);i!=null&&c(n,["audioTimestamp"],i);let s=l(e,["candidateCount"]);s!=null&&c(n,["candidateCount"],s);let a=l(e,["enableAffectiveDialog"]);a!=null&&c(n,["enableAffectiveDialog"],a);let u=l(e,["frequencyPenalty"]);u!=null&&c(n,["frequencyPenalty"],u);let d=l(e,["logprobs"]);d!=null&&c(n,["logprobs"],d);let f=l(e,["maxOutputTokens"]);f!=null&&c(n,["maxOutputTokens"],f);let p=l(e,["mediaResolution"]);p!=null&&c(n,["mediaResolution"],p);let h=l(e,["presencePenalty"]);h!=null&&c(n,["presencePenalty"],h);let g=l(e,["responseLogprobs"]);g!=null&&c(n,["responseLogprobs"],g);let m=l(e,["responseMimeType"]);m!=null&&c(n,["responseMimeType"],m);let y=l(e,["responseModalities"]);y!=null&&c(n,["responseModalities"],y);let E=l(e,["responseSchema"]);E!=null&&c(n,["responseSchema"],E);let v=l(e,["routingConfig"]);v!=null&&c(n,["routingConfig"],v);let w=l(e,["seed"]);w!=null&&c(n,["seed"],w);let A=l(e,["speechConfig"]);A!=null&&c(n,["speechConfig"],A);let N=l(e,["stopSequences"]);N!=null&&c(n,["stopSequences"],N);let I=l(e,["temperature"]);I!=null&&c(n,["temperature"],I);let W=l(e,["thinkingConfig"]);W!=null&&c(n,["thinkingConfig"],W);let z=l(e,["topK"]);z!=null&&c(n,["topK"],z);let de=l(e,["topP"]);if(de!=null&&c(n,["topP"],de),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function zP(e,t,n){let r={},o=l(t,["model"]);return o!=null&&c(r,["_url","name"],X(e,o)),r}function jP(e,t,n){let r={},o=l(t,["model"]);return o!=null&&c(r,["_url","name"],X(e,o)),r}function WP(e,t){let n={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let r=l(e,["enableWidget"]);return r!=null&&c(n,["enableWidget"],r),n}function JP(e,t){let n={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let r=l(e,["timeRangeFilter"]);return r!=null&&c(n,["timeRangeFilter"],r),n}function YP(e,t){let n={},r=l(e,["aspectRatio"]);r!=null&&c(n,["aspectRatio"],r);let o=l(e,["imageSize"]);if(o!=null&&c(n,["imageSize"],o),l(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function KP(e,t){let n={},r=l(e,["aspectRatio"]);r!=null&&c(n,["aspectRatio"],r);let o=l(e,["imageSize"]);o!=null&&c(n,["imageSize"],o);let i=l(e,["personGeneration"]);i!=null&&c(n,["personGeneration"],i);let s=l(e,["outputMimeType"]);s!=null&&c(n,["imageOutputOptions","mimeType"],s);let a=l(e,["outputCompressionQuality"]);return a!=null&&c(n,["imageOutputOptions","compressionQuality"],a),n}function ZP(e,t){let n={},r=l(e,["bytesBase64Encoded"]);r!=null&&c(n,["imageBytes"],Xn(r));let o=l(e,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function MD(e,t){let n={},r=l(e,["gcsUri"]);r!=null&&c(n,["gcsUri"],r);let o=l(e,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],Xn(o));let i=l(e,["mimeType"]);return i!=null&&c(n,["mimeType"],i),n}function sc(e,t){let n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let r=l(e,["imageBytes"]);r!=null&&c(n,["bytesBase64Encoded"],Xn(r));let o=l(e,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function Gt(e,t){let n={},r=l(e,["gcsUri"]);r!=null&&c(n,["gcsUri"],r);let o=l(e,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],Xn(o));let i=l(e,["mimeType"]);return i!=null&&c(n,["mimeType"],i),n}function QP(e,t,n,r){let o={},i=l(t,["pageSize"]);n!==void 0&&i!=null&&c(n,["_query","pageSize"],i);let s=l(t,["pageToken"]);n!==void 0&&s!=null&&c(n,["_query","pageToken"],s);let a=l(t,["filter"]);n!==void 0&&a!=null&&c(n,["_query","filter"],a);let u=l(t,["queryBase"]);return n!==void 0&&u!=null&&c(n,["_url","models_url"],_D(e,u)),o}function XP(e,t,n,r){let o={},i=l(t,["pageSize"]);n!==void 0&&i!=null&&c(n,["_query","pageSize"],i);let s=l(t,["pageToken"]);n!==void 0&&s!=null&&c(n,["_query","pageToken"],s);let a=l(t,["filter"]);n!==void 0&&a!=null&&c(n,["_query","filter"],a);let u=l(t,["queryBase"]);return n!==void 0&&u!=null&&c(n,["_url","models_url"],_D(e,u)),o}function ek(e,t,n){let r={},o=l(t,["config"]);return o!=null&&QP(e,o,r),r}function tk(e,t,n){let r={},o=l(t,["config"]);return o!=null&&XP(e,o,r),r}function nk(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);let i=l(e,["_self"]);if(i!=null){let s=DD(i);Array.isArray(s)&&(s=s.map(a=>Kh(a))),c(n,["models"],s)}return n}function rk(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);let i=l(e,["_self"]);if(i!=null){let s=DD(i);Array.isArray(s)&&(s=s.map(a=>Zh(a))),c(n,["models"],s)}return n}function ok(e,t){let n={},r=l(e,["maskMode"]);r!=null&&c(n,["maskMode"],r);let o=l(e,["segmentationClasses"]);o!=null&&c(n,["maskClasses"],o);let i=l(e,["maskDilation"]);return i!=null&&c(n,["dilation"],i),n}function Kh(e,t){let n={},r=l(e,["name"]);r!=null&&c(n,["name"],r);let o=l(e,["displayName"]);o!=null&&c(n,["displayName"],o);let i=l(e,["description"]);i!=null&&c(n,["description"],i);let s=l(e,["version"]);s!=null&&c(n,["version"],s);let a=l(e,["_self"]);a!=null&&c(n,["tunedModelInfo"],Ck(a));let u=l(e,["inputTokenLimit"]);u!=null&&c(n,["inputTokenLimit"],u);let d=l(e,["outputTokenLimit"]);d!=null&&c(n,["outputTokenLimit"],d);let f=l(e,["supportedGenerationMethods"]);f!=null&&c(n,["supportedActions"],f);let p=l(e,["temperature"]);p!=null&&c(n,["temperature"],p);let h=l(e,["maxTemperature"]);h!=null&&c(n,["maxTemperature"],h);let g=l(e,["topP"]);g!=null&&c(n,["topP"],g);let m=l(e,["topK"]);m!=null&&c(n,["topK"],m);let y=l(e,["thinking"]);return y!=null&&c(n,["thinking"],y),n}function Zh(e,t){let n={},r=l(e,["name"]);r!=null&&c(n,["name"],r);let o=l(e,["displayName"]);o!=null&&c(n,["displayName"],o);let i=l(e,["description"]);i!=null&&c(n,["description"],i);let s=l(e,["versionId"]);s!=null&&c(n,["version"],s);let a=l(e,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>yP(g))),c(n,["endpoints"],h)}let u=l(e,["labels"]);u!=null&&c(n,["labels"],u);let d=l(e,["_self"]);d!=null&&c(n,["tunedModelInfo"],_k(d));let f=l(e,["defaultCheckpointId"]);f!=null&&c(n,["defaultCheckpointId"],f);let p=l(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),c(n,["checkpoints"],h)}return n}function ik(e,t){let n={},r=l(e,["mediaResolution"]);r!=null&&c(n,["mediaResolution"],r);let o=l(e,["codeExecutionResult"]);o!=null&&c(n,["codeExecutionResult"],o);let i=l(e,["executableCode"]);i!=null&&c(n,["executableCode"],i);let s=l(e,["fileData"]);s!=null&&c(n,["fileData"],vP(s));let a=l(e,["functionCall"]);a!=null&&c(n,["functionCall"],EP(a));let u=l(e,["functionResponse"]);u!=null&&c(n,["functionResponse"],u);let d=l(e,["inlineData"]);d!=null&&c(n,["inlineData"],qx(d));let f=l(e,["text"]);f!=null&&c(n,["text"],f);let p=l(e,["thought"]);p!=null&&c(n,["thought"],p);let h=l(e,["thoughtSignature"]);h!=null&&c(n,["thoughtSignature"],h);let g=l(e,["videoMetadata"]);return g!=null&&c(n,["videoMetadata"],g),n}function sk(e,t){let n={},r=l(e,["productImage"]);return r!=null&&c(n,["image"],Gt(r)),n}function ak(e,t,n){let r={},o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);let i=l(e,["baseSteps"]);t!==void 0&&i!=null&&c(t,["parameters","baseSteps"],i);let s=l(e,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);let a=l(e,["seed"]);t!==void 0&&a!=null&&c(t,["parameters","seed"],a);let u=l(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&c(t,["parameters","safetySetting"],u);let d=l(e,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);let f=l(e,["addWatermark"]);t!==void 0&&f!=null&&c(t,["parameters","addWatermark"],f);let p=l(e,["outputMimeType"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","mimeType"],p);let h=l(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","compressionQuality"],h);let g=l(e,["enhancePrompt"]);t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g);let m=l(e,["labels"]);return t!==void 0&&m!=null&&c(t,["labels"],m),r}function lk(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["source"]);i!=null&&ck(i,r);let s=l(t,["config"]);return s!=null&&ak(s,r),r}function uk(e,t){let n={},r=l(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>ic(i))),c(n,["generatedImages"],o)}return n}function ck(e,t,n){let r={},o=l(e,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);let i=l(e,["personImage"]);t!==void 0&&i!=null&&c(t,["instances[0]","personImage","image"],Gt(i));let s=l(e,["productImages"]);if(t!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>sk(u))),c(t,["instances[0]","productImages"],a)}return r}function dk(e,t){let n={},r=l(e,["referenceImage"]);r!=null&&c(n,["referenceImage"],Gt(r));let o=l(e,["referenceId"]);o!=null&&c(n,["referenceId"],o);let i=l(e,["referenceType"]);i!=null&&c(n,["referenceType"],i);let s=l(e,["maskImageConfig"]);s!=null&&c(n,["maskImageConfig"],ok(s));let a=l(e,["controlImageConfig"]);a!=null&&c(n,["controlImageConfig"],Zx(a));let u=l(e,["styleImageConfig"]);u!=null&&c(n,["styleImageConfig"],u);let d=l(e,["subjectImageConfig"]);return d!=null&&c(n,["subjectImageConfig"],d),n}function bD(e,t){let n={},r=l(e,["safetyAttributes","categories"]);r!=null&&c(n,["categories"],r);let o=l(e,["safetyAttributes","scores"]);o!=null&&c(n,["scores"],o);let i=l(e,["contentType"]);return i!=null&&c(n,["contentType"],i),n}function ND(e,t){let n={},r=l(e,["safetyAttributes","categories"]);r!=null&&c(n,["categories"],r);let o=l(e,["safetyAttributes","scores"]);o!=null&&c(n,["scores"],o);let i=l(e,["contentType"]);return i!=null&&c(n,["contentType"],i),n}function fk(e,t){let n={},r=l(e,["category"]);if(r!=null&&c(n,["category"],r),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=l(e,["threshold"]);return o!=null&&c(n,["threshold"],o),n}function pk(e,t){let n={},r=l(e,["image"]);return r!=null&&c(n,["image"],Gt(r)),n}function hk(e,t,n){let r={},o=l(e,["mode"]);t!==void 0&&o!=null&&c(t,["parameters","mode"],o);let i=l(e,["maxPredictions"]);t!==void 0&&i!=null&&c(t,["parameters","maxPredictions"],i);let s=l(e,["confidenceThreshold"]);t!==void 0&&s!=null&&c(t,["parameters","confidenceThreshold"],s);let a=l(e,["maskDilation"]);t!==void 0&&a!=null&&c(t,["parameters","maskDilation"],a);let u=l(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&c(t,["parameters","binaryColorThreshold"],u);let d=l(e,["labels"]);return t!==void 0&&d!=null&&c(t,["labels"],d),r}function gk(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["source"]);i!=null&&yk(i,r);let s=l(t,["config"]);return s!=null&&hk(s,r),r}function mk(e,t){let n={},r=l(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>HP(i))),c(n,["generatedMasks"],o)}return n}function yk(e,t,n){let r={},o=l(e,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);let i=l(e,["image"]);t!==void 0&&i!=null&&c(t,["instances[0]","image"],Gt(i));let s=l(e,["scribbleImage"]);return t!==void 0&&s!=null&&c(t,["instances[0]","scribble"],pk(s)),r}function vk(e,t){let n={},r=l(e,["retrievalConfig"]);r!=null&&c(n,["retrievalConfig"],r);let o=l(e,["functionCallingConfig"]);return o!=null&&c(n,["functionCallingConfig"],CP(o)),n}function Ek(e,t){let n={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=l(e,["computerUse"]);r!=null&&c(n,["computerUse"],r);let o=l(e,["fileSearch"]);o!=null&&c(n,["fileSearch"],o);let i=l(e,["codeExecution"]);if(i!=null&&c(n,["codeExecution"],i),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=l(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>h)),c(n,["functionDeclarations"],p)}let a=l(e,["googleMaps"]);a!=null&&c(n,["googleMaps"],WP(a));let u=l(e,["googleSearch"]);u!=null&&c(n,["googleSearch"],JP(u));let d=l(e,["googleSearchRetrieval"]);d!=null&&c(n,["googleSearchRetrieval"],d);let f=l(e,["urlContext"]);return f!=null&&c(n,["urlContext"],f),n}function RD(e,t){let n={},r=l(e,["retrieval"]);r!=null&&c(n,["retrieval"],r);let o=l(e,["computerUse"]);if(o!=null&&c(n,["computerUse"],o),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=l(e,["codeExecution"]);i!=null&&c(n,["codeExecution"],i);let s=l(e,["enterpriseWebSearch"]);s!=null&&c(n,["enterpriseWebSearch"],s);let a=l(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>_P(g))),c(n,["functionDeclarations"],h)}let u=l(e,["googleMaps"]);u!=null&&c(n,["googleMaps"],u);let d=l(e,["googleSearch"]);d!=null&&c(n,["googleSearch"],d);let f=l(e,["googleSearchRetrieval"]);f!=null&&c(n,["googleSearchRetrieval"],f);let p=l(e,["urlContext"]);return p!=null&&c(n,["urlContext"],p),n}function Ck(e,t){let n={},r=l(e,["baseModel"]);r!=null&&c(n,["baseModel"],r);let o=l(e,["createTime"]);o!=null&&c(n,["createTime"],o);let i=l(e,["updateTime"]);return i!=null&&c(n,["updateTime"],i),n}function _k(e,t){let n={},r=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&c(n,["baseModel"],r);let o=l(e,["createTime"]);o!=null&&c(n,["createTime"],o);let i=l(e,["updateTime"]);return i!=null&&c(n,["updateTime"],i),n}function Dk(e,t,n){let r={},o=l(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);let i=l(e,["description"]);t!==void 0&&i!=null&&c(t,["description"],i);let s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&c(t,["defaultCheckpointId"],s),r}function Ik(e,t,n){let r={},o=l(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);let i=l(e,["description"]);t!==void 0&&i!=null&&c(t,["description"],i);let s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&c(t,["defaultCheckpointId"],s),r}function Tk(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","name"],X(e,o));let i=l(t,["config"]);return i!=null&&Dk(i,r),r}function Sk(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["config"]);return i!=null&&Ik(i,r),r}function wk(e,t,n){let r={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);let i=l(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&c(t,["parameters","safetySetting"],i);let s=l(e,["personGeneration"]);t!==void 0&&s!=null&&c(t,["parameters","personGeneration"],s);let a=l(e,["includeRaiReason"]);t!==void 0&&a!=null&&c(t,["parameters","includeRaiReason"],a);let u=l(e,["outputMimeType"]);t!==void 0&&u!=null&&c(t,["parameters","outputOptions","mimeType"],u);let d=l(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&c(t,["parameters","outputOptions","compressionQuality"],d);let f=l(e,["enhanceInputImage"]);t!==void 0&&f!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],f);let p=l(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],p);let h=l(e,["labels"]);t!==void 0&&h!=null&&c(t,["labels"],h);let g=l(e,["numberOfImages"]);t!==void 0&&g!=null&&c(t,["parameters","sampleCount"],g);let m=l(e,["mode"]);return t!==void 0&&m!=null&&c(t,["parameters","mode"],m),r}function Ak(e,t,n){let r={},o=l(t,["model"]);o!=null&&c(r,["_url","model"],X(e,o));let i=l(t,["image"]);i!=null&&c(r,["instances[0]","image"],Gt(i));let s=l(t,["upscaleFactor"]);s!=null&&c(r,["parameters","upscaleConfig","upscaleFactor"],s);let a=l(t,["config"]);return a!=null&&wk(a,r),r}function Mk(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ic(s))),c(n,["generatedImages"],i)}return n}function bk(e,t){let n={},r=l(e,["uri"]);r!=null&&c(n,["uri"],r);let o=l(e,["encodedVideo"]);o!=null&&c(n,["videoBytes"],Xn(o));let i=l(e,["encoding"]);return i!=null&&c(n,["mimeType"],i),n}function Nk(e,t){let n={},r=l(e,["gcsUri"]);r!=null&&c(n,["uri"],r);let o=l(e,["bytesBase64Encoded"]);o!=null&&c(n,["videoBytes"],Xn(o));let i=l(e,["mimeType"]);return i!=null&&c(n,["mimeType"],i),n}function Rk(e,t){let n={},r=l(e,["image"]);r!=null&&c(n,["_self"],Gt(r));let o=l(e,["maskMode"]);return o!=null&&c(n,["maskMode"],o),n}function xk(e,t){let n={},r=l(e,["image"]);r!=null&&c(n,["image"],sc(r));let o=l(e,["referenceType"]);return o!=null&&c(n,["referenceType"],o),n}function Pk(e,t){let n={},r=l(e,["image"]);r!=null&&c(n,["image"],Gt(r));let o=l(e,["referenceType"]);return o!=null&&c(n,["referenceType"],o),n}function xD(e,t){let n={},r=l(e,["uri"]);r!=null&&c(n,["uri"],r);let o=l(e,["videoBytes"]);o!=null&&c(n,["encodedVideo"],Xn(o));let i=l(e,["mimeType"]);return i!=null&&c(n,["encoding"],i),n}function PD(e,t){let n={},r=l(e,["uri"]);r!=null&&c(n,["gcsUri"],r);let o=l(e,["videoBytes"]);o!=null&&c(n,["bytesBase64Encoded"],Xn(o));let i=l(e,["mimeType"]);return i!=null&&c(n,["mimeType"],i),n}function kk(e,t){let n={},r=l(e,["displayName"]);return t!==void 0&&r!=null&&c(t,["displayName"],r),n}function Fk(e){let t={},n=l(e,["config"]);return n!=null&&kk(n,t),t}function Ok(e,t){let n={},r=l(e,["force"]);return t!==void 0&&r!=null&&c(t,["_query","force"],r),n}function Lk(e){let t={},n=l(e,["name"]);n!=null&&c(t,["_url","name"],n);let r=l(e,["config"]);return r!=null&&Ok(r,t),t}function Vk(e){let t={},n=l(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function Uk(e,t){let n={},r=l(e,["customMetadata"]);if(t!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),c(t,["customMetadata"],i)}let o=l(e,["chunkingConfig"]);return t!==void 0&&o!=null&&c(t,["chunkingConfig"],o),n}function Bk(e){let t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);let r=l(e,["metadata"]);r!=null&&c(t,["metadata"],r);let o=l(e,["done"]);o!=null&&c(t,["done"],o);let i=l(e,["error"]);i!=null&&c(t,["error"],i);let s=l(e,["response"]);return s!=null&&c(t,["response"],$k(s)),t}function Hk(e){let t={},n=l(e,["fileSearchStoreName"]);n!=null&&c(t,["_url","file_search_store_name"],n);let r=l(e,["fileName"]);r!=null&&c(t,["fileName"],r);let o=l(e,["config"]);return o!=null&&Uk(o,t),t}function $k(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["parent"]);r!=null&&c(t,["parent"],r);let o=l(e,["documentName"]);return o!=null&&c(t,["documentName"],o),t}function Gk(e,t){let n={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=l(e,["pageToken"]);return t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),n}function qk(e){let t={},n=l(e,["config"]);return n!=null&&Gk(n,t),t}function zk(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);let o=l(e,["fileSearchStores"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(t,["fileSearchStores"],i)}return t}function kD(e,t){let n={},r=l(e,["mimeType"]);t!==void 0&&r!=null&&c(t,["mimeType"],r);let o=l(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);let i=l(e,["customMetadata"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["customMetadata"],a)}let s=l(e,["chunkingConfig"]);return t!==void 0&&s!=null&&c(t,["chunkingConfig"],s),n}function jk(e){let t={},n=l(e,["fileSearchStoreName"]);n!=null&&c(t,["_url","file_search_store_name"],n);let r=l(e,["config"]);return r!=null&&kD(r,t),t}function Wk(e){let t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}var Jk="Content-Type",Yk="X-Server-Timeout",Kk="User-Agent",Qh="x-goog-api-client",Zk="1.40.0",Qk=`google-genai-sdk/${Zk}`,Xk="v1beta1",eF="v1beta",Xh=class{constructor(t){var n,r,o;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");let a=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!a?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Xk}else{if(!this.clientOptions.apiKey)throw new Ts({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:eF,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){let o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===pD.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));let r=this.shouldPrependVertexProjectPath(t,n),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(let[s,a]of Object.entries(t.queryParams))o.searchParams.append(s,String(a));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),t.abortSignal),this.unaryApiCall(o,i,t.httpMethod)}patchHttpOptions(t,n){let r=JSON.parse(JSON.stringify(t));for(let[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));let r=this.shouldPrependVertexProjectPath(t,n),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),t.abortSignal),this.streamApiCall(o,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,o){if(n&&n.timeout||o){let i=new AbortController,s=i.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),t.signal=s}return n&&n.extraBody!==null&&tF(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Q_(o),new Is(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Q_(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){return Bt(this,arguments,function*(){var r;let o=(r=t?.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="",a="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:d,value:f}=yield V(o.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=i.decode(f,{stream:!0});try{let m=JSON.parse(p);if("error"in m){let y=JSON.parse(JSON.stringify(m.error)),E=y.status,v=y.code,w=`got status: ${E}. ${JSON.stringify(m)}`;if(v>=400&&v<600)throw new Ts({message:w,status:v})}}catch(m){if(m.name==="ApiError")throw m}s+=p;let h=-1,g=0;for(;;){h=-1,g=0;for(let E of u){let v=s.indexOf(E);v!==-1&&(h===-1||v<h)&&(h=v,g=E.length)}if(h===-1)break;let m=s.substring(0,h);s=s.substring(h+g);let y=m.trim();if(y.startsWith(a)){let E=y.substring(a.length).trim();try{let v=new Response(E,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield V(new Is(v))}catch(v){throw new Error(`exception parsing stream chunk ${E}. ${v}`)}}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){let t={},n=Qk+" "+this.clientOptions.userAgentExtra;return t[Kk]=n,t[Qh]=n,t[Jk]="application/json",t}async getHeadersInternal(t,n){let r=new Headers;if(t&&t.headers){for(let[o,i]of Object.entries(t.headers))r.append(o,i);t.timeout&&t.timeout>0&&r.append(Yk,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;let o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);let i=this.clientOptions.uploader,s=await i.stat(t);o.sizeBytes=String(s.size);let a=(r=n?.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=a;let u={file:o},d=this.getFileName(t),f=M("upload/v1beta/files",u._url),p=await this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,d,u,n?.httpOptions);return i.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,r){var o;let i=this.clientOptions.uploader,s=await i.stat(n),a=String(s.size),u=(o=r?.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),p={};r!=null&&kD(r,p);let h=await this.fetchUploadUrl(d,a,u,f,p,r?.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,o,i,s){var a;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};let d=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:u});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(a=d?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function Q_(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){let n=e.status,r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};let o=JSON.stringify(r);throw n>=400&&n<600?new Ts({message:o,status:n}):new Error(o)}}function tF(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{let i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,s){let a=Object.assign({},i);for(let u in s)if(Object.prototype.hasOwnProperty.call(s,u)){let d=s[u],f=a[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?a[u]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),a[u]=d)}return a}let o=r(n,t);e.body=JSON.stringify(o)}var nF="mcp_used/unknown",rF=!1;function FD(e){for(let t of e)if(oF(t)||typeof t=="object"&&"inputSchema"in t)return!0;return rF}function OD(e){var t;let n=(t=e[Qh])!==null&&t!==void 0?t:"";e[Qh]=(n+` ${nF}`).trimStart()}function oF(e){return e!==null&&typeof e=="object"&&e instanceof eg}function iF(e){return Bt(this,arguments,function*(n,r=100){let o,i=0;for(;i<r;){let s=yield V(n.listTools({cursor:o}));for(let a of s.tools)yield yield V(a),i++;if(!s.nextCursor)break;o=s.nextCursor}})}var eg=class e{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new e(t,n)}async initialize(){var t,n,r,o;if(this.mcpTools.length>0)return;let i={},s=[];for(let f of this.mcpClients)try{for(var a=!0,u=(n=void 0,Ht(iF(f))),d;d=await u.next(),t=d.done,!t;a=!0){o=d.value,a=!1;let p=o;s.push(p);let h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!a&&!t&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),BN(this.mcpTools,this.config)}async callTool(t){await this.initialize();let n=[];for(let r of t)if(r.name in this.functionNameToMcpClient){let o=this.functionNameToMcpClient[r.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let s=await o.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}};async function sF(e,t,n){let r=new Hh,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),t(r)}var tg=class{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=lF(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),u=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`,d=()=>{},f=new Promise(A=>{d=A}),p=t.callbacks,h=function(){d({})},g=this.apiClient,m={onopen:h,onmessage:A=>{sF(g,p.onmessage,A)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=p?.onclose)!==null&&r!==void 0?r:function(A){}},y=this.webSocketFactory.create(u,aF(s),m);y.connect(),await f;let w={setup:{model:X(this.apiClient,t.model)}};return y.send(JSON.stringify(w)),new ng(y,this.apiClient)}},ng=class{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=kx(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});let n=Px(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){let n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_s.PLAY)}pause(){this.sendPlaybackControl(_s.PAUSE)}stop(){this.sendPlaybackControl(_s.STOP)}resetContext(){this.sendPlaybackControl(_s.RESET_CONTEXT)}close(){this.conn.close()}};function aF(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function lF(e){let t=new Headers;for(let[n,r]of Object.entries(e))t.append(n,r);return t}var uF="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cF(e,t,n){let r=new Bh,o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;let i=JSON.parse(o);if(e.isVertexAI()){let s=Lx(i);Object.assign(r,s)}else Object.assign(r,i);t(r)}var rg=class{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new tg(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,o,i,s,a;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();t.config&&t.config.tools&&FD(t.config.tools)&&OD(p);let h=pF(p);if(this.apiClient.isVertexAI()){let F=this.apiClient.getProject(),J=this.apiClient.getLocation(),Ee=this.apiClient.getApiKey(),rt=!!F&&!!J||!!Ee;this.apiClient.getCustomBaseUrl()&&!rt?f=u:(f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f))}else{let F=this.apiClient.getApiKey(),J="BidiGenerateContent",Ee="key";F?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),J="BidiGenerateContentConstrained",Ee="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${J}?${Ee}=${F}`}let g=()=>{},m=new Promise(F=>{g=F}),y=t.callbacks,E=function(){var F;(F=y?.onopen)===null||F===void 0||F.call(y),g({})},v=this.apiClient,w={onopen:E,onmessage:F=>{cF(v,y.onmessage,F)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=y?.onclose)!==null&&r!==void 0?r:function(F){}},A=this.webSocketFactory.create(f,fF(h),w);A.connect(),await m;let N=X(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){let F=this.apiClient.getProject(),J=this.apiClient.getLocation();F&&J&&(N=`projects/${F}/locations/${J}/`+N)}let I={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[wh.AUDIO]}:t.config.responseModalities=[wh.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let W=(a=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],z=[];for(let F of W)if(this.isCallableTool(F)){let J=F;z.push(await J.tool())}else z.push(F);z.length>0&&(t.config.tools=z);let de={model:N,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=xx(this.apiClient,de):I=Rx(this.apiClient,de),delete I.config,A.send(JSON.stringify(I)),new og(A,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}},dF={turnComplete:!0},og=class{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ct(n.turns),t.isVertexAI()||(r=r.map(o=>oc(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(let i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(uF)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},dF),t);let n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ox(t)}:n={realtimeInput:Fx(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function fF(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function pF(e){let t=new Headers;for(let[n,r]of Object.entries(e))t.append(n,r);return t}var X_=10;function eD(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(let s of(n=e?.tools)!==null&&n!==void 0?n:[])if(Bo(s)){o=!0;break}if(!o)return!0;let i=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Bo(e){return"callTool"in e&&typeof e.callTool=="function"}function hF(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Bo(o)))!==null&&r!==void 0?r:!1}function tD(e){var t;let n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,o)=>{if(Bo(r))return;let i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(o)}),n}function nD(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}var ig=class extends $t{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,o,i,s,a;let u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hF(n)||eD(n.config))return await this.generateContentInternal(u);let d=tD(n);if(d.length>0){let y=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let f,p,h=Ct(u.contents),g=(i=(o=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:X_,m=0;for(;m<g&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){let y=f.candidates[0].content,E=[];for(let v of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Bo(v)){let A=await v.callTool(f.functionCalls);E.push(...A)}m++,p={role:"user",parts:E},u.contents=Ct(u.contents),u.contents.push(y),u.contents.push(p),nD(u.config)&&(h.push(y),h.push(p))}return nD(u.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var r,o,i,s,a;if(this.maybeMoveToResponseJsonSchem(n),eD(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let u=tD(n);if(u.length>0){let p=u.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let d=(i=(o=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(a=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i,s=[];if(r?.generatedImages)for(let u of r.generatedImages)u&&u?.safetyAttributes&&((o=u?.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=u?.safetyAttributes:s.push(u);let a;return i?a={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new An(er.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{let r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));let o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,i,s,a,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,o;let i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;let s=await Promise.all(i.map(async u=>Bo(u)?await u.tool():u)),a={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(a.config.tools=s,t.config&&t.config.tools&&FD(t.config.tools)){let u=(o=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{},d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),OD(d),a.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return a}async initAfcToolsMap(t){var n,r,o;let i=new Map;for(let s of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Bo(s)){let a=s,u=await a.tool();for(let d of(o=u.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,a)}}return i}async processAfcStream(t){var n,r,o;let i=(o=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:X_,s=!1,a=0,u=await this.initAfcToolsMap(t);return(function(d,f,p){return Bt(this,arguments,function*(){for(var h,g,m,y,E,v;a<i;){s&&(a++,s=!1);let I=yield V(d.processParamsMaybeAddMcpUsage(p)),W=yield V(d.generateContentStreamInternal(I)),z=[],de=[];try{for(var w=!0,A=(g=void 0,Ht(W)),N;N=yield V(A.next()),h=N.done,!h;w=!0){y=N.value,w=!1;let F=y;if(yield yield V(F),F.candidates&&(!((E=F.candidates[0])===null||E===void 0)&&E.content)){de.push(F.candidates[0].content);for(let J of(v=F.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(a<i&&J.functionCall){if(!J.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(J.functionCall.name)){let Ee=yield V(f.get(J.functionCall.name).callTool([J.functionCall]));z.push(...Ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${J.functionCall.name}`)}}}}catch(F){g={error:F}}finally{try{!w&&!h&&(m=A.return)&&(yield V(m.call(A)))}finally{if(g)throw g.error}}if(z.length>0){s=!0;let F=new Ur;F.candidates=[{content:{role:"user",parts:z}}],yield yield V(F);let J=[];J.push(...de),J.push({role:"user",parts:z});let Ee=Ct(p.contents).concat(J);p.contents=Ee}else break}})})(this,u,t)}async generateContentInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=Y_(this.apiClient,t);return a=M("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Z_(f),h=new Ur;return Object.assign(h,p),h})}else{let d=J_(this.apiClient,t);return a=M("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=K_(f),h=new Ur;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=Y_(this.apiClient,t);return a=M("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Bt(this,arguments,function*(){var h,g,m,y;try{for(var E=!0,v=Ht(p),w;w=yield V(v.next()),h=w.done,!h;E=!0){y=w.value,E=!1;let A=y,N=Z_(yield V(A.json()),t);N.sdkHttpResponse={headers:A.headers};let I=new Ur;Object.assign(I,N),yield yield V(I)}}catch(A){g={error:A}}finally{try{!E&&!h&&(m=v.return)&&(yield V(m.call(v)))}finally{if(g)throw g.error}}})})}else{let d=J_(this.apiClient,t);return a=M("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Bt(this,arguments,function*(){var h,g,m,y;try{for(var E=!0,v=Ht(p),w;w=yield V(v.next()),h=w.done,!h;E=!0){y=w.value,E=!1;let A=y,N=K_(yield V(A.json()),t);N.sdkHttpResponse={headers:A.headers};let I=new Ur;Object.assign(I,N),yield yield V(I)}}catch(A){g={error:A}}finally{try{!E&&!h&&(m=v.return)&&(yield V(m.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=hP(this.apiClient,t);return a=M("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=mP(f),h=new Ru;return Object.assign(h,p),h})}else{let d=pP(this.apiClient,t);return a=M("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=gP(f),h=new Ru;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=AP(this.apiClient,t);return a=M("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=bP(f),h=new xu;return Object.assign(h,p),h})}else{let d=wP(this.apiClient,t);return a=M("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=MP(f),h=new xu;return Object.assign(h,p),h})}}async editImageInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let a=uP(this.apiClient,t);return i=M("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=cP(u),f=new Ah;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let a=Ak(this.apiClient,t);return i=M("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=Mk(u),f=new Mh;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let a=lk(this.apiClient,t);return i=M("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=uk(u),f=new bh;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let a=gk(this.apiClient,t);return i=M("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=mk(u),f=new Nh;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=jP(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Zh(f))}else{let d=zP(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Kh(f))}}async listInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=tk(this.apiClient,t);return a=M("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=rk(f),h=new Pu;return Object.assign(h,p),h})}else{let d=ek(this.apiClient,t);return a=M("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=nk(f),h=new Pu;return Object.assign(h,p),h})}}async update(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=Sk(this.apiClient,t);return a=M("{model}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Zh(f))}else{let d=Tk(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Kh(f))}}async delete(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=iP(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=aP(f),h=new ku;return Object.assign(h,p),h})}else{let d=oP(this.apiClient,t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=sP(f),h=new ku;return Object.assign(h,p),h})}}async countTokens(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=tP(this.apiClient,t);return a=M("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=rP(f),h=new Fu;return Object.assign(h,p),h})}else{let d=eP(this.apiClient,t);return a=M("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=nP(f),h=new Fu;return Object.assign(h,p),h})}}async computeTokens(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let a=Wx(this.apiClient,t);return i=M("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=Jx(u),f=new Rh;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=FP(this.apiClient,t);return a=M("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{let p=PP(f),h=new Ou;return Object.assign(h,p),h})}else{let d=kP(this.apiClient,t);return a=M("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=xP(f),h=new Ou;return Object.assign(h,p),h})}}};var sg=class extends $t{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){let n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=n.name.split("/operations/")[0],i;r&&"httpOptions"in r&&(i=r.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){let n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=n.name.split("/operations/")[0],i;r&&"httpOptions"in r&&(i=r.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=AN(t);return a=M("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{let d=wN(t);return a=M("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let a=EN(t);return i=M("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}};function gF(e){let t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function mF(e){let t={},n=l(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>SF(i))),c(t,["parts"],o)}let r=l(e,["role"]);return r!=null&&c(t,["role"],r),t}function yF(e,t,n){let r={},o=l(t,["expireTime"]);n!==void 0&&o!=null&&c(n,["expireTime"],o);let i=l(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&c(n,["newSessionExpireTime"],i);let s=l(t,["uses"]);n!==void 0&&s!=null&&c(n,["uses"],s);let a=l(t,["liveConnectConstraints"]);n!==void 0&&a!=null&&c(n,["bidiGenerateContentSetup"],TF(e,a));let u=l(t,["lockAdditionalFields"]);return n!==void 0&&u!=null&&c(n,["fieldMask"],u),r}function vF(e,t){let n={},r=l(t,["config"]);return r!=null&&c(n,["config"],yF(e,r,n)),n}function EF(e){let t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);let r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function CF(e){let t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);let r=l(e,["args"]);r!=null&&c(t,["args"],r);let o=l(e,["name"]);if(o!=null&&c(t,["name"],o),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function _F(e){let t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function DF(e){let t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function IF(e,t){let n={},r=l(e,["generationConfig"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig"],r);let o=l(e,["responseModalities"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","responseModalities"],o);let i=l(e,["temperature"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","temperature"],i);let s=l(e,["topP"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","topP"],s);let a=l(e,["topK"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","topK"],a);let u=l(e,["maxOutputTokens"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","maxOutputTokens"],u);let d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","mediaResolution"],d);let f=l(e,["seed"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","seed"],f);let p=l(e,["speechConfig"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","speechConfig"],Mg(p));let h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);let g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);let m=l(e,["systemInstruction"]);t!==void 0&&m!=null&&c(t,["setup","systemInstruction"],mF(He(m)));let y=l(e,["tools"]);if(t!==void 0&&y!=null){let W=qo(y);Array.isArray(W)&&(W=W.map(z=>AF(Go(z)))),c(t,["setup","tools"],W)}let E=l(e,["sessionResumption"]);t!==void 0&&E!=null&&c(t,["setup","sessionResumption"],wF(E));let v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&c(t,["setup","inputAudioTranscription"],v);let w=l(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&c(t,["setup","outputAudioTranscription"],w);let A=l(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&c(t,["setup","realtimeInputConfig"],A);let N=l(e,["contextWindowCompression"]);t!==void 0&&N!=null&&c(t,["setup","contextWindowCompression"],N);let I=l(e,["proactivity"]);if(t!==void 0&&I!=null&&c(t,["setup","proactivity"],I),l(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function TF(e,t){let n={},r=l(t,["model"]);r!=null&&c(n,["setup","model"],X(e,r));let o=l(t,["config"]);return o!=null&&c(n,["config"],IF(o,n)),n}function SF(e){let t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);let r=l(e,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);let o=l(e,["executableCode"]);o!=null&&c(t,["executableCode"],o);let i=l(e,["fileData"]);i!=null&&c(t,["fileData"],EF(i));let s=l(e,["functionCall"]);s!=null&&c(t,["functionCall"],CF(s));let a=l(e,["functionResponse"]);a!=null&&c(t,["functionResponse"],a);let u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],gF(u));let d=l(e,["text"]);d!=null&&c(t,["text"],d);let f=l(e,["thought"]);f!=null&&c(t,["thought"],f);let p=l(e,["thoughtSignature"]);p!=null&&c(t,["thoughtSignature"],p);let h=l(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function wF(e){let t={},n=l(e,["handle"]);if(n!=null&&c(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function AF(e){let t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=l(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);let r=l(e,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);let o=l(e,["codeExecution"]);if(o!=null&&c(t,["codeExecution"],o),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=l(e,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["functionDeclarations"],f)}let s=l(e,["googleMaps"]);s!=null&&c(t,["googleMaps"],_F(s));let a=l(e,["googleSearch"]);a!=null&&c(t,["googleSearch"],DF(a));let u=l(e,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);let d=l(e,["urlContext"]);return d!=null&&c(t,["urlContext"],d),t}function MF(e){let t=[];for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){let o=Object.keys(r).map(i=>`${n}.${i}`);t.push(...o)}else t.push(n)}return t.join(",")}function bF(e,t){let n=null,r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){let i=r.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;let o=e.fieldMask;if(n){let i=MF(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)i?e.fieldMask=i:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];o.length>0&&(a=o.map(d=>s.includes(d)?`generationConfig.${d}`:d));let u=[];i&&u.push(i),a.length>0&&u.push(...a),u.length>0?e.fieldMask=u.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}var ag=class extends $t{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=vF(this.apiClient,t);i=M("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;let u=bF(a,t.config);return o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}};function NF(e,t){let n={},r=l(e,["force"]);return t!==void 0&&r!=null&&c(t,["_query","force"],r),n}function RF(e){let t={},n=l(e,["name"]);n!=null&&c(t,["_url","name"],n);let r=l(e,["config"]);return r!=null&&NF(r,t),t}function xF(e){let t={},n=l(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function PF(e,t){let n={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);let o=l(e,["pageToken"]);return t!==void 0&&o!=null&&c(t,["_query","pageToken"],o),n}function kF(e){let t={},n=l(e,["parent"]);n!=null&&c(t,["_url","parent"],n);let r=l(e,["config"]);return r!=null&&PF(r,t),t}function FF(e){let t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);let r=l(e,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);let o=l(e,["documents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(t,["documents"],i)}return t}var lg=class extends $t{constructor(t){super(),this.apiClient=t,this.list=async n=>new An(er.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=xF(t);return i=M("{name}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(t){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=RF(t);o=M("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=kF(t);return i=M("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=FF(u),f=new xh;return Object.assign(f,d),f})}}};var ug=class extends $t{constructor(t,n=new lg(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new An(er.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Fk(t);return i=M("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async get(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Vk(t);return i=M("{name}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(t){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=Lk(t);o=M("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=qk(t);return i=M("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=zk(u),f=new Ph;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=jk(t);return i=M("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=Wk(u),f=new kh;return Object.assign(f,d),f})}}async importFile(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Hk(t);return i=M("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=Bk(u),f=new Fh;return Object.assign(f,d),f})}}};var LD=function(){let{crypto:e}=globalThis;if(e?.randomUUID)return LD=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))},OF=()=>LD();function cg(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}var dg=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){let t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};var et=class extends Error{},tt=class e extends et{constructor(t,n,r,o){super(`${e.makeMessage(t,n,r)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,r){let o=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,r,o){if(!t||!o)return new Ho({message:r,cause:dg(n)});let i=n;return t===400?new zu(t,i,r,o):t===401?new ju(t,i,r,o):t===403?new Wu(t,i,r,o):t===404?new Ju(t,i,r,o):t===409?new Yu(t,i,r,o):t===422?new Ku(t,i,r,o):t===429?new Zu(t,i,r,o):t>=500?new Qu(t,i,r,o):new e(t,i,r,o)}},Ss=class extends tt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},Ho=class extends tt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}},qu=class extends Ho{constructor({message:t}={}){super({message:t??"Request timed out."})}},zu=class extends tt{},ju=class extends tt{},Wu=class extends tt{},Ju=class extends tt{},Yu=class extends tt{},Ku=class extends tt{},Zu=class extends tt{},Qu=class extends tt{};var LF=/^[a-z][a-z0-9+.-]*:/i,VF=e=>LF.test(e),fg=e=>(fg=Array.isArray,fg(e)),UF=fg,BF=UF,rD=BF;function HF(e){if(!e)return!0;for(let t in e)return!1;return!0}function $F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var GF=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new et(`${e} must be an integer`);if(t<0)throw new et(`${e} must be a positive integer`);return t},qF=e=>{try{return JSON.parse(e)}catch{return}};var zF=e=>new Promise(t=>setTimeout(t,e));var Vo="0.0.1";function jF(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var WF=()=>{var e,t,n,r,o;let i=jF();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vo,"X-Stainless-OS":iD(Deno.build.os),"X-Stainless-Arch":oD(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vo,"X-Stainless-OS":iD((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":oD((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};let s=JF();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function JF(){if(typeof navigator>"u"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:n}of e){let r=n.exec(navigator.userAgent);if(r){let o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:t,version:`${o}.${i}.${s}`}}}return null}var oD=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",iD=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),Tu,YF=()=>Tu??(Tu=WF());function KF(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function VD(...e){let t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function ZF(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return VD({start(){},async pull(n){let{done:r,value:o}=await t.next();r?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function UD(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let n=await t.read();return n?.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){let n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function QF(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}let r=e.getReader(),o=r.cancel();r.releaseLock(),await o}var XF=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});var BD=()=>{var e;if(typeof File>"u"){let{process:t}=globalThis,n=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Dh(e,t,n){return BD(),new File(e,t??"unknown_file",n)}function eO(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}var tO=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";var HD=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",nO=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&HD(e),rO=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function oO(e,t,n){if(BD(),e=await e,nO(e))return e instanceof File?e:Dh([await e.arrayBuffer()],e.name);if(rO(e)){let o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Dh(await pg(o),t,n)}let r=await pg(e);if(t||(t=eO(e)),!n?.type){let o=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Dh(r,t,n)}async function pg(e){var t,n,r,o,i;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(HD(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(tO(e))try{for(var a=!0,u=Ht(e),d;d=await u.next(),t=d.done,!t;a=!0){o=d.value,a=!1;let f=o;s.push(...await pg(f))}}catch(f){n={error:f}}finally{try{!a&&!t&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}else{let f=(i=e?.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${f?`; constructor: ${f}`:""}${iO(e)}`)}return s}function iO(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}var sO=(()=>{class e{constructor(n){this._client=n}}e._key=[];return e})();function $D(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var sD=Object.freeze(Object.create(null)),aO=(e=$D)=>function(n,...r){if(n.length===1)return n[0];let o=!1,i=[],s=n.reduce((f,p,h)=>{var g,m,y;/[?#]/.test(p)&&(o=!0);let E=r[h],v=(o?encodeURIComponent:e)(""+E);return h!==r.length&&(E==null||typeof E=="object"&&E.toString===((y=Object.getPrototypeOf((m=Object.getPrototypeOf((g=E.hasOwnProperty)!==null&&g!==void 0?g:sD))!==null&&m!==void 0?m:sD))===null||y===void 0?void 0:y.toString))&&(v=E+"",i.push({start:f.length+p.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),f+p+(h===r.length?"":v)},""),a=s.split(/[?#]/,1)[0],u=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,d;for(;(d=u.exec(a))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,p)=>f.start-p.start),i.length>0){let f=0,p=i.reduce((h,g)=>{let m=" ".repeat(g.start-f),y="^".repeat(g.length);return f=g.start+g.length,h+m+y},"");throw new et(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},Su=aO($D);var Xu=class extends sO{create(t,n){var r;let{api_version:o=this._client.apiVersion}=t,i=Gu(t,["api_version"]);if("model"in i&&"agent_config"in i)throw new et("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new et("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Su`/${o}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){let{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Su`/${o}/interactions/${t}`,r)}cancel(t,n={},r){let{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Su`/${o}/interactions/${t}/cancel`,r)}get(t,n={},r){var o;let i=n??{},{api_version:s=this._client.apiVersion}=i,a=Gu(i,["api_version"]);return this._client.get(Su`/${s}/interactions/${t}`,Object.assign(Object.assign({query:a},r),{stream:(o=n?.stream)!==null&&o!==void 0?o:!1}))}};Xu._key=Object.freeze(["interactions"]);var ec=class extends Xu{};function lO(e){let t=0;for(let o of e)t+=o.length;let n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}var wu;function bg(e){let t;return(wu??(t=new globalThis.TextEncoder,wu=t.encode.bind(t)))(e)}var Au;function aD(e){let t;return(Au??(t=new globalThis.TextDecoder,Au=t.decode.bind(t)))(e)}var $o=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];let n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?bg(t):t;this.buffer=lO([this.buffer,n]);let r=[],o;for(;(o=uO(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(aD(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let i=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=aD(this.buffer.subarray(0,i));r.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}};$o.NEWLINE_CHARS=new Set([`
`,"\r"]);$o.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function uO(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function cO(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}var tc={off:0,error:200,warn:300,info:400,debug:500},lD=(e,t,n)=>{if(e){if($F(tc,e))return e;Ke(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(tc))}`)}};function Ds(){}function Mu(e,t,n){return!t||tc[e]>tc[n]?Ds:t[e].bind(t)}var dO={error:Ds,warn:Ds,info:Ds,debug:Ds},uD=new WeakMap;function Ke(e){var t;let n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return dO;let o=uD.get(n);if(o&&o[0]===r)return o[1];let i={error:Mu("error",n,r),warn:Mu("warn",n,r),info:Mu("info",n,r),debug:Mu("debug",n,r)};return uD.set(n,[r,i]),i}var Vr=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var hg=class e{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let o=!1,i=r?Ke(r):console;function s(){return Bt(this,arguments,function*(){var u,d,f,p;if(o)throw new et("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{try{for(var g=!0,m=Ht(fO(t,n)),y;y=yield V(m.next()),u=y.done,!u;g=!0){p=y.value,g=!1;let E=p;if(!h)if(E.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield V(JSON.parse(E.data))}catch(v){throw i.error("Could not parse message into JSON:",E.data),i.error("From chunk:",E.raw),v}}}catch(E){d={error:E}}finally{try{!g&&!u&&(f=m.return)&&(yield V(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(E){if(cg(E))return yield V(void 0);throw E}finally{h||n.abort()}})}return new e(s,n,r)}static fromReadableStream(t,n,r){let o=!1;function i(){return Bt(this,arguments,function*(){var u,d,f,p;let h=new $o,g=UD(t);try{for(var m=!0,y=Ht(g),E;E=yield V(y.next()),u=E.done,!u;m=!0){p=E.value,m=!1;let v=p;for(let w of h.decode(v))yield yield V(w)}}catch(v){d={error:v}}finally{try{!m&&!u&&(f=y.return)&&(yield V(f.call(y)))}finally{if(d)throw d.error}}for(let v of h.flush())yield yield V(v)})}function s(){return Bt(this,arguments,function*(){var u,d,f,p;if(o)throw new et("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{try{for(var g=!0,m=Ht(i()),y;y=yield V(m.next()),u=y.done,!u;g=!0){p=y.value,g=!1;let E=p;h||E&&(yield yield V(JSON.parse(E)))}}catch(E){d={error:E}}finally{try{!g&&!u&&(f=m.return)&&(yield V(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(E){if(cg(E))return yield V(void 0);throw E}finally{h||n.abort()}})}return new e(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){let s=r.next();t.push(s),n.push(s)}return i.shift()}});return[new e(()=>o(t),this.controller,this.client),new e(()=>o(n),this.controller,this.client)]}toReadableStream(){let t=this,n;return VD({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{let{value:o,done:i}=await n.next();if(i)return r.close();let s=bg(JSON.stringify(o)+`
`);r.enqueue(s)}catch(o){r.error(o)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}};function fO(e,t){return Bt(this,arguments,function*(){var r,o,i,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new et("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new et("Attempted to iterate over a response with no body");let a=new gg,u=new $o,d=UD(e.body);try{for(var f=!0,p=Ht(pO(d)),h;h=yield V(p.next()),r=h.done,!r;f=!0){s=h.value,f=!1;let g=s;for(let m of u.decode(g)){let y=a.decode(m);y&&(yield yield V(y))}}}catch(g){o={error:g}}finally{try{!f&&!r&&(i=p.return)&&(yield V(i.call(p)))}finally{if(o)throw o.error}}for(let g of u.flush()){let m=a.decode(g);m&&(yield yield V(m))}})}function pO(e){return Bt(this,arguments,function*(){var n,r,o,i;let s=new Uint8Array;try{for(var a=!0,u=Ht(e),d;d=yield V(u.next()),n=d.done,!n;a=!0){i=d.value,a=!1;let f=i;if(f==null)continue;let p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?bg(f):f,h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let g;for(;(g=cO(s))!==-1;)yield yield V(s.slice(0,g)),s=s.slice(g)}}catch(f){r={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield V(o.call(u)))}finally{if(r)throw r.error}}s.length>0&&(yield yield V(s))})}var gg=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,o]=hO(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}};function hO(e,t){let n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function gO(e,t){let{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=t,s=await(async()=>{var a;if(t.options.stream)return Ke(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):hg.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;let u=n.headers.get("content-type"),d=(a=u?.split(";")[0])===null||a===void 0?void 0:a.trim();return d?.includes("application/json")||d?.endsWith("+json")?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Ke(e).debug(`[${r}] response parsed`,Vr({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}var mg=class e extends Promise{constructor(t,n,r=gO){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new e(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}};var GD=Symbol("brand.privateNullableHeaders");function*mO(e){if(!e)return;if(GD in e){let{values:r,nulls:o}=e;yield*r.entries();for(let i of o)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():rD(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){let o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");let i=rD(r[1])?r[1]:[r[1]],s=!1;for(let a of i)a!==void 0&&(t&&!s&&(s=!0,yield[o,null]),yield[o,a])}}var Cs=e=>{let t=new Headers,n=new Set;for(let r of e){let o=new Set;for(let[i,s]of mO(r)){let a=i.toLowerCase();o.has(a)||(t.delete(i),o.add(a)),s===null?(t.delete(i),n.add(a)):(t.append(i,s),n.delete(a))}}return{[GD]:!0,values:t,nulls:n}};var Ih=e=>{var t,n,r,o,i,s;if(typeof globalThis.process<"u")return(r=(n=(t=globalThis.process.env)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||i===void 0?void 0:i.call(o,e))===null||s===void 0?void 0:s.trim()};var qD,yO=(()=>{class e{constructor(n){var r,o,i,s,a,u,d,{baseURL:f=Ih("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(r=Ih("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:h="v1beta"}=n,g=Gu(n,["baseURL","apiKey","apiVersion"]);let m=Object.assign(Object.assign({apiKey:p,apiVersion:h},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(o=m.timeout)!==null&&o!==void 0?o:e.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;let y="warn";this.logLevel=y,this.logLevel=(a=(s=lD(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:lD(Ih("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(u=m.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=m.fetch)!==null&&d!==void 0?d:KF(),this.encoder=XF,this._options=m,this.apiKey=p,this.apiVersion=h,this.clientAdapter=m.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:r}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let r=Cs([n.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return Cs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Cs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([r,o])=>typeof o<"u").map(([r,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(r)}=`;throw new et(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Vo}`}defaultIdempotencyKey(){return`stainless-node-retry-${OF()}`}makeStatusError(n,r,o,i){return tt.generate(n,r,o,i)}buildURL(n,r,o){let i=!this.baseURLOverridden()&&o||this.baseURL,s=VF(n)?new URL(n):new URL(i+(i.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),a=this.defaultQuery();return HF(a)||(r=Object.assign(Object.assign({},a),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let r=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(n,{url:r,options:o}){}get(n,r){return this.methodRequest("get",n,r)}post(n,r){return this.methodRequest("post",n,r)}patch(n,r){return this.methodRequest("patch",n,r)}put(n,r){return this.methodRequest("put",n,r)}delete(n,r){return this.methodRequest("delete",n,r)}methodRequest(n,r,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:n,path:r},i)))}request(n,r=null){return new mg(this,this.makeRequest(n,r,void 0))}async makeRequest(n,r,o){var i,s,a;let u=await n,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=d),await this.prepareOptions(u);let{req:f,url:p,timeout:h}=await this.buildRequest(u,{retryCount:d-r});await this.prepareRequest(f,{url:p,options:u});let g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=o===void 0?"":`, retryOf: ${o}`,y=Date.now();if(Ke(this).debug(`[${g}] sending request`,Vr({retryOfRequestLogID:o,method:u.method,url:p,options:u,headers:f.headers})),!((s=u.signal)===null||s===void 0)&&s.aborted)throw new Ss;let E=new AbortController,v=await this.fetchWithTimeout(p,f,h,E).catch(dg),w=Date.now();if(v instanceof globalThis.Error){let N=`retrying, ${r} attempts remaining`;if(!((a=u.signal)===null||a===void 0)&&a.aborted)throw new Ss;let I=cg(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(r)return Ke(this).info(`[${g}] connection ${I?"timed out":"failed"} - ${N}`),Ke(this).debug(`[${g}] connection ${I?"timed out":"failed"} (${N})`,Vr({retryOfRequestLogID:o,url:p,durationMs:w-y,message:v.message})),this.retryRequest(u,r,o??g);throw Ke(this).info(`[${g}] connection ${I?"timed out":"failed"} - error; no more retries left`),Ke(this).debug(`[${g}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Vr({retryOfRequestLogID:o,url:p,durationMs:w-y,message:v.message})),I?new qu:new Ho({cause:v})}let A=`[${g}${m}] ${f.method} ${p} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${w-y}ms`;if(!v.ok){let N=await this.shouldRetry(v);if(r&&N){let J=`retrying, ${r} attempts remaining`;return await QF(v.body),Ke(this).info(`${A} - ${J}`),Ke(this).debug(`[${g}] response error (${J})`,Vr({retryOfRequestLogID:o,url:v.url,status:v.status,headers:v.headers,durationMs:w-y})),this.retryRequest(u,r,o??g,v.headers)}let I=N?"error; no more retries left":"error; not retryable";Ke(this).info(`${A} - ${I}`);let W=await v.text().catch(J=>dg(J).message),z=qF(W),de=z?void 0:W;throw Ke(this).debug(`[${g}] response error (${I})`,Vr({retryOfRequestLogID:o,url:v.url,status:v.status,headers:v.headers,message:de,durationMs:Date.now()-y})),this.makeStatusError(v.status,z,de,v.headers)}return Ke(this).info(A),Ke(this).debug(`[${g}] response start`,Vr({retryOfRequestLogID:o,url:v.url,status:v.status,headers:v.headers,durationMs:w-y})),{response:v,options:u,controller:E,requestLogID:g,retryOfRequestLogID:o,startTime:y}}async fetchWithTimeout(n,r,o,i){let s=r||{},{signal:a,method:u}=s,d=Gu(s,["signal","method"]),f=i.abort.bind(i);a&&a.addEventListener("abort",f,{once:!0});let p=setTimeout(f,o),h=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),d);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,n,g)}finally{clearTimeout(p)}}async shouldRetry(n){let r=n.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,r,o,i){var s;let a,u=i?.get("retry-after-ms");if(u){let f=parseFloat(u);Number.isNaN(f)||(a=f)}let d=i?.get("retry-after");if(d&&!a){let f=parseFloat(d);Number.isNaN(f)?a=Date.parse(d)-Date.now():a=f*1e3}if(!(a&&0<=a&&a<60*1e3)){let f=(s=n.maxRetries)!==null&&s!==void 0?s:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,f)}return await zF(a),this.makeRequest(n,r-1,o)}calculateDefaultRetryTimeoutMillis(n,r){let s=r-n,a=Math.min(.5*Math.pow(2,s),8),u=1-Math.random()*.25;return a*u*1e3}async buildRequest(n,{retryCount:r=0}={}){var o,i,s;let a=Object.assign({},n),{method:u,path:d,query:f,defaultBaseURL:p}=a,h=this.buildURL(d,f,p);"timeout"in a&&GF("timeout",a.timeout),a.timeout=(o=a.timeout)!==null&&o!==void 0?o:this.timeout;let{bodyHeaders:g,body:m}=this.buildBody({options:a}),y=await this.buildHeaders({options:n,method:u,bodyHeaders:g,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:y},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=a.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:a.timeout}}async buildHeaders({options:n,method:r,bodyHeaders:o,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=n.idempotencyKey);let a=await this.authHeaders(n),u=Cs([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),YF()),this._options.defaultHeaders,o,n.headers,a]);return this.validateHeaders(u),u.values}buildBody({options:{body:n,headers:r}}){if(!n)return{bodyHeaders:void 0,body:void 0};let o=Cs([r]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&o.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:ZF(n)}:this.encoder({body:n,headers:o})}}return e.DEFAULT_TIMEOUT=6e4,e})(),we=class extends yO{constructor(){super(...arguments),this.interactions=new ec(this)}};qD=we;we.GeminiNextGenAPIClient=qD;we.GeminiNextGenAPIClientError=et;we.APIError=tt;we.APIConnectionError=Ho;we.APIConnectionTimeoutError=qu;we.APIUserAbortError=Ss;we.NotFoundError=Ju;we.ConflictError=Yu;we.RateLimitError=Zu;we.BadRequestError=zu;we.AuthenticationError=ju;we.InternalServerError=Qu;we.PermissionDeniedError=Wu;we.UnprocessableEntityError=Ku;we.toFile=oO;we.Interactions=ec;function vO(e,t){let n={},r=l(e,["name"]);return r!=null&&c(n,["_url","name"],r),n}function EO(e,t){let n={},r=l(e,["name"]);return r!=null&&c(n,["_url","name"],r),n}function CO(e,t){let n={},r=l(e,["sdkHttpResponse"]);return r!=null&&c(n,["sdkHttpResponse"],r),n}function _O(e,t){let n={},r=l(e,["sdkHttpResponse"]);return r!=null&&c(n,["sdkHttpResponse"],r),n}function DO(e,t,n){let r={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let o=l(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&c(t,["displayName"],o),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=l(e,["epochCount"]);t!==void 0&&i!=null&&c(t,["tuningTask","hyperparameters","epochCount"],i);let s=l(e,["learningRateMultiplier"]);if(s!=null&&c(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(l(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(l(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");let a=l(e,["batchSize"]);t!==void 0&&a!=null&&c(t,["tuningTask","hyperparameters","batchSize"],a);let u=l(e,["learningRate"]);if(t!==void 0&&u!=null&&c(t,["tuningTask","hyperparameters","learningRate"],u),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(l(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(l(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(l(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(l(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function IO(e,t,n){let r={},o=l(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let I=l(e,["validationDataset"]);t!==void 0&&I!=null&&c(t,["supervisedTuningSpec"],Th(I))}else if(o==="PREFERENCE_TUNING"){let I=l(e,["validationDataset"]);t!==void 0&&I!=null&&c(t,["preferenceOptimizationSpec"],Th(I))}else if(o==="DISTILLATION"){let I=l(e,["validationDataset"]);t!==void 0&&I!=null&&c(t,["distillationSpec"],Th(I))}let i=l(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&c(t,["tunedModelDisplayName"],i);let s=l(e,["description"]);t!==void 0&&s!=null&&c(t,["description"],s);let a=l(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let I=l(e,["epochCount"]);t!==void 0&&I!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],I)}else if(a==="PREFERENCE_TUNING"){let I=l(e,["epochCount"]);t!==void 0&&I!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],I)}else if(a==="DISTILLATION"){let I=l(e,["epochCount"]);t!==void 0&&I!=null&&c(t,["distillationSpec","hyperParameters","epochCount"],I)}let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let I=l(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],I)}else if(u==="PREFERENCE_TUNING"){let I=l(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],I)}else if(u==="DISTILLATION"){let I=l(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&c(t,["distillationSpec","hyperParameters","learningRateMultiplier"],I)}let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let I=l(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],I)}else if(d==="PREFERENCE_TUNING"){let I=l(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],I)}else if(d==="DISTILLATION"){let I=l(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&c(t,["distillationSpec","exportLastCheckpointOnly"],I)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let I=l(e,["adapterSize"]);t!==void 0&&I!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],I)}else if(f==="PREFERENCE_TUNING"){let I=l(e,["adapterSize"]);t!==void 0&&I!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],I)}else if(f==="DISTILLATION"){let I=l(e,["adapterSize"]);t!==void 0&&I!=null&&c(t,["distillationSpec","hyperParameters","adapterSize"],I)}let p=l(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){let I=l(e,["tuningMode"]);t!==void 0&&I!=null&&c(t,["supervisedTuningSpec","tuningMode"],I)}let h=l(e,["customBaseModel"]);t!==void 0&&h!=null&&c(t,["customBaseModel"],h);let g=l(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){let I=l(e,["batchSize"]);t!==void 0&&I!=null&&c(t,["supervisedTuningSpec","hyperParameters","batchSize"],I)}let m=l(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){let I=l(e,["learningRate"]);t!==void 0&&I!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRate"],I)}let y=l(e,["labels"]);t!==void 0&&y!=null&&c(t,["labels"],y);let E=l(e,["beta"]);t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E);let v=l(e,["baseTeacherModel"]);t!==void 0&&v!=null&&c(t,["distillationSpec","baseTeacherModel"],v);let w=l(e,["tunedTeacherModelSource"]);t!==void 0&&w!=null&&c(t,["distillationSpec","tunedTeacherModelSource"],w);let A=l(e,["sftLossWeightMultiplier"]);t!==void 0&&A!=null&&c(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],A);let N=l(e,["outputUri"]);return t!==void 0&&N!=null&&c(t,["outputUri"],N),r}function TO(e,t){let n={},r=l(e,["baseModel"]);r!=null&&c(n,["baseModel"],r);let o=l(e,["preTunedModel"]);o!=null&&c(n,["preTunedModel"],o);let i=l(e,["trainingDataset"]);i!=null&&FO(i);let s=l(e,["config"]);return s!=null&&DO(s,n),n}function SO(e,t){let n={},r=l(e,["baseModel"]);r!=null&&c(n,["baseModel"],r);let o=l(e,["preTunedModel"]);o!=null&&c(n,["preTunedModel"],o);let i=l(e,["trainingDataset"]);i!=null&&OO(i,n,t);let s=l(e,["config"]);return s!=null&&IO(s,n,t),n}function wO(e,t){let n={},r=l(e,["name"]);return r!=null&&c(n,["_url","name"],r),n}function AO(e,t){let n={},r=l(e,["name"]);return r!=null&&c(n,["_url","name"],r),n}function MO(e,t,n){let r={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);let i=l(e,["pageToken"]);t!==void 0&&i!=null&&c(t,["_query","pageToken"],i);let s=l(e,["filter"]);return t!==void 0&&s!=null&&c(t,["_query","filter"],s),r}function bO(e,t,n){let r={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);let i=l(e,["pageToken"]);t!==void 0&&i!=null&&c(t,["_query","pageToken"],i);let s=l(e,["filter"]);return t!==void 0&&s!=null&&c(t,["_query","filter"],s),r}function NO(e,t){let n={},r=l(e,["config"]);return r!=null&&MO(r,n),n}function RO(e,t){let n={},r=l(e,["config"]);return r!=null&&bO(r,n),n}function xO(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);let i=l(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>zD(a))),c(n,["tuningJobs"],s)}return n}function PO(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);let i=l(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>yg(a))),c(n,["tuningJobs"],s)}return n}function kO(e,t){let n={},r=l(e,["name"]);r!=null&&c(n,["model"],r);let o=l(e,["name"]);return o!=null&&c(n,["endpoint"],o),n}function FO(e,t){let n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=l(e,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),c(n,["examples","examples"],o)}return n}function OO(e,t,n){let r={},o=l(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let s=l(e,["gcsUri"]);t!==void 0&&s!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){let s=l(e,["gcsUri"]);t!==void 0&&s!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(o==="DISTILLATION"){let s=l(e,["gcsUri"]);t!==void 0&&s!=null&&c(t,["distillationSpec","promptDatasetUri"],s)}let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){let s=l(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&c(t,["distillationSpec","promptDatasetUri"],s)}if(l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function zD(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["name"]);o!=null&&c(n,["name"],o);let i=l(e,["state"]);i!=null&&c(n,["state"],ED(i));let s=l(e,["createTime"]);s!=null&&c(n,["createTime"],s);let a=l(e,["tuningTask","startTime"]);a!=null&&c(n,["startTime"],a);let u=l(e,["tuningTask","completeTime"]);u!=null&&c(n,["endTime"],u);let d=l(e,["updateTime"]);d!=null&&c(n,["updateTime"],d);let f=l(e,["description"]);f!=null&&c(n,["description"],f);let p=l(e,["baseModel"]);p!=null&&c(n,["baseModel"],p);let h=l(e,["_self"]);return h!=null&&c(n,["tunedModel"],kO(h)),n}function yg(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["name"]);o!=null&&c(n,["name"],o);let i=l(e,["state"]);i!=null&&c(n,["state"],ED(i));let s=l(e,["createTime"]);s!=null&&c(n,["createTime"],s);let a=l(e,["startTime"]);a!=null&&c(n,["startTime"],a);let u=l(e,["endTime"]);u!=null&&c(n,["endTime"],u);let d=l(e,["updateTime"]);d!=null&&c(n,["updateTime"],d);let f=l(e,["error"]);f!=null&&c(n,["error"],f);let p=l(e,["description"]);p!=null&&c(n,["description"],p);let h=l(e,["baseModel"]);h!=null&&c(n,["baseModel"],h);let g=l(e,["tunedModel"]);g!=null&&c(n,["tunedModel"],g);let m=l(e,["preTunedModel"]);m!=null&&c(n,["preTunedModel"],m);let y=l(e,["supervisedTuningSpec"]);y!=null&&c(n,["supervisedTuningSpec"],y);let E=l(e,["preferenceOptimizationSpec"]);E!=null&&c(n,["preferenceOptimizationSpec"],E);let v=l(e,["distillationSpec"]);v!=null&&c(n,["distillationSpec"],v);let w=l(e,["tuningDataStats"]);w!=null&&c(n,["tuningDataStats"],w);let A=l(e,["encryptionSpec"]);A!=null&&c(n,["encryptionSpec"],A);let N=l(e,["partnerModelTuningSpec"]);N!=null&&c(n,["partnerModelTuningSpec"],N);let I=l(e,["customBaseModel"]);I!=null&&c(n,["customBaseModel"],I);let W=l(e,["experiment"]);W!=null&&c(n,["experiment"],W);let z=l(e,["labels"]);z!=null&&c(n,["labels"],z);let de=l(e,["outputUri"]);de!=null&&c(n,["outputUri"],de);let F=l(e,["pipelineJob"]);F!=null&&c(n,["pipelineJob"],F);let J=l(e,["serviceAccount"]);J!=null&&c(n,["serviceAccount"],J);let Ee=l(e,["tunedModelDisplayName"]);Ee!=null&&c(n,["tunedModelDisplayName"],Ee);let rt=l(e,["veoTuningSpec"]);return rt!=null&&c(n,["veoTuningSpec"],rt),n}function LO(e,t){let n={},r=l(e,["sdkHttpResponse"]);r!=null&&c(n,["sdkHttpResponse"],r);let o=l(e,["name"]);o!=null&&c(n,["name"],o);let i=l(e,["metadata"]);i!=null&&c(n,["metadata"],i);let s=l(e,["done"]);s!=null&&c(n,["done"],s);let a=l(e,["error"]);return a!=null&&c(n,["error"],a),n}function Th(e,t){let n={},r=l(e,["gcsUri"]);r!=null&&c(n,["validationDatasetUri"],r);let o=l(e,["vertexDatasetResource"]);return o!=null&&c(n,["validationDatasetUri"],o),n}var vg=class extends $t{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new An(er.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{let o=Object.assign({},n);return await this.tuneInternal(o)}else{let o=Object.assign({},n),i=await this.tuneMldevInternal(o),s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:fD.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=AO(t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>yg(f))}else{let d=wO(t);return a=M("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>zD(f))}}async listInternal(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=RO(t);return a=M("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=PO(f),h=new Lu;return Object.assign(h,p),h})}else{let d=NO(t);return a=M("tunedModels",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=xO(f),h=new Lu;return Object.assign(h,p),h})}}async cancel(t){var n,r,o,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=EO(t);return a=M("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=_O(f),h=new Vu;return Object.assign(h,p),h})}else{let d=vO(t);return a=M("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=CO(f),h=new Vu;return Object.assign(h,p),h})}}async tuneInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let a=SO(t,t);return i=M("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>yg(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=TO(t);return i=M("tunedModels",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>LO(u))}}};var Eg=class{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},VO=1024*1024*8,UO=3,BO=1e3,HO=2,nc="x-goog-upload-status";async function $O(e,t,n){var r;let o=await jD(e,t,n),i=await o?.json();if(((r=o?.headers)===null||r===void 0?void 0:r[nc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function GO(e,t,n){var r;let o=await jD(e,t,n),i=await o?.json();if(((r=o?.headers)===null||r===void 0?void 0:r[nc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=dD(i),a=new $h;return Object.assign(a,s),a}async function jD(e,t,n){var r,o;let i=0,s=0,a=new Is(new Response),u="upload";for(i=e.size;s<i;){let d=Math.min(VO,i-s),f=e.slice(s,s+d);s+d>=i&&(u+=", finalize");let p=0,h=BO;for(;p<UO&&(a=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=a?.headers)===null||r===void 0)&&r[nc]));)p++,await zO(h),h=h*HO;if(s+=d,((o=a?.headers)===null||o===void 0?void 0:o[nc])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function qO(e){return{size:e.size,type:e.type}}function zO(e){return new Promise(t=>setTimeout(t,e))}var Cg=class{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $O(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GO(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await qO(t)}};var _g=class{create(t,n,r){return new Dg(t,n,r)}},Dg=class{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var cD="x-goog-api-key",Ig=class{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(cD)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(cD,this.apiKey)}}};var jO="gl-node/",rc=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new we({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;let r=yN(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;let o=new Ig(this.apiKey);this.apiClient=new Xh({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:jO+"web",uploader:new Cg,downloader:new Eg}),this.models=new ig(this.apiClient),this.live=new rg(this.apiClient,o,new _g),this.batches=new zh(this.apiClient),this.chats=new Wh(this.models,this.apiClient),this.caches=new jh(this.apiClient),this.files=new Yh(this.apiClient),this.operations=new sg(this.apiClient),this.authTokens=new ag(this.apiClient),this.tunings=new vg(this.apiClient),this.fileSearchStores=new ug(this.apiClient)}};var ac=class e{constructor(){this.ai=new rc({apiKey:process.env.API_KEY})}createChat(){return this.ai.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:`Tu es Aura, l'assistant virtuel de 'Maison Aura', un salon de coiffure de luxe \xE0 Paris (1er Arrondissement).
        Ton ton est sophistiqu\xE9, chaleureux et professionnel. Tu es un expert en coiffure et en esth\xE9tique.
        
        D\xE9tails du Salon :
        - Services : Coupe Signature (95\u20AC), Balayage Lumi\xE8re (\xE0 partir de 160\u20AC), Soin Tokyo (120\u20AC), Coloration V\xE9g\xE9tale (110\u20AC).
        - Horaires : Mardi - Samedi : 10h - 19h. Nocturne le Jeudi jusqu'\xE0 21h.
        - Adresse : 12 Rue du Faubourg, Paris.
        - Contact : +33 1 40 20 30 40, bonjour@maisonaura.com.
        
        Ta mission :
        1. Conseiller les clients sur les services (ex: expliquer la diff\xE9rence entre balayage et coloration).
        2. Aider \xE0 la r\xE9servation (rediriger vers la page /booking ou mentionner le t\xE9l\xE9phone pour le sur-mesure).
        3. Donner des conseils capillaires brefs et \xE9l\xE9gants.
        
        R\xE8gles de conversation :
        - Sois concis mais poli.
        - Utilise un vouvoiement \xE9l\xE9gant.
        - Si on te demande des services que nous ne faisons pas (ex: ongles, massage corps), indique poliment que nous sommes sp\xE9cialis\xE9s exclusivement dans la haute coiffure.
        `}})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}};var WO=["scrollContainer"];function JO(e,t){if(e&1&&(C(0,"div")(1,"div"),T(2),_()()),e&2){let n=t.$implicit;zn("flex "+(n.role==="user"?"justify-end":"justify-start")),q(),zn("max-w-[80%] p-3 text-sm rounded-lg "+(n.role==="user"?"bg-deepBlack text-ivory rounded-br-none":"bg-white border border-black/5 text-charcoal rounded-bl-none shadow-sm")),q(),kt(" ",n.text," ")}}function YO(e,t){e&1&&(C(0,"div",16)(1,"div",21),j(2,"span",22)(3,"span",23)(4,"span",24),_()())}function KO(e,t){if(e&1){let n=br();C(0,"div",7)(1,"div",8)(2,"div",9),j(3,"div",10),C(4,"div")(5,"h3",11),T(6,"Assistant Aura"),_(),C(7,"p",12),T(8,"Toujours \xE0 votre \xE9coute"),_()()(),C(9,"button",13),ae("click",function(){Zt(n);let o=yt();return Qt(o.toggleChat())}),T(10,"\xD7"),_()(),C(11,"div",14,0),En(13,JO,3,5,"div",15,vn),Hi(15,YO,5,0,"div",16),_(),C(16,"div",17)(17,"form",18),ae("ngSubmit",function(){Zt(n);let o=yt();return Qt(o.sendMessage())}),C(18,"input",19),Dl("ngModelChange",function(o){Zt(n);let i=yt();return pp(i.currentMessage,o)||(i.currentMessage=o),Qt(o)}),_(),C(19,"button",20),T(20," \u2191 "),_()()()()}if(e&2){let n=yt();q(13),Cn(n.messages()),q(2),$i(n.isThinking()?15:-1),q(3),_l("ngModel",n.currentMessage),st("disabled",n.isThinking()),q(),st("disabled",!n.currentMessage.trim()||n.isThinking())}}function ZO(e,t){e&1&&(C(0,"span",25),T(1,"A"),_())}function QO(e,t){e&1&&(C(0,"span",26),T(1,"\u2193"),_())}var lc=class e{constructor(){this.aiService=D(ac);this.isOpen=oe(!1);this.isThinking=oe(!1);this.messages=oe([{role:"model",text:"Bonjour. Je suis Aura. Comment puis-je sublimer votre exp\xE9rience aujourd'hui ?"}]);this.currentMessage="";this.chatSession=null;Aa(()=>{this.messages(),setTimeout(()=>this.scrollToBottom(),50)})}toggleChat(){this.isOpen.update(t=>!t),this.isOpen()&&!this.chatSession&&(this.chatSession=this.aiService.createChat())}async sendMessage(){if(!this.currentMessage.trim()||!this.chatSession)return;let t=this.currentMessage;this.currentMessage="",this.messages.update(n=>[...n,{role:"user",text:t}]),this.isThinking.set(!0);try{let n=await this.chatSession.sendMessageStream({message:t}),r="";this.messages.update(o=>[...o,{role:"model",text:""}]);for await(let o of n){let i=o.text;r+=i,this.messages.update(s=>{let a=[...s];return a[a.length-1]={role:"model",text:r},a})}}catch(n){console.error("Chat error:",n),this.messages.update(r=>[...r,{role:"model",text:"Je suis navr\xE9e, je rencontre une l\xE9g\xE8re difficult\xE9 technique. Veuillez r\xE9essayer."}])}finally{this.isThinking.set(!1)}}scrollToBottom(){this.scrollContainer&&(this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-chat-widget"]],viewQuery:function(n,r){if(n&1&&yl(WO,5),n&2){let o;vl(o=El())&&(r.scrollContainer=o.first)}},decls:6,vars:3,consts:[["scrollContainer",""],[1,"fixed","bottom-6","right-6","z-[999]","flex","flex-col","items-end","font-sans"],["class","mb-4 w-[90vw] md:w-96 h-[500px] bg-ivory shadow-2xl rounded-xl overflow-hidden border border-bronze/20 flex flex-col animate-fade-in-up origin-bottom-right transition-all",4,"ngIf"],[1,"group","w-14","h-14","rounded-full","bg-deepBlack","text-ivory","shadow-lg","flex","items-center","justify-center","hover:scale-105","transition-all","duration-300","hover:bg-bronze","relative","overflow-hidden",3,"click"],[1,"absolute","inset-0","bg-bronze","translate-y-full","group-hover:translate-y-0","transition-transform","duration-300"],["class","relative z-10 text-2xl font-serif italic",4,"ngIf"],["class","relative z-10 text-xl",4,"ngIf"],[1,"mb-4","w-[90vw]","md:w-96","h-[500px]","bg-ivory","shadow-2xl","rounded-xl","overflow-hidden","border","border-bronze/20","flex","flex-col","animate-fade-in-up","origin-bottom-right","transition-all"],[1,"bg-deepBlack","p-4","flex","justify-between","items-center","text-ivory"],[1,"flex","items-center","gap-3"],[1,"w-2","h-2","rounded-full","bg-green-500","animate-pulse"],[1,"font-serif","italic","text-lg"],[1,"text-[10px]","uppercase","tracking-widest","opacity-60"],[1,"opacity-50","hover:opacity-100","transition-opacity","text-xl",3,"click"],[1,"flex-1","overflow-y-auto","p-4","space-y-4","bg-[#fcfbf9]"],[3,"class"],[1,"flex","justify-start"],[1,"p-4","bg-white","border-t","border-black/5"],[1,"relative",3,"ngSubmit"],["type","text","name","message","placeholder","Posez une question...",1,"w-full","bg-ivory","border","border-black/10","rounded-full","py-3","pl-4","pr-12","text-sm","focus:outline-none","focus:border-bronze","transition-colors","text-deepBlack","placeholder:text-black/30",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"absolute","right-2","top-1/2","-translate-y-1/2","w-8","h-8","bg-deepBlack","text-ivory","rounded-full","flex","items-center","justify-center","hover:bg-bronze","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"bg-white","border","border-black/5","p-3","rounded-lg","rounded-bl-none","shadow-sm","flex","gap-1"],[1,"w-1.5","h-1.5","bg-charcoal/40","rounded-full","animate-bounce"],[1,"w-1.5","h-1.5","bg-charcoal/40","rounded-full","animate-bounce",2,"animation-delay","0.1s"],[1,"w-1.5","h-1.5","bg-charcoal/40","rounded-full","animate-bounce",2,"animation-delay","0.2s"],[1,"relative","z-10","text-2xl","font-serif","italic"],[1,"relative","z-10","text-xl"]],template:function(n,r){n&1&&(C(0,"div",1),Ui(1,KO,21,4,"div",2),C(2,"button",3),ae("click",function(){return r.toggleChat()}),j(3,"div",4),Ui(4,ZO,2,0,"span",5)(5,QO,2,0,"span",6),_()()),n&2&&(q(),st("ngIf",r.isOpen()),q(3),st("ngIf",!r.isOpen()),q(),st("ngIf",r.isOpen()))},dependencies:[le,Dp,V_,Du,Lo,vu,Eu,Eh,vh],encapsulation:2})}};var uc=class e{constructor(){this.isLoading=oe(!0);setTimeout(()=>{this.isLoading.set(!1)},2500),typeof window<"u"&&window.addEventListener("mousemove",t=>{let n=document.getElementById("cursor-dot"),r=document.getElementById("cursor-outline");n&&r&&(n.style.transform=`translate(${t.clientX}px, ${t.clientY}px)`,r.style.transform=`translate(${t.clientX-12}px, ${t.clientY-12}px)`)})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-root"]],decls:11,vars:6,consts:[[1,"fixed","inset-0","z-[9999]","bg-ivory","flex","flex-col","items-center","justify-center","transition-all","duration-1000","ease-in-out"],[1,"overflow-hidden"],[1,"font-serif","text-5xl","md:text-7xl","italic","text-deepBlack","tracking-tighter","opacity-0","animate-[fadeInUp_1.6s_cubic-bezier(0.16,1,0.3,1)_forwards]"],[1,"mt-4","overflow-hidden"],[1,"text-[10px]","uppercase","tracking-[0.4em]","text-bronze","opacity-0","animate-[fadeInUp_1.6s_cubic-bezier(0.16,1,0.3,1)_0.3s_forwards]"],["id","cursor-dot",1,"fixed","top-0","left-0","w-2","h-2","bg-bronze","rounded-full","pointer-events-none","z-[100]","transition-transform","duration-100","ease-out","hidden","md:block"],["id","cursor-outline",1,"fixed","top-0","left-0","w-8","h-8","border","border-bronze/50","rounded-full","pointer-events-none","z-[100]","transition-transform","duration-300","ease-out","-translate-x-3","-translate-y-3","hidden","md:block"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1)(2,"h1",2),T(3," Maison Aura "),_()(),C(4,"div",3)(5,"p",4),T(6," Paris \u2022 1er Arrondissement "),_()()(),j(7,"router-outlet")(8,"app-chat-widget")(9,"div",5)(10,"div",6)),n&2&&be("opacity-0",!r.isLoading())("invisible",!r.isLoading())("pointer-events-none",!r.isLoading())},dependencies:[as,lc,le],encapsulation:2})}};var jo=class e{constructor(){this.isScrolled=oe(!1);this.isMenuOpen=oe(!1)}onWindowScroll(){this.isScrolled.set(window.scrollY>50)}toggleMenu(){this.isMenuOpen.update(t=>!t)}closeMenu(){this.isMenuOpen.set(!1)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-header"]],hostBindings:function(n,r){n&1&&ae("scroll",function(){return r.onWindowScroll()},Hf)},decls:28,vars:30,consts:[[1,"fixed","top-0","left-0","right-0","z-50","border-b","transition-all","duration-700","ease-[cubic-bezier(0.32,0.72,0,1)]"],[1,"container","mx-auto","px-6","md:px-12","flex","justify-between","items-center"],[1,"hidden","md:flex","items-center","gap-8"],["routerLink","/","fragment","services",1,"text-xs","uppercase","tracking-widest","text-charcoal","hover:text-bronze","transition-colors"],["routerLink","/","fragment","gallery",1,"text-xs","uppercase","tracking-widest","text-charcoal","hover:text-bronze","transition-colors"],["routerLink","/",1,"relative","z-10","group"],[1,"font-serif","text-3xl","italic","text-deepBlack","tracking-tight"],["routerLink","/","fragment","team",1,"text-xs","uppercase","tracking-widest","text-charcoal","hover:text-bronze","transition-colors"],["routerLink","/booking",1,"text-xs","uppercase","tracking-widest","text-ivory","bg-deepBlack","px-6","py-2","hover:bg-bronze","transition-colors","duration-300"],[1,"md:hidden","relative","z-50","w-10","h-10","flex","flex-col","justify-center","items-center","gap-[6px]","group",3,"click"],[1,"w-6","h-[1px]","bg-deepBlack","transition-all","duration-300","origin-center"],[1,"w-6","h-[1px]","bg-deepBlack","transition-opacity","duration-300"],[1,"fixed","inset-0","bg-ivory","z-40","flex","flex-col","items-center","justify-center","gap-8","transition-opacity","duration-500","md:hidden"],["routerLink","/","fragment","services",1,"font-serif","text-3xl","italic","text-deepBlack",3,"click"],["routerLink","/","fragment","gallery",1,"font-serif","text-3xl","italic","text-deepBlack",3,"click"],["routerLink","/","fragment","team",1,"font-serif","text-3xl","italic","text-deepBlack",3,"click"],["routerLink","/booking",1,"font-sans","text-xs","uppercase","tracking-widest","bg-deepBlack","text-ivory","px-8","py-3",3,"click"]],template:function(n,r){n&1&&(C(0,"header",0)(1,"div",1)(2,"nav",2)(3,"a",3),T(4,"Services"),_(),C(5,"a",4),T(6,"Galerie"),_()(),C(7,"a",5)(8,"h1",6),T(9,"Maison Aura"),_()(),C(10,"nav",2)(11,"a",7),T(12,"L'\xC9quipe"),_(),C(13,"a",8),T(14,"R\xE9server"),_()(),C(15,"button",9),ae("click",function(){return r.toggleMenu()}),j(16,"span",10)(17,"span",11)(18,"span",10),_()(),C(19,"div",12)(20,"a",13),ae("click",function(){return r.closeMenu()}),T(21,"Services"),_(),C(22,"a",14),ae("click",function(){return r.closeMenu()}),T(23,"Galerie"),_(),C(24,"a",15),ae("click",function(){return r.closeMenu()}),T(25,"L'\xC9quipe"),_(),C(26,"a",16),ae("click",function(){return r.closeMenu()}),T(27,"R\xE9server"),_()()()),n&2&&(be("py-4",r.isScrolled())("py-8",!r.isScrolled())("bg-ivory/80",r.isScrolled())("bg-transparent",!r.isScrolled())("backdrop-blur-md",r.isScrolled())("backdrop-blur-none",!r.isScrolled())("border-deepBlack/5",r.isScrolled())("border-transparent",!r.isScrolled()),q(16),be("rotate-45",r.isMenuOpen())("translate-y-[7px]",r.isMenuOpen()),q(),be("opacity-0",r.isMenuOpen()),q(),be("-rotate-45",r.isMenuOpen())("-translate-y-[7px]",r.isMenuOpen()),q(),be("opacity-0",!r.isMenuOpen())("pointer-events-none",!r.isMenuOpen()))},dependencies:[le,Kn],encapsulation:2})}};var Wo=class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-footer"]],decls:50,vars:0,consts:[[1,"bg-deepBlack","text-offWhite","py-20","px-6"],[1,"container","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-12","mb-20"],[1,"col-span-1","md:col-span-1"],[1,"font-serif","text-2xl","italic","mb-6"],[1,"text-white/60","text-sm","leading-relaxed"],[1,"text-xs","uppercase","tracking-widest","text-bronze","mb-6"],[1,"space-y-4","text-sm","text-white/80"],["routerLink","/","fragment","services",1,"hover:text-white","transition-colors","relative","group"],[1,"absolute","left-0","bottom-0","w-0","h-[1px]","bg-white","transition-all","duration-300","group-hover:w-full"],["routerLink","/","fragment","gallery",1,"hover:text-white","transition-colors","relative","group"],["routerLink","/booking",1,"hover:text-white","transition-colors","relative","group"],[1,"flex","gap-4"],["href","#",1,"w-10","h-10","rounded-full","border","border-white/20","flex","items-center","justify-center","hover:bg-white","hover:text-black","transition-all","duration-300"],[1,"pt-8","border-t","border-white/10","flex","flex-col","md:flex-row","justify-between","items-center","text-xs","text-white/40","gap-4"],[1,"flex","gap-6"],["href","#",1,"hover:text-white"]],template:function(n,r){n&1&&(C(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),T(5,"Maison Aura"),_(),C(6,"p",5),T(7," L'excellence capillaire est une question de d\xE9tails. Une exp\xE9rience sensorielle unique au c\u0153ur de la ville. "),_()(),C(8,"div")(9,"h3",6),T(10,"Explorer"),_(),C(11,"ul",7)(12,"li")(13,"a",8),T(14," Services "),j(15,"span",9),_()(),C(16,"li")(17,"a",10),T(18," Galerie "),j(19,"span",9),_()(),C(20,"li")(21,"a",11),T(22," R\xE9server "),j(23,"span",9),_()()()(),C(24,"div")(25,"h3",6),T(26,"Contact"),_(),C(27,"ul",7)(28,"li"),T(29,"12 Rue du Faubourg, Paris"),_(),C(30,"li"),T(31,"+33 1 40 20 30 40"),_(),C(32,"li"),T(33,"bonjour@maisonaura.com"),_()()(),C(34,"div")(35,"h3",6),T(36,"Social"),_(),C(37,"div",12)(38,"a",13),T(39,"IG"),_(),C(40,"a",13),T(41,"FB"),_()()()(),C(42,"div",14)(43,"p"),T(44,"\xA9 2024 Maison Aura. Tous droits r\xE9serv\xE9s."),_(),C(45,"div",15)(46,"a",16),T(47,"Mentions L\xE9gales"),_(),C(48,"a",16),T(49,"Confidentialit\xE9"),_()()()()())},dependencies:[le,Kn],encapsulation:2})}};var XO=["*"],Jo=class e{constructor(){this.variant=yo("primary");this.disabled=yo(!1);this.fullWidth=yo(!1);this.onClick=OE();this.customClass=Xe(()=>{let t=this.fullWidth()?"w-full":"inline-block";switch(this.variant()){case"primary":return`${t} bg-deepBlack text-ivory border border-deepBlack`;case"outline":return`${t} bg-transparent text-deepBlack border border-deepBlack`;case"dark":return`${t} bg-ivory text-deepBlack border border-ivory`;default:return t}});this.textClass=Xe(()=>(this.variant()==="dark","group-hover:text-ivory transition-colors duration-300"));this.fillClass=Xe(()=>{switch(this.variant()){case"dark":return"bg-bronze";case"outline":return"bg-deepBlack";default:return"bg-bronze"}})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-button"]],inputs:{variant:[1,"variant"],disabled:[1,"disabled"],fullWidth:[1,"fullWidth"]},outputs:{onClick:"onClick"},ngContentSelectors:XO,decls:4,vars:7,consts:[[3,"click","disabled"]],template:function(n,r){n&1&&(dp(),go(0,"button",0),ml("click",function(i){return r.onClick.emit(i)}),go(1,"span"),fp(2),mo(),hl(3,"div"),mo()),n&2&&(zn("group relative overflow-hidden px-8 py-4 transition-all duration-300 "+r.customClass()),gl("disabled",r.disabled()),q(),zn("relative z-10 flex items-center justify-center gap-2 font-sans text-sm tracking-widest uppercase "+r.textClass()),q(2),zn("absolute inset-0 z-0 h-full w-full translate-y-full transition-transform duration-500 ease-out group-hover:translate-y-0 "+r.fillClass()))},dependencies:[le],encapsulation:2})}};var cc=class e{scrollToIntro(){document.getElementById("intro")?.scrollIntoView({behavior:"smooth"})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-hero"]],decls:19,vars:0,consts:[[1,"relative","h-screen","w-full","overflow-hidden","flex","items-center","justify-center"],[1,"absolute","inset-0","z-0"],["src","https://images.unsplash.com/photo-1633681926022-84c23e8cb2d6?q=80&w=2574&auto=format&fit=crop","alt","Salon Interior",1,"w-full","h-full","object-cover","animate-[scale_20s_ease-out_infinite]","scale-100","opacity-90"],[1,"absolute","inset-0","bg-black/20"],[1,"relative","z-10","text-center","px-6","max-w-4xl","mx-auto"],[1,"text-ivory/90","text-sm","uppercase","tracking-[0.2em]","mb-6","animate-fade-in-up"],[1,"font-serif","text-5xl","md:text-7xl","lg:text-8xl","text-ivory","mb-8","italic","leading-tight"],[1,"block","animate-fade-in-up",2,"animation-delay","0.1s"],[1,"block","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"animate-fade-in-up",2,"animation-delay","0.4s"],["variant","dark",3,"onClick"],[1,"absolute","bottom-10","left-1/2","-translate-x-1/2","flex","flex-col","items-center","gap-2","opacity-60","animate-bounce"],[1,"text-[10px]","uppercase","text-ivory","tracking-widest"],[1,"w-[1px]","h-12","bg-ivory"]],template:function(n,r){n&1&&(C(0,"section",0)(1,"div",1),j(2,"img",2)(3,"div",3),_(),C(4,"div",4)(5,"p",5),T(6," Paris \u2014 1er Arrondissement "),_(),C(7,"h1",6)(8,"span",7),T(9,"L'Art de la"),_(),C(10,"span",8),T(11,"Coiffure"),_()(),C(12,"div",9)(13,"app-button",10),ae("onClick",function(){return r.scrollToIntro()}),T(14,"D\xE9couvrir l'univers"),_()()(),C(15,"div",11)(16,"span",12),T(17,"Scroll"),_(),j(18,"div",13),_()())},dependencies:[le,Jo],encapsulation:2})}};var nt=class e{constructor(){this.el=D(Fe);this.observer=null}ngAfterViewInit(){this.el.nativeElement.classList.add("opacity-0","translate-y-8","transition-all","duration-700","ease-out"),this.observer=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&(this.el.nativeElement.classList.remove("opacity-0","translate-y-8"),this.el.nativeElement.classList.add("opacity-100","translate-y-0"),this.observer?.unobserve(n.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),this.observer.observe(this.el.nativeElement)}ngOnDestroy(){this.observer&&this.observer.disconnect()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=ce({type:e,selectors:[["","appReveal",""]]})}};var dc=class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-intro"]],decls:11,vars:0,consts:[["id","intro",1,"py-32","px-6","bg-ivory","text-center"],[1,"container","mx-auto","max-w-3xl"],["appReveal","",1,"space-y-8"],[1,"block","w-[1px]","h-16","bg-bronze","mx-auto","mb-8"],[1,"font-serif","text-3xl","md:text-5xl","text-deepBlack","leading-snug"],[1,"font-sans","text-charcoal/70","text-lg","leading-relaxed","max-w-2xl","mx-auto"],[1,"pt-8"],[1,"font-serif","text-xl","italic","text-bronze"]],template:function(n,r){n&1&&(C(0,"section",0)(1,"div",1)(2,"div",2),j(3,"span",3),C(4,"h2",4),T(5,` "Nous croyons que la beaut\xE9 r\xE9side dans l'harmonie entre votre personnalit\xE9 et notre savoir-faire." `),_(),C(6,"p",5),T(7," Chez Maison Aura, chaque rendez-vous est une c\xE9r\xE9monie. Nous prenons le temps d'\xE9couter, d'observer et de comprendre pour r\xE9v\xE9ler votre nature la plus authentique. "),_(),C(8,"div",6)(9,"span",7),T(10,"- \xC9lodie & Thomas, Fondateurs"),_()()()()())},dependencies:[le,nt],encapsulation:2})}};function eL(e,t){if(e&1){let n=br();C(0,"div",6)(1,"button",8),ae("click",function(){let o=Zt(n).$index,i=yt();return Qt(i.toggle(o))}),C(2,"span",9),T(3),_(),C(4,"div",10)(5,"span",11),T(6),_(),C(7,"span",12),T(8,"+"),_()()(),C(9,"div",13)(10,"div",14)(11,"p",15),T(12),_(),C(13,"div",16)(14,"span",17),T(15),_(),C(16,"a",18),T(17,"R\xE9server"),_()()()()()}if(e&2){let n=t.$implicit,r=t.$index,o=yt();q(3),_n(n.name),q(3),_n(n.price),q(),be("rotate-45",o.expandedIndex()===r),q(2),be("max-h-0",o.expandedIndex()!==r)("max-h-64",o.expandedIndex()===r)("opacity-0",o.expandedIndex()!==r)("opacity-100",o.expandedIndex()===r),q(3),kt(" ",n.description," "),q(3),_n(n.duration)}}var fc=class e{constructor(){this.expandedIndex=oe(0);this.services=[{name:"La Coupe Signature",price:"95\u20AC",description:"Une consultation approfondie suivie d'un shampoing relaxant, d'une coupe structur\xE9e sur-mesure et d'un coiffage naturel. L'essence de notre savoir-faire.",duration:"1h 15min"},{name:"Balayage Lumi\xE8re",price:"\xE0 partir de 160\u20AC",description:"Notre technique exclusive pour apporter de la profondeur et des reflets naturels comme au retour de vacances. Patine incluse pour une brillance absolue.",duration:"2h 30min"},{name:"Soin Profond Tokyo",price:"120\u20AC",description:"Le rituel japonais l\xE9gendaire pour r\xE9parer intens\xE9ment la fibre capillaire. 5 \xE9tapes pour des cheveux transform\xE9s, soyeux et l\xE9gers.",duration:"1h 00min"},{name:"Coloration V\xE9g\xE9tale",price:"110\u20AC",description:"Une approche douce de la couleur, respectueuse de votre cuir chevelu et de l'environnement. Couvrance parfaite et reflets chauds.",duration:"2h 00min"}]}toggle(t){this.expandedIndex.update(n=>n===t?null:t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-services"]],decls:11,vars:0,consts:[["id","services",1,"bg-deepBlack","text-offWhite","py-32","px-6"],[1,"container","mx-auto","max-w-4xl"],["appReveal","",1,"mb-20","text-center"],[1,"text-bronze","text-xs","uppercase","tracking-widest","mb-4","block"],[1,"font-serif","text-4xl","md:text-5xl","italic","text-ivory"],[1,"flex","flex-col"],["appReveal","",1,"border-t","border-white/10","group"],[1,"border-t","border-white/10"],[1,"w-full","py-8","flex","justify-between","items-center","text-left","hover:text-bronze","transition-colors","duration-300",3,"click"],[1,"font-serif","text-2xl","md:text-3xl","italic"],[1,"flex","items-center","gap-8"],[1,"font-sans","text-sm","tracking-wider","opacity-60"],[1,"transform","transition-transform","duration-300","text-bronze"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"pb-8","pl-0","md:pl-12","flex","flex-col","md:flex-row","gap-8","items-start","md:items-center","justify-between"],[1,"text-white/60","text-sm","max-w-lg","leading-relaxed"],[1,"flex","items-center","gap-6","shrink-0"],[1,"text-xs","uppercase","tracking-wider","text-white/40"],["routerLink","/booking",1,"text-xs","uppercase","tracking-widest","border","border-white/20","px-6","py-2","hover:bg-white","hover:text-black","transition-all"]],template:function(n,r){n&1&&(C(0,"section",0)(1,"div",1)(2,"div",2)(3,"span",3),T(4,"Notre Carte"),_(),C(5,"h2",4),T(6,"Soins & Services"),_()(),C(7,"div",5),En(8,eL,18,14,"div",6,vn),j(10,"div",7),_()()()),n&2&&(q(8),Cn(r.services))},dependencies:[le,nt,Kn],encapsulation:2})}};function tL(e,t){if(e&1&&(C(0,"div",7),j(1,"img",8)(2,"div",9),_()),e&2){let n=t.$implicit;q(),st("ngSrc",n.url)("alt",n.alt)}}var pc=class e{constructor(){this.images=[{url:"https://images.unsplash.com/photo-1620331311520-246422fd82f9?q=80&w=1000&auto=format&fit=crop",alt:"Haircut in progress"},{url:"https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?q=80&w=1000&auto=format&fit=crop",alt:"Interior Detail"},{url:"https://images.unsplash.com/photo-1562322140-8baeececf3df?q=80&w=1000&auto=format&fit=crop",alt:"Stylist working"},{url:"https://images.unsplash.com/photo-1633681926022-84c23e8cb2d6?q=80&w=1000&auto=format&fit=crop",alt:"Salon Atmosphere"},{url:"https://images.unsplash.com/photo-1571781926291-28b46877b8b5?q=80&w=1000&auto=format&fit=crop",alt:"Product Detail"}]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-gallery"]],decls:12,vars:0,consts:[["id","gallery",1,"bg-ivory","py-32","overflow-hidden"],[1,"container","mx-auto","px-6","mb-12","flex","justify-between","items-end"],["appReveal",""],[1,"text-bronze","text-xs","uppercase","tracking-widest","mb-4","block"],[1,"font-serif","text-4xl","italic","text-deepBlack"],[1,"hidden","md:block","text-xs","uppercase","tracking-widest","text-charcoal/40"],[1,"flex","overflow-x-auto","no-scrollbar","snap-x","snap-mandatory","pb-12","gap-6","px-6","md:px-12"],[1,"snap-center","shrink-0","w-[80vw]","md:w-[400px]","aspect-[3/4]","relative","overflow-hidden","group"],["width","400","height","533",1,"w-full","h-full","object-cover","transition-transform","duration-1000","group-hover:scale-105",3,"ngSrc","alt"],[1,"absolute","inset-0","bg-black/20","opacity-0","group-hover:opacity-100","transition-opacity","duration-500"]],template:function(n,r){n&1&&(C(0,"section",0)(1,"div",1)(2,"div",2)(3,"span",3),T(4,"Inspirations"),_(),C(5,"h2",4),T(6,"L'Atelier"),_()(),C(7,"div",5),T(8," Glisser pour explorer \u2192 "),_()(),C(9,"div",6),En(10,tL,3,2,"div",7,vn),_()()),n&2&&(q(10),Cn(r.images))},dependencies:[le,nt,JE],encapsulation:2})}};var hc=class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-team"]],decls:38,vars:0,consts:[["id","team",1,"py-32","px-6","bg-white"],[1,"container","mx-auto"],[1,"grid","grid-cols-1","lg:grid-cols-12","gap-12","items-start"],["appReveal","",1,"lg:col-span-4","lg:sticky","lg:top-32"],[1,"text-bronze","text-xs","uppercase","tracking-widest","mb-4","block"],[1,"font-serif","text-4xl","md:text-5xl","italic","text-deepBlack","mb-8"],[1,"text-charcoal/70","mb-8","leading-relaxed"],[1,"text-charcoal/70","leading-relaxed"],[1,"lg:col-span-8","grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"flex","flex-col","gap-6","pt-12"],["appReveal","",1,"relative","group","overflow-hidden","h-[600px]"],["src","https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?q=80&w=800&auto=format&fit=crop","width","400","height","600","alt","Thomas",1,"w-full","h-full","object-cover","grayscale","group-hover:grayscale-0","transition-all","duration-700"],[1,"absolute","bottom-0","left-0","p-8","bg-gradient-to-t","from-black/80","via-black/40","to-transparent","w-full","opacity-0","group-hover:opacity-100","transition-opacity","duration-500"],[1,"text-ivory","font-serif","text-2xl","italic"],[1,"text-ivory/70","text-xs","uppercase","tracking-widest","mt-1"],[1,"text-ivory/60","text-sm","mt-3","font-light"],[1,"flex","flex-col","gap-6"],["appReveal","",1,"relative","group","overflow-hidden","h-[400px]"],["src","https://images.unsplash.com/photo-1580618672591-eb180b1a973f?q=80&w=800&auto=format&fit=crop","width","400","height","500","alt","Sarah",1,"w-full","h-full","object-cover","grayscale","group-hover:grayscale-0","transition-all","duration-700"],[1,"absolute","bottom-0","left-0","p-6","bg-gradient-to-t","from-black/80","to-transparent","w-full","opacity-0","group-hover:opacity-100","transition-opacity","duration-500"],[1,"text-ivory","font-serif","text-xl","italic"],[1,"text-ivory/70","text-xs","uppercase","tracking-widest"],["src","https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=800&auto=format&fit=crop","width","400","height","500","alt","Lucas",1,"w-full","h-full","object-cover","grayscale","group-hover:grayscale-0","transition-all","duration-700"]],template:function(n,r){n&1&&(C(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),T(5,"Les Experts"),_(),C(6,"h2",5),T(7,"L'\xC2me de la Maison"),_(),C(8,"p",6),T(9," Une \xE9quipe passionn\xE9e, form\xE9e aux derni\xE8res techniques internationales de Londres \xE0 Tokyo. Chacun apporte sa signature unique pour sublimer votre style, dans une approche respectueuse de la mati\xE8re. "),_(),C(10,"p",7),T(11,' "La technique ne doit jamais se voir, elle doit se ressentir dans le mouvement et la lumi\xE8re du cheveu." '),_()(),C(12,"div",8)(13,"div",9)(14,"div",10),j(15,"img",11),C(16,"div",12)(17,"p",13),T(18,"Thomas"),_(),C(19,"p",14),T(20,"Directeur Artistique"),_(),C(21,"p",15),T(22,"Sp\xE9cialiste coupe \xE0 sec & architecture du cheveu."),_()()()(),C(23,"div",16)(24,"div",17),j(25,"img",18),C(26,"div",19)(27,"p",20),T(28,"Sarah"),_(),C(29,"p",21),T(30,"Ma\xEEtre Coloriste"),_()()(),C(31,"div",17),j(32,"img",22),C(33,"div",19)(34,"p",20),T(35,"Lucas"),_(),C(36,"p",21),T(37,"Expert Soins & Textures"),_()()()()()()()())},dependencies:[le,nt],encapsulation:2})}};function nL(e,t){if(e&1){let n=br();C(0,"button",9),ae("click",function(){let o=Zt(n).$index,i=yt();return Qt(i.setIndex(o))}),_()}if(e&2){let n=t.$index,r=yt();be("bg-bronze",r.currentIndex()===n)("bg-white/20",r.currentIndex()===n)}}var gc=class e{constructor(){this.currentIndex=oe(0);this.reviews=[{text:"Une exp\xE9rience hors du temps. Je n'ai jamais eu une couleur aussi vibrante et naturelle.",author:"Marie L.",service:"Balayage Lumi\xE8re"},{text:"Le cadre est somptueux, l'\xE9quipe aux petits soins. C'est mon moment de luxe mensuel.",author:"Sophie D.",service:"Soin Tokyo"},{text:"Thomas a su exactement ce qu'il me fallait sans que je dise un mot. Un vrai artiste.",author:"Camille R.",service:"Coupe Signature"}];this.currentReview=Xe(()=>this.reviews[this.currentIndex()])}setIndex(t){this.currentIndex.set(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-testimonials"]],decls:15,vars:3,consts:[[1,"bg-deepBlack","text-ivory","py-32","px-6","relative","overflow-hidden"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","font-serif","text-[20rem]","text-white/[0.02]","italic","pointer-events-none","select-none"],[1,"container","mx-auto","max-w-2xl","relative","z-10","text-center"],["appReveal","",1,"min-h-[250px]","flex","flex-col","justify-center"],[1,"font-serif","text-2xl","md:text-3xl","italic","leading-relaxed","mb-8"],[1,"text-xs","uppercase","tracking-widest","text-bronze","mb-2"],[1,"text-white/40","text-xs"],[1,"flex","justify-center","gap-4","mt-8"],[1,"w-2","h-2","rounded-full","transition-all","duration-300",3,"bg-bronze","bg-white/20"],[1,"w-2","h-2","rounded-full","transition-all","duration-300",3,"click"]],template:function(n,r){n&1&&(C(0,"section",0)(1,"div",1),T(2,' " '),_(),C(3,"div",2)(4,"div",3)(5,"p",4),T(6),_(),C(7,"div")(8,"p",5),T(9),_(),C(10,"p",6),T(11),_()()(),C(12,"div",7),En(13,nL,1,4,"button",8,vn),_()()()),n&2&&(q(6),kt(" ",r.currentReview().text," "),q(3),_n(r.currentReview().author),q(2),_n(r.currentReview().service),q(2),Cn(r.reviews))},dependencies:[le,nt],encapsulation:2})}};var mc=class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=se({type:e,selectors:[["app-home"]],decls:9,vars:0,template:function(n,r){n&1&&(j(0,"app-header"),C(1,"main"),j(2,"app-hero")(3,"app-intro")(4,"app-services")(5,"app-gallery")(6,"app-team")(7,"app-testimonials"),_(),j(8,"app-footer"))},dependencies:[le,jo,Wo,cc,dc,fc,pc,hc,gc],encapsulation:2})}};function rL(e,t){e&1&&(C(0,"p",28),T(1," Demande envoy\xE9e avec succ\xE8s. Nous vous rappellerons sous 2h. "),_())}var yc=class e{constructor(t){this.fb=t;this.isSubmitting=oe(!1);this.successMessage=oe(!1);this.bookingForm=this.fb.group({name:["",Zn.required],email:["",[Zn.required,Zn.email]],service:["",Zn.required],date:["",Zn.required]})}onSubmit(){this.bookingForm.valid&&(this.isSubmitting.set(!0),setTimeout(()=>{this.isSubmitting.set(!1),this.successMessage.set(!0),this.bookingForm.reset(),setTimeout(()=>this.successMessage.set(!1),5e3)},1500))}static{this.\u0275fac=function(n){return new(n||e)(L(L_))}}static{this.\u0275cmp=se({type:e,selectors:[["app-booking"]],decls:60,vars:5,consts:[[1,"pt-32","pb-20","px-6","bg-ivory","min-h-screen"],[1,"container","mx-auto","max-w-5xl"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-16"],["appReveal","",1,"space-y-8"],[1,"text-bronze","text-xs","uppercase","tracking-widest","mb-4","block"],[1,"font-serif","text-5xl","italic","text-deepBlack","mb-6"],[1,"text-charcoal/70","leading-relaxed"],[1,"space-y-6","pt-8","border-t","border-charcoal/10"],[1,"font-serif","text-xl","italic","mb-2"],[1,"text-sm","text-charcoal/60"],["appReveal","",1,"bg-white","p-8","md:p-12","shadow-sm","border","border-black/5"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"relative","pt-4"],["type","text","id","name","formControlName","name","placeholder"," ",1,"peer","w-full","border-b","border-charcoal/20","bg-transparent","py-2","text-sm","text-deepBlack","focus:border-bronze","focus:outline-none","transition-colors"],["for","name",1,"absolute","left-0","top-2","text-xs","text-charcoal/50","transition-all","peer-placeholder-shown:top-6","peer-placeholder-shown:text-sm","peer-focus:top-2","peer-focus:text-xs","peer-focus:text-bronze"],["type","email","id","email","formControlName","email","placeholder"," ",1,"peer","w-full","border-b","border-charcoal/20","bg-transparent","py-2","text-sm","text-deepBlack","focus:border-bronze","focus:outline-none","transition-colors"],["for","email",1,"absolute","left-0","top-2","text-xs","text-charcoal/50","transition-all","peer-placeholder-shown:top-6","peer-placeholder-shown:text-sm","peer-focus:top-2","peer-focus:text-xs","peer-focus:text-bronze"],["formControlName","service",1,"w-full","border-b","border-charcoal/20","bg-transparent","py-2","text-sm","text-deepBlack","focus:border-bronze","focus:outline-none","rounded-none","appearance-none"],["value","","disabled","","selected",""],["value","coupe"],["value","balayage"],["value","soin"],["value","couleur"],[1,"absolute","right-0","top-6","pointer-events-none","text-charcoal/40"],["type","date","id","date","formControlName","date",1,"peer","w-full","border-b","border-charcoal/20","bg-transparent","py-2","text-sm","text-deepBlack","focus:border-bronze","focus:outline-none","transition-colors"],["for","date",1,"absolute","left-0","-top-1","text-xs","text-charcoal/50"],[1,"pt-8"],[3,"fullWidth","disabled"],[1,"mt-4","text-center","text-green-600","text-sm","animate-pulse"]],template:function(n,r){n&1&&(j(0,"app-header"),C(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div")(6,"span",4),T(7,"Rendez-vous"),_(),C(8,"h1",5),T(9,"R\xE9servez votre moment"),_(),C(10,"p",6),T(11," Pour toute demande sp\xE9cifique ou privatisation, n'h\xE9sitez pas \xE0 nous contacter directement par t\xE9l\xE9phone. "),_()(),C(12,"div",7)(13,"div")(14,"h3",8),T(15,"Horaires"),_(),C(16,"p",9),T(17,"Mardi - Samedi : 10h - 19h"),_(),C(18,"p",9),T(19,"Nocturne le Jeudi jusqu'\xE0 21h"),_()(),C(20,"div")(21,"h3",8),T(22,"Contact"),_(),C(23,"p",9),T(24,"+33 1 40 20 30 40"),_(),C(25,"p",9),T(26,"bonjour@maisonaura.com"),_()()()(),C(27,"div",10)(28,"form",11),ae("ngSubmit",function(){return r.onSubmit()}),C(29,"div",12),j(30,"input",13),C(31,"label",14),T(32," Nom Complet "),_()(),C(33,"div",12),j(34,"input",15),C(35,"label",16),T(36," Email "),_()(),C(37,"div",12)(38,"select",17)(39,"option",18),T(40,"Choisir un service"),_(),C(41,"option",19),T(42,"Coupe Signature"),_(),C(43,"option",20),T(44,"Balayage Lumi\xE8re"),_(),C(45,"option",21),T(46,"Soin Tokyo"),_(),C(47,"option",22),T(48,"Coloration V\xE9g\xE9tale"),_()(),C(49,"div",23),T(50,"\u25BC"),_()(),C(51,"div",12),j(52,"input",24),C(53,"label",25),T(54,"Date souhait\xE9e"),_()(),C(55,"div",26)(56,"app-button",27),T(57),_(),Hi(58,rL,2,0,"p",28),_()()()()()(),j(59,"app-footer")),n&2&&(q(28),st("formGroup",r.bookingForm),q(28),st("fullWidth",!0)("disabled",r.bookingForm.invalid||r.isSubmitting()),q(),kt(" ",r.isSubmitting()?"Envoi en cours...":"Confirmer la demande"," "),q(),$i(r.successMessage()?58:-1))},dependencies:[le,U_,Du,P_,F_,Lo,Iu,vu,Eu,_h,Ch,jo,Wo,Jo,nt],encapsulation:2})}};var oL=[{path:"",component:mc},{path:"booking",component:yc},{path:"**",redirectTo:""}];xp(uc,{providers:[gp(),oh(oL,sh(),ih({anchorScrolling:"enabled",scrollPositionRestoration:"enabled"}))]}).catch(e=>console.error(e));
